2005-01-31  Ben Wing  <ben@xemacs.org>

	* help.el:
	* help.el (describe-distribution): Go to appropriate FAQ entry.
	* help.el (describe-beta): Go to info file.
	* help.el (describe-project): Removed.

2005-01-27  Ben Wing  <ben@xemacs.org>

	* font-menu.el:
	* font.el:
	* font.el (internal-facep):
	* font.el (x-font-build-cache):
	* font.el (font-lookup-rgb-components):
	* frame.el (set-frame-font):
	* gtk-font-menu.el (gtk-reset-device-font-menus):
	* minibuf.el (read-color-completion-table):
	* minibuf.el (x-library-search-path): Removed.
	* minibuf.el (x-read-color-completion-table)): Removed.
	* msw-faces.el (mswindows-available-font-sizes):
	* msw-font-menu.el (mswindows-reset-device-font-menus):
	* obsolete.el:
	* x-faces.el:
	* x-faces.el (x-available-font-sizes):
	* x-faces.el (x-library-search-path): New.
	* x-faces.el (x-color-list-internal-cache)): New.
	* x-faces.el (x-color-list-internal): New.
	* x-font-menu.el (x-reset-device-font-menus):
	list-fonts->font-list.  Create color-list.  Abstract out
	x/msw-specific versions and obsolete the x/msw-specific Lisp
	functions.

2005-01-27  Ben Wing  <ben@xemacs.org>

	* subr.el:
	* subr.el (macro-declaration-function): New.
	Some synching with FSF 21.2.

2005-01-27  Ben Wing  <ben@xemacs.org>

	* gtk-marshal.el (find-file):
	Propagate hash changes to gtk-marshal.el.
	
2005-01-26  Ben Wing  <ben@xemacs.org>

	* newcomment.el:
	* newcomment.el (comment):
	* newcomment.el (comment-fill-column): New.
	* newcomment.el (comment-style):
	* newcomment.el (comment-padding):
	* newcomment.el (comment-multi-line):
	* newcomment.el (comment-normalize-vars):
	* newcomment.el (comment-indent):
	* newcomment.el (uncomment-region):
	* newcomment.el (comment-make-extra-lines):
	* newcomment.el (comment-with-narrowing):
	* newcomment.el (comment-region-internal):
	* newcomment.el (comment-region):
	* newcomment.el (comment-box):
	* newcomment.el (comment-or-uncomment-region): New.
	* newcomment.el (comment-dwim):
	* newcomment.el (comment-auto-fill-only-comments):
	* newcomment.el (comment-valid-prefix): New.
	* newcomment.el (comment-indent-new-line):
	Sync to FSF 21.3.

2005-01-26  Ben Wing  <ben@xemacs.org>

	* fill.el:
	* fill.el (canonically-space-region):
	* fill.el (fill-region-as-paragraph):
	* fill.el (justify-current-line):
	* fill.el (fill-individual-paragraphs):
	Sync for real to FSF 19.34.

	* page.el:
	* page.el (narrow-to-page):
	* register.el:
	* register.el (set-register):
	* register.el (point-to-register):
	* register.el (register-swap-out):
	* register.el (number-to-register):
	* register.el (view-register):
	* register.el (list-registers): New.
	* register.el (describe-register-1): New.
	* register.el (insert-register):
	Sync to FSF 21.3.

2005-01-26  Ben Wing  <ben@xemacs.org>

	* frame.el (display-mouse-p):
	Fix warning.

	* cl.el (cl-random-time):
	Conditionalize on coerce-number as Jerry says it's OK.

2005-01-26  Ben Wing  <ben@xemacs.org>

	* code-init.el (set-eol-detection):
	* code-init.el (coding-system-default-variable-list):
	* code-init.el (get-coding-system-variable):
	* code-init.el (set-coding-system-variable):
	Undo Stephen's change of 2004-05-11.
	Implement no-conversion-coding-system-mapping as a coding
	system variable.

2005-01-25  Ben Wing  <ben@xemacs.org>

	* startup.el:
	* startup.el (splash-frame-timeout): Removed.
	* startup.el (command-line-1):
	* startup.el (startup-presentation-hack-keymap): Removed.
	* startup.el (startup-presentation-hack-help):
	* startup.el (startup-presentation-hack): Removed.
	* startup.el (splash-frame-present): Removed.
	* startup.el (splash-screen-present): New.
	* startup.el (splash-frame-present-hack): Removed.
	* startup.el (startup-presentation-activate): New.
	* startup.el (splash-screen-present-hack): New.
	* startup.el (startup-center-spaces):
	* startup.el (splash-frame-body): Removed.
	* startup.el (splash-screen-window-body): New.
	* startup.el (splash-screen-tty-body): New.
	* startup.el (splash-frame-static-body): Removed.
	* startup.el (circulate-splash-frame-elements): Removed.
	* startup.el (display-splash-frame): Removed.
	* startup.el (splash-screen-static-body): New.
	* startup.el ('splash-frame-static-body): New.
	* startup.el (display-splash-screen): New.
	* startup.el (xemacs-splash-buffer): New.
	Rename "splash-frame" -> "splash-screen" (its change
	long ago from screen to frame happened during the general
	screen->frame sub and was a mistake).	Compress all info
	onto one screen rather than cycling through 3 of them.
	Update copyright years and some other random stuff.

	* menubar-items.el:
	* menubar-items.el (default-menubar):
	* menubar-items.el (xemacs-splash-buffer): Removed.
	frame->screen and rewrite to fix bugginess.
	Add menu items for beta and distribution info.

2005-01-25  Ben Wing  <ben@xemacs.org>

	* mouse.el:
	* mouse.el (mouse-track-activate-strokes):
	* mouse.el (mouse-track-conservative-activate-strokes): New.
	* mouse.el (Mouse-track-gensym):
	* mouse.el (mouse-track-do-activate): Removed.
	* mouse.el (default-mouse-track-check-for-activation): New.
	* mouse.el (default-mouse-track-click-hook): New.
	* mouse.el (mouse-track-down-hook):
	Redo mouse-track activation to separate out a "conservative"
	activation that is only triggered by button2 or button1 double-click
	and a regular activation also triggered by button1.

2005-01-25  Ben Wing  <ben@xemacs.org>

	* font-lock.el (c-font-lock-keywords-2): Removed.
	* font-lock.el (xemacs-c-font-lock-keywords-2): New.
	* font-lock.el (c-font-lock-keywords-3): Removed.
	* font-lock.el (xemacs-c-font-lock-keywords-3): New.
	Proper defvars.

2005-01-17  Adrian Aichner  <adrian@xemacs.org>

	* simple.el (shifted-motion-keys-select-region): Fix statement
	about unshifted-motion-keys-deselect-region.

2005-01-08  Mike Sperber  <mike@xemacs.org>

	* packages.el (packages-find-installation-package-directories): Add.

	* find-paths.el (paths-for-each-emacs-directory): Abstract FUNC
	parameter out of `paths-find-emacs-directory'.
	(paths-find-emacs-directories): Add.
	(paths-find-emacs-directory): Redefine in terms of
	`paths-for-each-emacs-directory'.
	(paths-for-each-site-directory): Add.
	(paths-find-site-directory): Redefine in terms of
	`paths-for-each-site-directory'.
	(paths-find-site-directories): Add.
	(paths-for-each-version-directory): Add.
	(paths-find-version-directory): Redefine in terms of
	`paths-for-each-version-directory'.
	(paths-find-version-directories): Add.

2005-01-09  Adrian Aichner  <adrian@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Fix typo in
	"mule-win32-init" path in preloaded-file-list, as suggected by
	Alejandro L~pez-Valencia.

2005-01-09  Adrian Aichner  <adrian@xemacs.org>

	* process.el (start-process-shell-command): Correct docstring.

2005-01-03  Mike Sperber  <mike@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Prefix Mule files with
	mule/, unbreaking the build.

2004-12-18  Mike Sperber  <mike@xemacs.org>

	* package-admin.el:
	* startup.el: Reflect the changes made in packages.el.

	* packages.el:
	* loadup.el:
	* make-docfile.el:
	* package-admin.el:
	* startup.el:
	* update-elc.el (early-package-hierarchies)
	(late-package-hierarchies)
	(last-package-hierarchies): Renamed these from `early-packages',
	`late-packages' and `last-packages'.

	* packages.el: Rewrote package-finding logic to separate the
	concepts of "package directories" and "package hierarchies".
	Added explanation of these concepts.
	
	* setup-paths.el: 
	* find-paths.el: Added parameter descriptions to some of the
	docstrings.

	* packages.el, setup-paths.el: Make terminology more explicit
	about "package hierarchies"

	* startup.el (emacs-roots, emacs-data-roots)
	(user-init-directory-base, user-init-directory)
	(user-init-file-base, user-init-file-base-list)
	(user-home-init-file-base-list)
	(load-home-init-file, load-user-init-file-p)
	(startup-find-load-path, startup-setup-paths)
	(startup-find-load-path-for-packages): Moved these back from
	setup-paths.el where they belong---setup-paths.el now again, as
	documented, contains no code that sets global variables.  (They
	were moved from startup.el to setup-paths.el on 2003-02-28.)
	Clarify that in the comment at the top.

	* setup-paths.el (paths-find-emacs-roots): Restored
	`invocation-directory' 'invocation-name' parameters removed on
	2003-02-28; they're useful for debugging.

2004-12-15  Ville Skyttä  <scop@xemacs.org>

	* bytecomp-runtime.el (make-obsolete): Add 3rd argument (no-op for
	now) for GNU Emacs compatibility.
	(make-obsolete-variable): Ditto.

2004-11-16  Stephen J. Turnbull  <stephen@xemacs.org>

	* gnuserv.el (gnuserv-edit-files): Improve docstring.

2004-12-13  Stephen J. Turnbull  <stephen@xemacs.org>

	* simple.el (next-line):
	(previous-line):
	Document effect of `signal-error-on-buffer-boundary'.

2004-12-11  Ben Wing  <ben@xemacs.org>

	* files.el (find-coding-system-magic-cookie-in-file):
	File positions are 0 based not 1 based.

2004-12-05  Ben Wing  <ben@xemacs.org>

	* info.el (Info-additional-search-directory-list):
	Correct doc string giving example package path.
	
	* menubar-items.el (default-menubar):
	Move Prefix Rectangle command up one level.

2004-11-14  Adrian Aichner  <adrian@xemacs.org>

	* mule/devan-util.el (devanagari-composite-glyph-unit): doctring
	typo fix.

2004-09-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* menubar-items.el (save-options-file):
	(save-options-init-file):
	(options-save-faces):
	Remove obsolete and unused variables.

2004-09-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* menubar-items.el (init-menubar-at-startup):
	XEmacs loads "init files", not ".emacs".

2004-11-07  Malcolm Purvis  <malcolmp@xemacs.org>

	* about.el (about-personal-info): Added my personal details.
	Added missing entry for Norbert Koch.
	* about.el (about-hacker-contribution): Added missing entry for
	Norbert Koch.

2004-11-04  Ben Wing  <ben@xemacs.org>

	* mule/mule-ccl.el (define-ccl-program):
	* mule/mule-ccl.el (TRANSLATE): New.
	* mule/mule-ccl.el (MAP): New.
	* mule/mule-ccl.el (MAP-IDs): New.
	* mule/mule-ccl.el (MAP-SET): New.
	* mule/mule-ccl.el (MAP-ID): New.
	* mule/mule-ccl.el (INT-OR-CHAR): New.
	Update docs.
	
2004-10-26  Ben Wing  <ben@xemacs.org>

	* cl-extra.el (coerce):
	* cl.el (cl-random-time):
	* wid-edit.el (widget-url-link-action):
	* widgets-gtk.el (gtk-widget-instantiate-notebook-internal):
	* dialog-gtk.el:
	* frame.el (frame-notice-user-settings):
	* frame.el (display-mouse-p):
	* frame.el (display-visual-class):
	* package-ui.el (pui-display-maintainer):
	Fix compile warnings.
	
2004-10-14  Ben Wing  <ben@xemacs.org>

	* dumped-lisp.el:
	Put in comment about extended chars in dumped files.
	
	* font-lock.el:
	* font-lock.el (lisp-font-lock-keywords-2):
	* font-lock.el (c-font-lock-keywords-2): New.
	* font-lock.el (c-font-lock-keywords-3): New.
	Add versions of C keywords for editing XEmacs source code,
	recognizing many basic XEmacs types.

	* loadup.el (really-early-error-handler):
	* unicode.el:
	* unicode.el (load-unicode-tables-at-dump-time): New.
	* unicode.el (init-unicode-at-startup): Removed.
	* mule/mule-cmds.el (init-mule-at-startup):
	Define and implement load-unicode-tables-at-dump-time.  Set this
	to true on Windows systems.  This will increase the size of the
	dumped XEmacs but allow XEmacs to be run when in a non-ASCII
	directory or with non-ASCII command-line arguments.
	
	* update-elc.el:
	* update-elc.el (unbytecompiled-lisp-files):
	* update-elc.el (additional-dump-dependencies): New.
	* update-elc.el ((preloaded-file-list site-load-packages files-to-process)):
	Add loadup.el, loadup-el.el and update-elc.el as additional
	dependencies, forcing a redump if they are changed.
	
	* win32-native.el:
	Add stuff snipped from Microsoft docs concerning how quoting
	conventions are supposed to work.

2004-10-28  Stephen J. Turnbull  <stephen@xemacs.org>

	* code-process.el (call-process-region): Fix region deletion bug.
	Report by Katsumi Yamaoka <b9yvfcyuscf.fsf@jpl.org>.

2004-10-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.18 "chestnut" is released.

2004-09-25  Jerry James  <james@xemacs.org>

	* itimer.el (start-itimer): Cannot use set-itimer-name now that
	that function does not uniquify names.

2004-09-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* startup.el (load-init-file):
	(load-user-init-file):
	Remove bogus comments.

2004-09-23  Stephen J. Turnbull  <stephen@xemacs.org>

	* about.el (xemacs-hackers): Fix Malcolm's address.

2004-09-22  Jerry James  <james@xemacs.org>

	* itimer.el (set-itimer-name): Do not uniquify names, as requested
	by Kyle Jones.

2004-09-19  Stephen J. Turnbull  <stephen@xemacs.org>

	* code-init.el: Add to header comment.
	* gtk-font-menu.el: Improve documentation.
	* unicode.el: Various comments added.
	* process.c (process-buffer):
	(set-process-buffer):
	(process-stderr-buffer):
	(set-process-stderr-buffer):
	Document interaction with filters.

2004-09-14  Stephen J. Turnbull  <stephen@xemacs.org>

	* x-font-menu.el: (x-fonts-menu-junk-families): Improve docstring.
	(hack-font-truename): Improve docstring.

	* font-menu.el (font-menu-ignore-scaled-fonts): Improve docstring.
	(font-menu-this-frame-only-p): Improve docstring.
	(font-menu-preferred-resolution): Improve docstring.
	(font-menu-size-scaling): Improve docstring.
	(device-fonts-cache): Move comment into docstring and improve it.
	(reset-device-font-menus): Improve docstring.
	(reset-device-font-menus): Move message into if; only announce
	we're getting font list if we're actually going to do it.

2003-12-14  Stephen J. Turnbull  <stephen@xemacs.org>

	* cl-macs.el (loop): Fixed typo in docstring.

2003-11-02  Stephen J. Turnbull  <stephen@xemacs.org>

	* itimer.el (check-itimer-coerce-string): Fix sense of docstring;
	markup signal name as code.
	(check-nonnegative-number): Markup signal name as code.

2004-07-12  Stephen J. Turnbull  <stephen@xemacs.org>

	* specifier.el (set-specifier): Sentences in docstrings should be
	separated with two spaces, not one.

	* find-paths.el (paths-lisp-filename-regexp): Improve docstring.

2004-07-12  Stephen J. Turnbull  <stephen@xemacs.org>

	* about.el (xemacs-hackers): Update turnbull, add viteno.
	(about-current-release-maintainers): Add martin, vin, and viteno.
	(about-other-current-hackers):
	(about-once-and-future-hackers):
	Move inactive hackers from other-current to once-and-future.
	(about-url-alist):  Add turnbull, xemacs-cvs, and xemacs-lists.
	* about.el (about-xemacs):
	Add information about package maintainers.
	Mention Vin, Stephen, and Andy w.r.t. 21.4.
	Mention Ben and Martin w.r.t. 21.2.
	(about-advantages): Mention GNU Emacs 21.
	(about-personal-info): Update turnbull.

2004-05-15  Stephen J. Turnbull  <stephen@xemacs.org>

	* specifier.el (set-specifier): Fix typo in comment.

2004-07-12  Stephen J. Turnbull  <stephen@xemacs.org>

	* about.el (about-xemacs):
	Give more precise version info.
	Compute version numbers.

2004-09-21  Jerry James  <james@xemacs.org>

	* itimer.el (start-itimer): Fix my bungling of Martin's intentions.

2004-09-20  Martin Buchholz <martin@xemacs.org>

	* itimer.el (set-itimer-name): New function.
	(start-itimer): Use it.

2003-12-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* itimer.el (activate-itimer): Modify the itimer timeout value as
	if it were begun at the last time when the itimer driver was woken
	up.

2004-09-15  Stephen J. Turnbull  <stephen@xemacs.org>

	Fix bug: apropos errors if a defalias refers to an undefined
	function.  <87pt4pmdcs.fsf@tleepslib.sk.tsukuba.ac.jp>

	* apropos.el (apropos):
	(apropos-command):
	* help.el (frob-help-extents):
	* help-macro.el (make-help-screen):
	* hyper-apropos.el (hyper-apropos-grok-functions):
	(hyper-apropos-get-doc):
	Catch void-function error thrown by `documentation'.

2004-09-07  Steve Youngs  <steve@youngs.au.com>

	* packages.el (package-require): Fix incorrect arg to format.
	This fixes a `format specifier' error.

2004-08-15  Jan Rychter <jwr@xemacs.org>

	* window-xemacs.el (really-set-window-configuration): deal
	gracefully with the case when the buffer previously saved in the
	configuration (and that we want to switch to) has been
	killed. Switch to the next buffer on the buffer-list in that case.

2004-08-13  Jerry James  <james@xemacs.org>

	* bytecomp.el (forward-word): Tell the byte compiler the correct
	number of arguments to forward-word.

2004-07-02  Malcolm Purvis  <malcolmp@xemacs.org>

	* widgets-gtk.el (gtk-widget-instantiate-notebook-internal):
	Loading items into the notebook is now done by C code.
	* widgets-gtk.el (gtk-widget-instantiate-internal):
	Style no longer changed.

2004-06-24  Jerry James  <james@xemacs.org>

	* cl-compat.el: Synch with Emacs 21.3.
	* cl-extra.el: Ditto.
	* cl-extra.el (cl-push): Removed because superfluous.
	* cl-extra.el (cl-pop): Removed because superfluous.
	* cl-extra.el (cl-emacs-type)): Removed because unused.
	* cl-extra.el (cl-map-keymap): Just alias map-keymap.
	* cl-extra.el (cl-map-keymap-recursively): Drop Emacs 18 support.
	* cl-extra.el (cl-copy-tree): Removed because superfluous.
	* cl-extra.el (cl-remprop): New alias.
	* cl-extra.el (cl-make-hash-table): New alias.
	* cl-extra.el (cl-hash-table-p): New alias.
	* cl-extra.el (cl-hash-table-count): New alias.
	* cl-macs.el: Synch with Emacs 21.3.
	* cl-macs.el (cl-push): Removed because superfluous.
	* cl-macs.el (cl-pop): Removed because superfluous.
	* cl-macs.el (cl-emacs-type): Removed because unused.
	* cl-macs.el (cl-compile-time-init): Drop Emacs 18 and 19 support.
	* cl-macs.el (return): Change arg name to match Emacs and docstring.
	* cl-macs.el (return-from): Ditto.
	* cl-macs.el (loop): Check for 'collecting as well as 'collect.
	* cl-macs.el (define-setf-expander): New alias.
	* cl-macs.el (caar): New setf method.
	* cl-macs.el (cadr): New setf method.
	* cl-macs.el (cdar): New setf method.
	* cl-macs.el (cddr): New setf method.
	* cl-macs.el (deftype): Change arg name to match Emacs and docstring.
	* cl-macs.el (ignore-errors): Change docstring to match arg name.
	* cl-seq.el: Synch with Emacs 21.3.
	* cl-seq.el (cl-push): Removed because superfluous.
	* cl-seq.el (cl-pop): Removed because superfluous.
	* cl-seq.el (mismatch): Typo fix.
	* cl.el: Synch with Emacs 21.3.
	* cl.el (cl-map-extents): Alias map-extents.
	* cl.el (values): Change from defalias to defsubst to add docstring.
	* cl.el (values-list): Ditto.
	* cl.el (multiple-value-list): Ditto.
	* cl.el (multiple-value-apply): Ditto.
	* cl.el (nth-value): Ditto.
	* cl.el (cl-abs): Alias the `abs' builtin instead.
	* cl.el (svref): New alias.
	* cl.el (cl-add-hook): Removed due to obsolescence.
	* cl.el (cl-hack-byte-compiler): Set cl-hacked-flag first for safety.

2004-06-26  Steve Youngs  <steve@youngs.au.com>

	* package-get.el (package-get-info-name-array): New.
	(package-get-info-info-array): New.
	(package-get-info): Use them, adding completion.
	(package-get-list-packages-where): Add completion.

2004-06-21  Adrian Aichner  <adrian@xemacs.org>

	* package-ui.el (pui-help-echo): Fix false cvs conflict by
	avoiding line solely composed of equal signs.

2004-06-18  Jerry James  <james@xemacs.org>

	* derived.el (define-derived-mode): Put the arguments to
	derived-mode-merge-syntax-tables in the correct order.

2004-06-17  Jerry James  <james@xemacs.org>

	* derived.el (define-derived-mode): XEmacs does not have
	char-table-parent.  Use derived-mode-merge-syntax-tables instead.

2004-06-09  Stephen J. Turnbull  <stephen@xemacs.org>

	* subr.el (split-string): Clean up docstring.

2004-06-17  Stephen J. Turnbull  <stephen@xemacs.org>

	* help.el (with-syntax-table): Removed.  (Prefer version in subr.el.)

2004-06-16  Jerry James  <james@xemacs.org>

	* cl.el (cl-set-substring): Increment start by the length of the
	string, not the string itself.

2004-06-07  Jerry James  <james@xemacs.org>

	* derived.el: Synch with Emacs 21.3.
	* subr.el (with-local-quit): New, from Emacs 21.3.
	* subr.el (delayed-mode-hooks): New variable, from Emacs 21.3.
	* subr.el (run-mode-hooks): New function, from Emacs 21.3.
	* subr.el (delay-mode-hooks): New macro, from Emacs 21.3.

2004-06-10  Adrian Aichner  <adrian@xemacs.org>

	* cus-edit.el (custom-save-variables): Fix bug introduced by
	nconc/make-list removal.
	* cus-edit.el (custom-save-faces): Ditto.

2004-06-07  Adrian Aichner  <adrian@xemacs.org>

	* cus-edit.el (custom-browse-visibility): Typo fix.
	* cus-edit.el (custom-variable-value-create): Ditto.
	* cus-edit.el (custom-save-variables): Simply use push instead of
	make-list and nconc, as suggested by Hrvoje and already used in
	21.4.
	* cus-edit.el (custom-save-faces): Ditto.

2004-06-07  Adrian Aichner  <adrian@xemacs.org>

	* mule/ethio-util.el (ethio-sera-to-fidel-region): Phrase
	duplication typo fixes for typos found by
	xemacs-builds/adrian/typology/phrase-duplication-typo.pl.
	* mule/mule-charset.el (make-translation-table): Ditto.

2004-06-07  Adrian Aichner  <adrian@xemacs.org>

	* files.el (basic-save-buffer): Ditto.
	* lisp-mode.el (eval-interactive-verbose): Ditto.
	* newcomment.el (uncomment-region): Ditto.

2003-12-03  Adrian Aichner  <adrian@xemacs.org>

	* files.el (delete-old-versions): Avoid going interactive during
	make install when environment variable VERSION_CONTROL is set.

2004-04-21  Sven Grundmann  <sven@hellerhof.de>

	* list-mode.el (display-completion-list): Fixed completion list was
	taking the width of the frame and not of the window for displaying
	the selection methods.

2004-05-21  Jerry James  <james@xemacs.org>

	* cl.el (cl-random-time): Chop a bignum down to a fixnum if
	(featurep 'bignum), not if (featurep 'number-types).

2004-05-15  Malcolm Purvis  <malcolmp@xemacs.org>

	* gtk-widgets.el: New import: gtk-accel-group-new.
	* dialog-gtk.el:
	* dialog-gtk.el (gtk-popup-convert-underscores): New.
	* dialog-gtk.el (popup-builtin-question-dialog):

	Added support for dialog button mnemonics.

2004-04-30  Stephen J. Turnbull  <stephen@xemacs.org>

	* cl.el (gensym, gentemp): Improve docstrings.

2004-05-11  Stephen J. Turnbull  <stephen@xemacs.org>

	* code-init.el (set-eol-detection): Special-case 'no-conversion.

2004-05-10  Stephen J. Turnbull  <stephen@xemacs.org>

	* isearch-mode.el (isearch-forward, isearch-abort): Document that our
	behavior of `isearch-abort' differs from that of GNU Emacs.

2004-05-08  Sven Grundmann  <sven@xemacs.org>

	* etags.el:
	* etags.el (tags-exuberant-ctags-optimization-p): Enable optimization
	only for use with exuberant ctags. This will also enable building of 
	completion tables with exuberant ctags. This will not work with
	xemacs ctags. New.
	* etags.el (get-tag-table-buffer): New function for creating of
	completion table is used if tags-exuberant-ctags-optimization-p ist t
	* etags.el (add-to-tag-completion-table-exuberant-ctags): Defun for
	building tag completion table with exuberant ctags. New.
	* etags.el (find-tag-internal): Improve exact tag matching for tags
	with name fields. Before the patch return types of functions or
	function parameters (with exuberant ctags) were found as matches.

2004-04-20  Malcolm Purvis  <malcolmpurvis@optushome.com.au>

 	* gtk-marshal.el: Return type for INT is gint, not guint.

2004-02-23  Stephen J. Turnbull  <stephen@xemacs.org>

	* isearch-mode.el (isearch-abort): Preserve successful search target.

2004-04-19  Stephen J. Turnbull  <turnbull@sk.tsukuba.ac.jp>

	* startup.el (site-start-file):
	(load-init-file):
	Improve documentation.

2004-04-18  Stephen J. Turnbull  <stephen@xemacs.org>

	* menubar-items.el (default-menubar): Options are saved to custom.el.

2004-04-16  Stephen J. Turnbull  <stephen@xemacs.org>

	* help.el (help-register-and-maybe-prune-excess): Trim docstring.
	Sanity check argument.
	(with-displaying-temp-buffer): Improve docstring.

2004-04-09  Stephen J. Turnbull  <turnbull@sk.tsukuba.ac.jp>

	* files.el (revert-buffer): Synch to 21.4.  Suggested by
	Rodney Sparapani <rsparapa@post.its.mcw.edu>.

2004-04-09  Mike Sperber  <mike@xemacs.org>

	* minibuf.el (reset-buffer): Zap the mark of the minibuffer as
	well, to prevent it from hijacking other buffers' marks when
	typing in the minibuffer later.

2004-04-05  Jerry James  <james@xemacs.org>

	* cl-extra.el (coerce): Add support for general numeric conversions.
	* cl.el (eql): Update for more number types.
	* cl.el (cl-random-time): Ensure the result is a fixnum.
	* cl.el (most-positive-fixnum): Do not define in Lisp if enhanced
	number types are available.
	* cl.el (most-negative-fixnum): Ditto.

2004-03-23  Adrian Aichner  <adrian@xemacs.org>

	* code-process.el (call-process-region): Correct start and end
	marker construction, delete regions before and after insertion
	point.

2004-03-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.17 "chayote" is released.

2004-02-26  Jerry James  <james@xemacs.org>

	* device.el (device-num-screens): New.
	* device.el (device-backing-store): New.
	* device.el (device-save-under): New.
	* frame.el: Synch with Emacs 21.3.

2004-02-23  Steve Youngs  <sryoungs@bigpond.net.au>
 
	* package-get.el (package-get-update-base-from-buffer): Force
 	binary coding system for verifying GnuPG signature in the
 	package-index file.
 
2004-02-06  Jerry James  <james@xemacs.org>

	* term/linux.el: Change iso-latin-1 to iso-8859-1.

2004-01-28  Jerry James  <james@xemacs.org>

	* subr.el (add-to-invisibility-spec): New, from Emacs 21.3.
	* subr.el (remove-from-invisibility-spec): Ditto.

2004-01-29  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/japanese.el (paragraph-start, paragraph-separate):
	Remove anchor to BOL.

2004-01-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* specifier.el (canonicalize-spec): Fix typo in docstring.
	(make-specifier-and-init):
	(map-specifier):
	(canonicalize-spec-list):
	(set-specifier):
	Improve docstring.
	
2004-01-21  Jerry James  <james@xemacs.org>

	* wid-edit.el: Remove duplicate sexp widget definitions.

2004-01-08  Nickolay Pakoulin  <npak@ispras.ru>

	* info.el (Info-insert-file-contents): Use `shell-command-switch'
	instead of hard-coded "-c".

2003-12-15  Steve Youngs  <sryoungs@bigpond.net.au>

	* wid-edit.el (lazy): New.
	(widget-child-value-get): New.
	(widget-child-value-inline): New.
	(widget-child-validate): New.
	(widget-type-value-create): New.
	(widget-type-default-get): New.
	(widget-type-match): New.

	This adds a "lazy" widget to allow the definition of recursive
	datatypes for customize.  The composite widgets expand their
	subtypes immediately, which cause obvious problems for recursive
	datatypes.  The "lazy" will only expand them when needed, hense
	the name.
	From Per Abrahamsen <abraham@dina.kvl.dk>

2003-12-15  Steve Youngs  <sryoungs@bigpond.net.au>

	* package-get.el (package-get-list-packages-where): New.  A
	function that allows searching for groups of packages.  For
	example, find all packages that require the fsf-compat package.

2003-11-05  Vin Shelton  <acs@xemacs.org>

	* help.el (Help-prin1-face):
	(Help-princ-face):
	princ and prin1 are functions and need to be called as such.  The
	idea for this patch was submitted by Eric Eide <eeide@cs.utah.edu>.

2003-11-04  Stephen J. Turnbull  <stephen@xemacs.org>

	* about.el (about-personal-info): Fix typo in Tony Rossini's entry.

2003-10-29  Ville Skyttä  <scop@xemacs.org>

	* mule/lao-util.el (lao-transcription-pattern):
	Comment out duplicate which uses regexp-opt.

2003-10-15  Stephen J. Turnbull  <stephen@xemacs.org>

	* autoload.el (Copyright): Update.

2003-10-11  Stephen J. Turnbull  <stephen@xemacs.org>

	* files.el (find-file): Improve docstring.

2003-10-11  Steve Youngs  <sryoungs@bigpond.net.au>

	* package-ui.el (pui-display-keymap): Map `m' to
	`pui-display-maintainer'. 
	(pui-help-echo): Display both the installed upstream version
	number and the available upstream version number.
	(pui-display-maintainer): New.

2003-10-10  Stephen J. Turnbull  <stephen@xemacs.org>

	* wid-edit.el (widget-url-link-action): Fix typo.

2003-10-05	Kevin Haddock	<kevinhaddock@yahoo.com>

	* lisp/wid-edit.el (widget-default-create): Implemented suggested
	char-table dispatch wrench up (No. 4).

2003-10-07  Jerry James  <james@xemacs.org>

	* autoload.el (generate-c-file-autoloads-1): Use module-extensions
	instead of listing the extensions.  Use locate-file instead of
	explicitly trying each extension.
	* code-files.el (load): Use module-extensions instead of an
	explicit list of extensions.

2003-10-02  Steve Youngs  <youngs@xemacs.org>

	* about.el (xemacs-hackers): Remove me.
	(about-current-release-maintainers): Ditto.
	(about-url-alist): Ditto.
	(about-personal-info): Ditto.
	(about-hacker-contribution): Ditto.

2003-10-01  Steve Youngs  <youngs@xemacs.org>

	* cl-extra.el (cl-do-prettyprint): Work around a "formatting" bug
	in `report-xemacs-bug'.

2003-09-26  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.16 "celeriac" is released.

2003-09-20  Ilya N. Golubev  <gin@mo.msk.ru>

	* simple.el (raw-append-message): Allow user to specify
	alternative function for displaying message.
	(redisplay-echo-area-function): New.
	(clear-message): Allow user to specify function for finishing
	message display.
	(undisplay-echo-area-function): New.

2003-09-20  James LewisMoss  <dres@lewismoss.org>

	* font-menu.el (font-menu-max-number): New variable to specify
	the maximum recieved fonts.

	* x-font-menu.el (x-reset-device-font-menus): Use new variable
	(font-menu-max-number) to list-fonts.

2002-09-20  James LewisMoss  <dres@lewismoss.org>

	* gnuserv.el (gnuserv-edit-files): fallback to gtk if x device
	fails.  Fixes problem where gnuclient fails for gtk instances when
	gnuclient was built with X configure.

2003-09-20  Mike Alexander  <mta@arbortext.com>

	* code-init.el (eol-detection-enabled-p): eval the initialization
	value.

	* code-files.el (insert-file-contents): Make sure that
	setbuffer-file-coding-system sets the eol style.

2003-09-19  Stephen J. Turnbull  <stephen@xemacs.org>

	* win32-native.el (grep-null-device): Defined in
	xemacs-base/compile.el.

	* files.el (null-device): Defined in C, remove defvar.

2003-09-06  Mike Sperber  <mike@xemacs.org>

	* bytecomp.el (byte-compile-defvar-or-defconst): Actually
	implement the specified semantics for `defvar.'

2003-09-07  Adrian Aichner  <adrian@xemacs.org>

	* window-xemacs.el (display-buffer): Fix for `shrink-to-fit' by
	Klaus Berndl, calling `shrink-window-if-larger-than-buffer' when
	displaying buffer in question.

2003-09-03  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.15 "celery" is released.

2003-08-30  Adrian Aichner  <adrian@xemacs.org>

	* cus-edit.el (apropos-customize): New autoloaded alias making it
	easier to find customize-apropos.

2003-08-28  Steve Youngs  <youngs@xemacs.org>

	* package-ui.el (pui-set-local-package-get-directory): Remove
	arg. 

2003-07-31  René Kyllingstad  <listmailxemacs@kyllingstad.com>

	* mwheel.el (mwheel-scroll-amount):
	* mwheel.el (mwheel-scroll):
	* mwheel.el (mwheel-install):
	bind C-mouse-{4,5} to scroll page by page.

2003-08-03  Mike Sperber  <mike@xemacs.org>

	* files.el (insert-directory): Massage somewhat to be slightly
	closer to FSF version.  Support "--dired" as argument for GNU ls,
	and, if given, create extents with 'dired-file-name property set
	to t, similar to what the FSF version does.

2003-07-31  Mike Sperber  <mike@xemacs.org>

	* isearch-mode.el (isearch-mode-help): 
	(isearch-update):
	(isearch-done):
	(isearch-edit-string): Change the way window configurations are
	handled: Formerly, the code would do `set-window-configuration'
	off `pre-command-hook' which isn't really allowed.  (The old
	window-configuration code would quietly ignore this restriction.)
	Instead, save the window configuration only when someone asks for
	help, and restore afterwards, and otherwise leave it alone.

2003-07-24  Mike Sperber  <mike@xemacs.org>

	* post-gc.el (simple-finalizer-ephemerons): 
	(add-finalizer):
	(cleanup-simple-finalizers): Implement simple object finalization.

2003-07-19  Stephen Turnbull  <stephen@xemacs.org>

	* etags.el: Change `\\s ' in comments to `\\s-'.
	(tags-explicit-name-pattern, tags-DEFUN-pattern, tags-def-pattern):
	Comment the use of groups.

	* etags.el: Fix bad parsing for completion of good TAGS files.
	(tags-explicit-name-pattern): New constant.
	(tags-DEFUN-pattern, tags-def-pattern): Use it.
	(tags-schemish-pattern): New constant.
	(add-to-tag-completion-table): Intern explicit names when found.

2003-06-18  Nickolay Pakoulin  <npak@ispras.ru>

	* cl-macs.el (cl-transform-lambda): Place doc on Common Lisp
	lambda list after the original doc.  Care about
	#'(lambda () "SingleString")
	(cl-upcase-arg):
	(cl-function-arglist):
	Care about &cl-defs and &cl-quote in lambda list, dotted lists and
	circular data structures in lambda list specification

2003-07-18  Stephen J. Turnbull  <stephen@xemacs.org>

	* derived.el (derived-mode-merge-syntax-tables): Reverse map
	logic.  Fixes "do-nothing" bug.

2003-07-16  Jerry James  <james@xemacs.org>

	* window-xemacs.el (restore-saved-window): Follow first-hchild and
	first-vchild links even when next-child is nil.

2003-07-06  Adrian Aichner  <adrian@xemacs.org>

	* package-get.el (package-get-package-index-file-location): Handle
	missing "EMACSPACKAGEPATH" environment variable.

2003-07-05  Adrian Aichner  <adrian@xemacs.org>

	* package-admin.el (package-admin-find-top-directory): Simplify
	directory comparisions and fix substring errors on short path
	components.
	* package-get.el (package-get-package-index-file-location):
	Default to first component of "EMACSPACKAGEPATH", if set.

2003-06-17  Stephen J. Turnbull  <stephen@xemacs.org>

	* bytecomp.el (byte-compile-lambda): Discard docstring only if it
	is not also the value of the lambda.

2003-06-13  Adrian Aichner  <adrian@xemacs.org>

	* setup-paths.el (paths-emacs-root-p): Don't insist in lib-src
	directory on 'windows-nt, which currently does not have it.

2003-06-11  Adrian Aichner  <adrian@xemacs.org>

	* font-lock.el (lisp-font-lock-keywords-1): Only NAME, not NAME(
	to appear in font-lock-function-name-face.

2003-06-01  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.14 "cassava" is released.

2003-05-22  Stephen J. Turnbull  <stephen@xemacs.org>

	* autoload.el (autoload-featurep-protect-autoloads):
	Make the error message say which sym was checked.

2003-05-16  Stephen J. Turnbull  <stephen@xemacs.org>

	* subr.el (split-string): Update dox, tweak logic, to synch to GNU.

2003-05-15  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-package-index-file-location): New,
	so it is possible to specify a location for the index file.
	(package-get-locate-index-file): Use it.
	(package-get-maybe-save-index): Ditto.
	(package-get-user-index-filename): Remove.

2003-05-14  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-require-signed-base-updates): Turn
	the PGP verification code back on.

2003-05-11  Simon Josefsson  <jas@extundo.com>

	* replace.el (delete-non-matching-lines, kill-non-matching-lines)
	(copy-non-matching-lines, delete-matching-lines)
	(kill-matching-lines, copy-matching-lines): Don't message.

2003-05-10  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.13 "cauliflower" is released.

2003-05-08  Jerry James  <james@xemacs.org>

	* code-init.el (coding-system-variable-default-value-table): Use
	undecided-unix for keyboards to avoid EOL autodetection on TTYs.
	* code-init.el (coding-system-variable-default-value): Update the
	comment to reflect the changed table.

2003-05-03  Steve Youngs  <youngs@xemacs.org>

	* package-admin.el (package-admin-find-top-directory): You can't
	concat a string & a char, so convert 'directory-sep-char' to a string.

2003-05-02  Stephen J. Turnbull  <stephen@xemacs.org>

	* cmdloop.el (command-error): Ensure exit msg is on separate line.

2003-05-01  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-require-signed-base-updates): Force
	default to nil while I sort out some PGP problems.

2003-04-16  Jerry James  <james@xemacs.org>

	* keydefs.el: Remove mappings for keys mapped to the nowhere
	defined function function-key-error.

2003-04-24  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.12 "carrot" is released.

2003-04-24  Steve Youngs  <youngs@xemacs.org>

	* font-lock.el (font-lock-match-java-declarations): Move
	save-restriction, narrow-to-region to beginning of function to
	avoid going beyond the limit and causing an infloop.
	From Jin Choi <jsc@orangeimagineering.com>.

2003-04-24  Vasily Korytov  <deskpot@myrealbox.com>

	* lisp-mode.el (emacs-lisp-mode-hook, lisp-mode-hook,
	lisp-interaction-mode-hook): Add the docstrings.

2003-04-23  Stephen J. Turnbull  <stephen@xemacs.org>

	* subr.el (split-string): Revert to regular behavior, except when
	both separators and omit-nulls are nil.
	(split-string-default-separators): New constant.

2003-04-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* info.el (info): Support `(filename)nodename' as argument.

2003-04-14  Steve Youngs  <youngs@xemacs.org>

	* package-admin.el (package-admin-find-top-directory): Use
	'directory-sep-char'. 
	(package-admin-get-install-dir): Ditto.
	This is so PUI won't break on platforms that don't use '/' as the
	directory separator. 
	
	* package-get.el (package-get-pgp-available-p): New.
	(package-get-require-signed-base-updates): Use it.
	(package-get-update-base-from-buffer): Move the code that finds
	the gpg stuff into `package-get-pgp-available-p'.
	Now if you have Mailcrypt and a PGP binary installed and set up on
	your system, PUI will automatically default to doing PGP
	verification, otherwise it'll default to off.
	(package-get-require-base): Use the DATUM arg to `error'.
	(package-get-locate-index-file): Ditto.
	(package-get-update-base): Ditto.
	(package-get-update-base-entries): Ditto.
	(package-get-all): Ditto.
	(package-get-dependencies): Ditto.
	(package-get-info): Ditto.
	(package-get): Ditto.

	* package-info.el (batch-update-package-info): Use the DATUM arg
	to `error'.

	* package-net.el (package-net-batch-generate-bin-ini): Use the
	DATUM arg to `error'.

	* package-ui.el (pui-toggle-package-key): Use the DATUM arg to
	`error'. 
	(pui-toggle-package-delete-key): Ditto.
	(pui-install-selected-packages): Ditto.
	(pui-add-required-packages): Ditto.
	(pui-display-info): Ditto.
	(list-packages-mode): Ditto.

	* packages.el (package-require): Use the DATUM arg to `error'.

2003-03-27  Stephen J. Turnbull  <stephen@xemacs.org>

	* menubar-items.el (default-menubar):
	* startup.el (in comment): 
	Global substitution: .Xresources for .Xdefaults.

2003-03-24  Jerry James  <james@xemacs.org>

	* window-xemacs.el (saved-window-equal): Use equal instead of = to
	compare saved-window-modeline-hscroll values.

2003-03-25  Steve Youngs  <youngs@xemacs.org>

	* package-admin.el: (package-admin-delete-binary-package): Only
	delete the lisp directory if it exists.
	(package-admin-find-top-directory): New.
	(package-admin-get-install-dir): Use it.

	* package-get.el (package-get-install-to-user-init-directory):
	New.  If non-nil install packages under `user-init-directory'.
	(package-get): `package-admin-get-install-dir' only takes 2 args.

	* package-ui.el (pui-install-selected-packages): The 2nd arg to
	`package-admin-get-install-dir' is optional, no need to specify nil.

2003-03-24  Stephen J. Turnbull  <stephen@xemacs.org>

	* wid-edit.el (widget-url-link-action): Typo fix.  Thx, Adrian!

2003-03-23  Adrian Aichner  <adrian@xemacs.org>

	* menubar-items.el (default-menubar): Reword "Add Download Site"
	to the more appropriate "Set Download Site".  Categorize download
	sites under separate menu entries for "Offical", "Pre-", and
	"Site" Releases so that users only need to customize
	`package-get-site-release-download-sites'.
	* package-get.el (package-get-download-sites): Fix typo.
	* package-get.el (package-get-site-release-download-sites): New.
	Add support for "Site Releases".
	* package-ui.el (package-ui-site-release-download-menu): New.
	Ditto.

2003-03-21  Adrian Aichner  <adrian@xemacs.org>

	* package-get.el: Globally remove trailing whitespace.
	* package-get.el (package-get-download-sites): Add more sites.
	* package-get.el (package-get-pre-release-download-sites): Add
	more sites.

2003-03-20  Steve Youngs  <youngs@xemacs.org>

	* menubar-items.el (default-menubar): Add a "Pre-Release Download
	Sites" submenu to "Tools -> Packages" menu.

	Filter the package download sites menus through
	`menu-split-long-menu'.
	
	* obsolete.el (pui-add-install-directory): New.
	(package-get-download-menu): New.

	* package-admin.el: (package-admin-add-single-file-package):
	Removed.
	(package-admin-get-install-dir): Don't rely on an installed
	xemacs-base package to guess where a package needs to be installed
	to.
	(package-admin-get-manifest-file): Whitespace clean up.
	(package-admin-check-manifest): Use `directory-sep-char' to
	compute regexp.  

	Only search 'lisp' and 'man' directories to determine package
	name.

	Don't error is xemacs-base package isn't installed, just don't
	sort the MANIFEST file and issue a warning.
	(package-admin-add-binary-package): Whitespace clean up.
	(package-admin-get-lispdir): Ditto.
	(package-admin-delete-binary-package): Use `with-temp-buffer'
	instead of creating a temporary buffer manually.

	* package-get.el: (package-get-remote): Change custom type so that
	only either a single directory or remote host:directory can be
	selected. 
	(package-get-download-sites): Put the sites into alphabetical
	order of country.  

	Make the description element be "Country (site)" instead of the
	other way around. 
	(package-get-pre-release-download-sites): New.
	(package-get-require-signed-base-updates): Default to t.
	(package-get-download-menu): Removed.
	(package-get-locate-file): Change to reflect new format of
	'package-get-remote'. 
	(package-get-update-base-from-buffer): Whitespace clean up and
	remove an unneccessary 'when'.
	(package-get-interactive-package-query): Whitespace clean up.
	(package-get-update-all): Ditto.
	(package-get-all): Ditto.
	(package-get-init-package): Ditto.
	(package-get-info): New.
	(package-get): Bring into line with new format of
	'package-get-remote'.  

	Error if non-Mule XEmacsen try to install Mule packages.  

	Don't rely on a Mule package having 'mule-base' in its
	"REQUIRES" to determine if it is a Mule package or not,
	instead we test "CATEGORY".  

	Better handling of the situation where a partial package tarball
	exists on the local hard drive from a previous interupted
	download.

	Clean up after a failed package install.
	(package-get-set-version-prop): Removed.
	(package-get-installedp): Whitespace clean up.

	* package-ui.el: Whitespace clean up.
	(pui-info-buffer): Make it a defcustom.
	(pui-directory-exists): Removed.
	(pui-package-dir-list): Removed.
	(pui-add-install-directory): Removed.
	(package-ui-download-menu): New.
	(package-ui-pre-release-download-menu): New.
	(pui-set-local-package-get-directory): New.
	(pui-package-symbol-char): Whitespace clean up.
	(pui-update-package-display): Ditto.
	(pui-toggle-package): Ditto.
	(pui-toggle-package-key): Ditto.
	(pui-toggle-package-delete): Ditto.
	(pui-toggle-package-delete-key): Ditto.
	(pui-toggle-package-event): Ditto.
	(pui-toggle-verbosity-redisplay): Ditto.
	(pui-install-selected-packages): Ditto.
	(pui-help-echo): Ditto.
	(pui-display-info): Ditto.
	(pui-list-packages): Ditto.

	* packages.el: Whitespace clean up.

2003-03-18  Stephen J. Turnbull  <stephen@xemacs.org>

	* gutter-items.el (buffers-tab-filter-functions): Improve docstring.
	Suggested by a Chris Palmer <chris@nodewarrior.org> patch.

2003-03-02  Stephen Turnbull  <stephen@xemacs.org>

	* wid-edit.el: Many XEmacs-specific comments added.
	(missing-package): New error type.
	(link widget): Use it.
	(widget-sublist):
	Move to section with other generic utilities.
	(sexp widget):
	(widget-sexp-value-to-internal):
	(widget-sexp-validate):
	(widget-sexp-prompt-value-history):
	(widget-sexp-prompt-value):
	Move to top of sexp section.
	(finder-commentary):
	Redundant autoload removed.
	(widget-princ-to-string):
	Use `prin1-to-string'.  Add docstring.
	(widget-prettyprint-to-string):
	Use `with-temp-buffer'.  Add docstring.
	(widget-convert):
	Use `keywordp'.  Improve comments.
	(symbol widget):
	Change default value to `t' to distinguish from lists.
	(widget-edit-functions):
	Add docstring.
	(widget-field-new):
	(widget-field-list):
	Convert comments to docstrings.
	(widget-default-prompt-value):
	Fix docstring, improve comments.
	(widget-field-add-space):
	(widget-create):
	(widget-create-child-and-convert):
	(widget-create-child):
	(widget-create-child-value):
	(push-button widget):
	(checklist widget):
	(option widget):
	(radio-button-choice widget):
	(radio widget):
	(list widget):
	(vector widget):
	Improve docstrings.

2003-03-06  Ben Wing  <ben@xemacs.org>

	* behavior.el (define-behavior):
	Allow other keywords for forward compatibility.
	
	* cl-macs.el (loop):
	Rewrite to eliminate byte-compiler warning when `return' is used
	without `finally'.
	
	* cmdloop.el (file-error):
	Avoid truncated error messages for `end-of-file' and the like.
	
	* cmdloop.el (read-quoted-char):
	Avoid char-int error after syncing.
	
	* files.el (find-file-noselect):
	* files.el (recover-file):
	* files.el (recover-session-finish):
	Eliminate byte-compile warnings.
	
	* printer.el (generate-header-line):
	Fix line-width calculations.
	#### This used to work.  Someone's changes (perhaps by
	Michael	Sperber?) seem to have messed something up.
	
	* simple.el (clear-message):
	* simple.el (append-message):
	* simple.el (raw-append-message):
	Use new clear-left-side functions to avoid messages ending up on
	the same line as other output.

2003-03-03  Stephen J. Turnbull  <stephen@xemacs.org>

	* files.el (save-abbrevs): Fixup whitespace.

2003-02-26  Stephen J. Turnbull  <stephen@xemacs.org>

	* subr.el (custom-declare-variable-early): Reference
	dumped-lisp.el in comment.

	* custom.el (at end): Remark about `custom-declare-variable-list'.

2003-03-01  Ben Wing  <ben@xemacs.org>

	* cmdloop.el:
	* cmdloop.el (read-quoted-char-radix): New.
	* cmdloop.el (read-quoted-char):
	* cmdloop.el (momentary-string-display):
	* custom.el:
	* custom.el (custom-initialize-set):
	* custom.el (custom-initialize-reset):
	* custom.el (custom-initialize-changed):
	* custom.el (custom-declare-variable):
	* custom.el (defcustom):
	* dumped-lisp.el (preloaded-file-list):
	* files.el:
	* files.el (delete-auto-save-files): New.
	* files.el (directory-abbrev-alist):
	* files.el (make-backup-files):
	* files.el (backup-by-copying-when-privileged-mismatch): New.
	* files.el (normal-backup-enable-predicate): New.
	* files.el (buffer-offer-save):
	* files.el (small-temporary-file-directory): New.
	* files.el (null-device): New.
	* files.el (version-control):
	* files.el (auto-save-file-name-transforms): New.
	* files.el (save-abbrevs):
	* files.el (find-directory-functions): New.
	* files.el (find-file-not-found-hooks):
	* files.el (write-file-hooks):
	* files.el (write-contents-hooks):
	* files.el (write-file-data-hooks):
	* files.el (enable-local-variables):
	* files.el ((fboundp 'file-locked-p)):
	* files.el (view-read-only): New.
	* files.el (cd-absolute):
	* files.el (load-file):
	* files.el (file-local-copy):
	* files.el (file-chase-links):
	* files.el (switch-to-buffer-other-window):
	* files.el (switch-to-buffer-other-frame):
	* files.el (find-file):
	* files.el (find-file-other-window):
	* files.el (find-file-other-frame):
	* files.el (find-file-read-only):
	* files.el (find-file-read-only-other-window):
	* files.el (find-file-read-only-other-frame):
	* files.el (abbreviate-file-name):
	* files.el (find-buffer-visiting):
	* files.el (find-file-wildcards): New.
	* files.el (find-file-suppress-same-file-warnings): New.
	* files.el (find-file-noselect): New.
	* files.el (find-file-noselect-1): New.
	* files.el (insert-file-contents-literally):
	* files.el (insert-file-literally): New.
	* files.el (after-find-file-from-revert-buffer):
	* files.el (after-find-file):
	* files.el (normal-mode):
	* files.el (find-file-literally): New.
	* files.el (dabbrev-case-fold-search):
	* files.el (hack-one-local-variable-quotep): New.
	* files.el (hack-one-local-variable):
	* files.el (set-visited-file-name):
	* files.el (write-file):
	* files.el (backup-buffer):
	* files.el (make-backup-file-name-function): New.
	* files.el (backup-directory-alist): New.
	* files.el (make-backup-file-name):
	* files.el (make-backup-file-name-1): New.
	* files.el (backup-extract-version-start):
	* files.el (backup-extract-version-start)): New.
	* files.el (file-relative-name):
	* files.el (save-buffer):
	* files.el (delete-auto-save-file-if-necessary):
	* files.el (save-buffer-coding-system): New.
	* files.el (basic-save-buffer):
	* files.el (basic-save-buffer-1):
	* files.el (basic-save-buffer-2): New.
	* files.el (save-some-buffers):
	* files.el (save-some-buffers-1):
	* files.el (toggle-read-only):
	* files.el (file-newest-backup):
	* files.el (rename-uniquely):
	* files.el (revert-buffer-insert-file-contents-function):
	* files.el (recover-file):
	* files.el (recover-session):
	* files.el (recover-session-finish):
	* files.el (kill-some-buffers):
	* files.el (wildcard-to-regexp):
	* files.el (file-expand-wildcards): New.
	* files.el (list-directory):
	* files.el (shell-quote-wildcard-pattern): New.
	* files.el (insert-directory-safely): New.
	* files.el (confirm-kill-emacs): New.
	* files.el (save-buffers-kill-emacs):
	* files.el (file-name-non-special): New.
	* keydefs.el (global-map): New.
	* keymap.el:
	* keymap.el (kbd): Removed.
	* keymap.el (substitute-key-definition):
	* lisp-mode.el (construct-lisp-mode-menu):
	* make-docfile.el (custom-declare-variable-list): New.
	* replace.el:
	* replace.el (match-string): Removed.
	* replace.el (save-match-data): Removed.
	* simple.el:
	* simple.el (comment-column): Removed.
	* simple.el (comment-start): Removed.
	* simple.el (comment-start-skip): Removed.
	* simple.el (comment-end): Removed.
	* simple.el (comment-indent-hook): Removed.
	* simple.el (comment-indent-function): Removed.
	* simple.el (block-comment-start): Removed.
	* simple.el (block-comment-end): Removed.
	* simple.el (indent-for-comment): Removed.
	* simple.el (set-comment-column): Removed.
	* simple.el (kill-comment): Removed.
	* simple.el (comment-padding): Removed.
	* simple.el (comment-region): Removed.
	* simple.el (comment-multi-line): Removed.
	* simple.el (set-selective-display):
	* simple.el (indent-new-comment-line): Removed.
	* simple.el (overwrite-mode-textual):
	* simple.el (overwrite-mode):
	* simple.el (binary-overwrite-mode):
	* simple.el (mail-user-agent):
	* simple.el (rfc822-goto-eoh): New.
	* simple.el (sendmail-user-agent-compose):
	* simple.el (mh-e-user-agent):
	* simple.el (set-variable-value-history): New.
	* simple.el (set-variable):
	* simple.el (clone-buffer-hook): New.
	* simple.el (clone-process): New.
	* simple.el (clone-buffer): New.
	* simple.el (clone-indirect-buffer): New.
	* simple.el (clone-indirect-buffer-other-window): New.
	* subr.el:
	* subr.el (custom-declare-variable-list): New.
	* subr.el (custom-declare-variable-early): New.
	* subr.el (assoc-default): New.
	* subr.el (assoc-ignore-case): New.
	* subr.el (assoc-ignore-representation): New.
	* subr.el (member-ignore-case): New.
	* subr.el ('move-marker): New.
	* subr.el ('beep): New.
	* subr.el ('indent-to-column): New.
	* subr.el ('backward-delete-char): New.
	* subr.el ('search-forward-regexp): New.
	* subr.el ('search-backward-regexp): New.
	* subr.el ('remove-directory): New.
	* subr.el ('set-match-data): New.
	* subr.el ('send-string-to-terminal): New.
	* subr.el (make-local-hook):
	* subr.el (add-hook):
	* subr.el (remove-hook):
	* subr.el (add-local-hook):
	* subr.el (remove-local-hook):
	* subr.el (add-one-shot-hook):
	* subr.el (add-local-one-shot-hook):
	* subr.el (string-equal-ignore-case): Removed.
	* subr.el (with-current-buffer):
	* subr.el (with-output-to-string): Removed.
	* subr.el (replace-in-string): Removed.
	* subr.el (split-string): Removed.
	* subr.el (with-temp-message):
	* subr.el (with-syntax-table): New.
	* subr.el (save-match-data): New.
	* subr.el (match-string): New.
	* subr.el (match-string-no-properties): New.
	* subr.el (subst-char-in-string): New.
	* subr.el (replace-regexp-in-string): New.
	* subr.el (truncate-string-to-width):
	* subr.el (eval-after-load):
	* view-less.el:
	* wid-edit.el:
	* wid-edit.el (widget-url-link-action):
	Lots of syncing with FSF 21.2.
	Use if-fboundp in wid-edit.el.
	New file newcomment.el from FSF.

2003-02-26  Stephen J. Turnbull  <stephen@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Add markers for use of
	defcustom v. custom-declare-variable-early.

	* make-docfile.el (custom-declare-variable-list): Defvar to prevent
	custom (required from raw-process) from barfing a void-variable error.

2003-02-26  Stephen J. Turnbull  <stephen@xemacs.org>

	* view-less.el (view-minor-mode): Add autoload cookie.

2003-02-28  Ben Wing  <ben@xemacs.org>

	* dump-paths.el:
	* dump-paths.el (startup-setup-paths): Removed.
	* dumped-lisp.el (preloaded-file-list):
	Delete.  Combine stuff into setup-paths.el.
	
	* find-paths.el:
	* find-paths.el (paths-chase-symlink):
	* find-paths.el (paths-emacs-root-p): Removed.
	* find-paths.el (paths-construct-path):
	* find-paths.el (paths-find-emacs-root): Removed.
	* find-paths.el (paths-emacs-data-root-p): Removed.
	* find-paths.el (paths-find-emacs-roots): Removed.
	Make this file contain generic routines only.  Move stuff to
	compute Emacs roots to setup-paths.el.
	
	* startup.el:
	* startup.el (emacs-roots): Removed.
	* startup.el (emacs-data-roots): Removed.
	* startup.el (user-init-directory-base): Removed.
	* startup.el (user-init-directory): Removed.
	* startup.el (user-init-file-base): Removed.
	* startup.el (user-init-file-base-list): Removed.
	* startup.el (user-home-init-file-base-list): Removed.
	* startup.el (load-home-init-file): Removed.
	* startup.el (load-user-init-file-p): Removed.
	Move these variables into setup-paths.el.

	* setup-paths.el:
	* setup-paths.el (emacs-roots): New.
	* setup-paths.el (emacs-data-roots): New.
	* setup-paths.el (user-init-directory-base): New.
	* setup-paths.el (user-init-directory): New.
	* setup-paths.el (user-init-file-base): New.
	* setup-paths.el (user-init-file-base-list): New.
	* setup-paths.el (user-home-init-file-base-list): New.
	* setup-paths.el (load-home-init-file): New.
	* setup-paths.el (load-user-init-file-p): New.
	* setup-paths.el (paths-emacs-root-p): New.
	* setup-paths.el (paths-emacs-data-root-p): New.
	* setup-paths.el (paths-find-emacs-root): New.
	* setup-paths.el (paths-find-emacs-roots): New.
	* setup-paths.el (startup-find-load-path): New.
	* setup-paths.el (startup-setup-paths): New.
	* setup-paths.el (configure-package-path): New.
	* setup-paths.el (startup-find-load-path-for-packages): New.
	* startup.el (normal-top-level):
	* startup.el (startup-find-roots-warning): Removed.
	Combine all high-level code for computing the paths into
	setup-paths.el.  Create new function startup-find-load-path to
	encapsulate all logic for computing `load-path'.  Eliminate
	invocation-directory and invocation-name parameters since
	there is no point (false generality) -- the code references
	other globals, which cannot be specified.  Eliminate some code
	duplicated between setup-paths.el and startup.el.  Clean up
	the debug-paths code and output load-path in addition.
	Add logic to paths-emacs-root-p to support separated source
	and build trees.

	* loadup.el:
	* loadup.el (build-root): New.
	* loadup.el (source-lisp): New.
	* loadup.el (source-root): New.
	* loadup.el (really-early-error-handler):
	* make-docfile.el:
	* make-docfile.el (build-root): New.
	* make-docfile.el (build-lib-src): New.
	* make-docfile.el (source-lisp): New.
	* make-docfile.el (source-src): New.
	* make-docfile.el (process-args):
	* make-docfile.el (load-path):
	* make-docfile.el ("raw-process.el"):
	* make-docfile.el ((preloaded-file-list)):
	* make-docfile.el (docfile-out-of-date):
	* update-elc-2.el (batch-update-elc-2):
	* update-elc.el:
	* update-elc.el (undumped-exe): Removed.
	* update-elc.el (dumped-exe-out-of-date-wrt-dump-files): Removed.
	* update-elc.el (exe-target): New.
	* update-elc.el (dump-target): New.
	* update-elc.el (dump-target-out-of-date-wrt-dump-files): New.
	* update-elc.el (build-root): New.
	* update-elc.el (source-lisp): New.
	* update-elc.el (source-lisp-mule): New.
	* update-elc.el (source-root): New.
	* update-elc.el (aa-lisp): New.
	* update-elc.el (aac-lisp): New.
	* update-elc.el (aa-lisp-mule): New.
	* update-elc.el (aac-lisp-mule): New.
	* update-elc.el ((preloaded-file-list site-load-packages files-to-process)):
	Rewrite to allow for separated source and build trees, as may occur
	in MS Windows.
	
	NOTE TO BUILD HACKERS:
	
	loadup.el, make-docfile.el, update-elc.el and update-elc-2.el made two
	assumptions that are no longer correct:
	
	(1) The source and build trees are in the same place.
	(2) They can make assumptions about where `.' is.
	
	These files now compute the locations of the source and build
	roots at the top of the file.  *ALL* constant file names or path
	snippets must now be made absolute using expand-file-name and one
	of these roots.

	* dumped-lisp.el:
	* dumped-lisp.el (packages-hardcoded-lisp): New.
	* packages.el:
	* packages.el (packages-hardcoded-lisp): Removed.
	* packages.el (packages-useful-lisp): Removed.
	* packages.el (packages-unbytecompiled-lisp): Removed.
	Remove some unused lists of Lisp files.  packages-hardcoded-lisp
	(empty, in any case) moved to dumped-lisp.el.
	
	* startup.el (find-init-file-1): New.
	* startup.el (find-user-home-directory-init-file):
	When a compiled init file is out-of-date wrt the uncompiled
	version, load the uncompiled version and issue a nasty warning.
	
	* update-elc-2.el (batch-update-elc-2):
	Force touching of auto-autoloads files when REBUILD_AUTOLOADS
	was set.

	* update-elc.el ((preloaded-file-list site-load-packages files-to-process)):
	Fix code that checks whether dumping is necessary to check against
	xemacs.dmp, not xemacs.exe, when Unix and pdump.
	
2003-02-20  Ben Wing  <ben@xemacs.org>

	* mule/mule-cmds.el:
	* mule/mule-cmds.el (get-native-coding-system-from-language-environment):
	* mule/mule-cmds.el (set-language-environment-coding-systems):
	* mule/mule-cmds.el (init-locale-at-early-startup):
	Alias file-name to native not vice-versa.
	Do set EOL of native but not of process output to fix various
	problems and be consistent with code-init.el.

2003-02-20  Ben Wing  <ben@xemacs.org>

	* code-cmds.el (coding-system-change-eol-conversion):
	Return a name not a coding system.
	
	* code-init.el:
	* code-init.el (coding-system-default-variable-list):
	* code-init.el (get-coding-system-variable):
	* code-init.el (set-coding-system-variable):
	* code-init.el (coding-system-variable-default-value):
	Reindent.  Remove `file-name' since it should always be the same
	as native.
	
	* unicode.el (load-unicode-tables):
	Rename to load-unicode-mapping-table as suggested by the anonymous
	(but rather Turnbullian) comment in unicode.c.

2003-02-19  Ben Wing  <ben@xemacs.org>

	* mule/mule-msw-init.el:
	* mule/mule-msw-init.el ('mswindows-multibyte-system-default): Removed.
	Delete this file.

	* mule/mule-win32-init.el:
	New file, with stuff from mule-msw-init.el -- not just for MS Windows
	native,	boys and girls!

	* bytecomp.el (byte-compile-insert-header):
	Change code inserted to catch trying to load a Mule-only .elc
	file in a non-Mule XEmacs.  Formerly you got the rather cryptic
	"The required feature `mule' cannot be provided".  Now you get
	"Loading this file requires Mule support".
	
	* finder.el (finder-compile-keywords):
	Remove dependency on which directory this function is invoked
	from.

	* update-elc.el:
	Don't mess around with ../src/BYTECOMPILE_CHANGE.  Now that
	Makefile.in.in and xemacs.mak are in sync, both of them use
	NEEDTODUMP and the other one isn't used.

	* dumped-lisp.el:
	* dumped-lisp.el (preloaded-file-list):
	Rewrite in terms of `list' and `nconc' instead of assemble-list, so
	we can have arbitrary forms, not just `when-feature'.

	* very-early-lisp.el: Nuke this file.

	* finder-inf.el:
	* packages.el:
	* update-elc.el:
	* update-elc-2.el:
	* loadup.el:
	* make-docfile.el:
	Eliminate references to very-early-lisp.

	* msw-glyphs.el:
	Comment clarification.

2003-02-17  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/mule-charset.el (charsets-in-region): Remove broken
	optimization to get slight speed-up.
	(charsets-in-string): Use mapc to iterate in C.

2003-02-16  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.11 "cabbage" is released.

2003-02-15  Ben Wing  <ben@xemacs.org>

	* make-docfile.el:
	* make-docfile.el (message): New.
	* make-docfile.el (format-decode): New.
	* make-docfile.el (process-args): New.
	* make-docfile.el ((preloaded-file-list)):
	* make-docfile.el (docfile-out-of-date):
	Use `message' (defined in this file) in place of `princ'/`print',
	and put in a terpri, so that we get correct newline behavior.
	Rewrite if-progn -> when and a few similar stylistic niceties.
	And the big change: Allow MS Windows to specify the object files
	directly and frob them into C files here (formerly this was done
	in xemacs.mak, and very slooooooooooooooooooowly).  Due to
	line-length limitations in CMD, we need to use a "response file"
	to hold the arguments, so when we see a response file argument
	(preceded by an @), read in the args (a bit of trickiness to do
	this), and process recursively.  Also frob .obj -> .c as mentioned
	earlier and handle other junk dependencies that need to be removed
	(NEEDTODUMP, make-docfile.exe).
	
	* update-elc-2.el (do-update-elc-2):
	Use :test `equal' in call to set-difference.
	
	* update-elc.el:
	Put back commented out kill-emacs, update header comment.

2003-02-14  Ben Wing  <ben@xemacs.org>

	* autoload.el (generate-file-autoloads):
	Include FUNLIST argument to generate-c-file-autoloads-1.

2003-02-14  Ben Wing  <ben@xemacs.org>

	* byte-optimize.el:
	* byte-optimize.el (byte-compile-inline-expand):
	* byte-optimize.el (byte-compile-unfold-lambda):
	* byte-optimize.el (byte-optimize-form-code-walker):
	* byte-optimize.el (byte-optimize-form):
	* byte-optimize.el (byte-decompile-bytecode-1):
	* byte-optimize.el (byte-optimize-lapcode):
	Review carefully and sync up to 20.7 except for areas as noted.
	Fixes problem with JDE compilation.

2003-02-14  Ben Wing  <ben@xemacs.org>

	* autoload.el:
	* autoload.el (generate-file-autoloads):
	* autoload.el (generate-autoload-ish-1):
	* autoload.el (generate-file-autoloads-1):
	* autoload.el (generate-c-file-autoloads-1):
	Factor out common code in generate-{c-,}file-autoloads-1 into new
	function generate-autoload-ish-1.  \(I was originally going to use
	this for custom as well but ended up thinking better of it.)
	
	* cus-dep.el:
	* cus-dep.el (cusload-hash-table-marker): New.
	* cus-dep.el (Custom-make-dependencies-1):
	Cache the old computed values in custom-load.el and reuse them as
	necessary, to speed up running cus-dep (which would take 25-30
	seconds to do all files in lisp/*, lisp/*/* on my Pentium III
	700).  Use `message' not `princ' to get correct newline behavior.
	Output messages showing each file we do actually process.
	
	* update-elc-2.el:
	* update-elc-2.el (dirfiles-table): New.
	* update-elc-2.el (do-update-elc-2):
	* update-elc-2.el (batch-update-elc-2):
	Rewrite algorithm to be much faster -- cache calls to
	directory-files and don't make needless calls to file-exists-p,
	file-directory-p because they're way way slow.
	Autoload early and only when update-elc has told us to.

	* update-elc.el:
	* update-elc.el (dumped-exe): Removed.
	* update-elc.el (dumped-exe-out-of-date-wrt-undumped-exe): Removed.
	* update-elc.el (lisp-files-ignored-when-checking-for-autoload-updating): New.
	* update-elc.el ((preloaded-file-list site-load-packages files-to-process)):
	If no files need byte compilation, signal to update-elc-2 to do
	any necessary autoload updating (using the file REBUILD_AUTOLOADS)
	rather than doing it ourselves, which would be way slow.  Ignore
	updates to custom-load.el and auto-autoloads.el when checking to
	see whether autoloads need updating.  Optimize out many
	unnecessary calls to file-exists-p to speed it up somewhat. (####
	The remaining time is 50% or more in locate-file; this is
	presumably because, even though it has a cache, it's still
	statting each file to determine it's actually there.  By calling
	directory-files ourselves, building a tree, and then looking in
	that tree, we could drastically shorten the time needed to do the
	locate operation.)
	
2003-02-12  Jerry James  <james@xemacs.org>

	* about.el (about-url-alist): Add my home page.
	* about.el (about-personal-info): Flatter myself.

2002-11-01  Ilpo Nyyss~nen  <iny@iki.fi>

	* mule/mule-cmds.el (finish-set-language-environment): Fix for
	call to set-language-unicode-precedence-list.

2003-02-09  Ben Wing  <ben@xemacs.org>

	* window.el (walk-windows):
	walk-windows was broken when a frame was given to WHICH-FRAMES.
	it would loop forever.  The FSF version fixes this but i didn't
	sync to them because (a) it conses (bad for lazy-lock), (b) it
	calls select-window.

2003-02-07  Ben Wing  <ben@xemacs.org>

	* hyper-apropos.el:
	* hyper-apropos.el (hyper-apropos):
	* hyper-apropos.el (hyper-apropos-grok-functions):
	* hyper-apropos.el (hyper-apropos-grok-variables):
	Separate obsolete and non-obsolete stuff and make sure we note
	when obsolete funs are just aliases for others.  Also fix some
	problems with doc string hacking.
	
	* menubar-items.el:
	* menubar-items.el (default-menubar):
	Change the Help->Info submenu a bit.
	
	* text-props.el (text-property-any):
	* text-props.el (text-property-not-all):
	Fix bug when end > start.
	
	* update-elc.el (unbytecompiled-lisp-files):
	Add raw-process.el.

2002-12-27  Stephen J. Turnbull  <stephen@xemacs.org>

	Synch to GNU Emacs 21.3.50:

	* wid-edit.el: Update Copyright notice and Commentary.
	(other):
	(float):
	(plist):
	(widget-plist-value-type):
	(widget-plist-convert-widget):
	(widget-plist-convert-option):
	(alist):
	(widget-alist-value-type):
	(widget-alist-convert-widget):
	(widget-alist-convert-option):
	New widgets and ancillary objects.
	(coding-system):
	(widget-coding-system-prompt-value-history):
	(widget-coding-system-prompt-value):
	(widget-coding-system-prompt-action):
	Reenabled widget.
	(default): Use `ignore' instead of lambda form.
	(editable-field): New help-echo, better error.
	(text): Use conventional argument order.
	(character): Specify :size property.
	(widget-menu-max-shortcuts): New user variable.
	(widget-remove-if):
	(widgetp):
	(widget-copy):
	(widget-types-copy):
	(widget-field-at):
	New functions.
	(widget-convert): Use keywordp.
	(widget-insert): Auto-autoload.
	(widget-types-convert-widget): Make defsubst.
	(widget-convert):
	(widget-get-sibling):
	(widget-insert):
	(widget-default-complete):
	(widget-item-value-create):
	(widget-field-prompt-value):
	(widget-field-validate):
	(widget-choice-validate):
	(widget-radio-value-inline):
	(widget-editable-list-value-create):
	(widget-regexp-validate):
	(widget-file-complete):
	(widget-color-complete):
	Eliminate pointless let-bindings.
	(widget-field-find): Delete old version; comment XEmacs use of
	map-extents.
	(widget-default-create):
	(widget-checklist-add-item):
	(widget-radio-add-item):
	(widget-radio-chosen):
	(widget-editable-list-entry-create):
	(widget-documentation-string-value-create):
	Insert characters, not one-element strings.
	(widget-default-create): Use stream argument of princ.
	(widget-default-format-handler): Check functionp before funcalling.
	(widget-url-link-action): Fix if-fboundp typo and too-long line.
	(widget-sublist):
	(cons :value-to-external):
	Use Common Lisp functions.
	(widget-echo-help):
	(widget-default-value-set):
	Use `if' rather than `and' and `when'.
	(widget-princ-to-string):
	(widget-specify-sample):
	(widget-specify-doc):
	(widget-glyph-directory):
	(widget-glyph-enable):
	(widget-after-change):
	Docstrings from comments or improve docstrings.
	(widget-image-conversion): New GNU Emacs-compatible alias.
	(widget-field-face): Handle light-background TTYs.

2003-02-06  Stephen J. Turnbull  <stephen@xemacs.org>

	* update-elc.el (lisp-files-needing-early-byte-compilation):
	Comment referred to wrong variable.
	(do-autoload-commands ...): Remove duplicate comment.

2003-02-05  Ben Wing  <ben@xemacs.org>

	* mule/cyril-util.el:
	* mule/cyril-util.el (standard-display-table):
	* mule/cyril-util.el (standard-display-table)): New.
	Fix compile warning.

2003-02-05  Ben Wing  <ben@xemacs.org>

	* loadup.el:
	* loadup.el (really-early-error-handler):
	* loadup.el (load-warn-when-source-only):
	* loadup.el ((member "dump" command-line-args)):
	* make-docfile.el:
	* update-elc-2.el:
	* update-elc.el:
	Set stack-trace-on-error, load-always-display-messages so we
	get better debug results.

	* update-elc-2.el (batch-update-elc-2):
	Fix typo in name of lisp/mule, leading to compile failure.

	* simple.el:
	* simple.el (motion-keys-for-shifted-motion):
	Omit M-S-home/end from motion keys.
	
	* update-elc.el (undumped-exe): New.
	* update-elc.el (dumped-exe): New.
	* update-elc.el (dumped-exe-out-of-date-wrt-dump-files): New.
	* update-elc.el (dumped-exe-out-of-date-wrt-undumped-exe): New.
	* update-elc.el ("very-early-lisp.el"):
	* update-elc.el (lisp-files-needed-for-byte-compilation): New.
	* update-elc.el (lisp-files-needing-early-byte-compilation): New.
	* update-elc.el (unbytecompiled-lisp-files): New.
	* update-elc.el ((preloaded-file-list site-load-packages files-to-process)):
	Overhaul:

	-- allow list of "early-compile" files to be specified, not hardcoded
	-- fix autoload checking to include all .el files, not just dumped ones
	-- be smarter about regenerating autoloads, so we don't need to use
	   loadup-el if not necessary
	-- use standard methods for loading/not loading auto-autoloads.el
	   (maybe fixes "Already loaded" error?)
	-- rename misleading NOBYTECOMPILE flag file.
	
	* window-xemacs.el (window-list):
	Fix bug in default param.
	
	* window-xemacs.el (really-set-window-configuration):
	* window-xemacs.el (restore-saved-window-parameters):
	Fix compile warnings.

2003-02-02  Steve Youngs  <youngs@xemacs.org>

	* about.el (xemacs-hackers): Add Jerry, Ville, 
	(about-current-release-maintainers): Remove Martin, Jason.  Add
	Jerry, Ville.
	(about-other-current-hackers): Add Martin, Jason.
	(about-personal-info): Update me.  Add Jerry, Ville.
	(about-hacker-contribution): Update me, Martin, Steve T.  Add
	Jerry, Ville.

2003-01-18  Stephen J. Turnbull  <stephen@xemacs.org>

	* autoload.el: Drastically reorganized.

	API improvement:

	(autoload-target-directory): 
	(batch-update-autoloads): 
	(batch-update-directory): 
	(batch-update-one-directory): 
	(batch-force-update-one-directory):
	Deprecated.
	(autoload-feature-prefix): New special.
	(autoload-package-name): Obsolete alias for autoload-feature-prefix.
	(autoload-batch-update-autoloads): New function.  Main
	command-line API.

	Documentation:

	Improve many docstrings.
	(Header summary): Update.
	(Commentary): Completely rewritten.
	(ChangeLog): Redundant, so removed.

	General sanitation:

	(generated-autoload-file): Default changed to lisp-directory.
	(generate-file-autoloads): Better argument checking.
	(generate-c-file-autoloads-1): Make the output code prettier,
	clean up long lines.
	(autoload-featurep-protect-autoloads):
	(autoload-make-feature-name):
	New functions for handling feature checking and provide'ing.
	(update-autoload-files): Use them.  Don't try tricky things to
	guess feature names.
	(update-autoloads-here): Remove extra arg to a call
	to format.  Warn of probable bitrot in the docstring.
	(batch-force-update-one-directory):
	(batch-update-one-directory):
	Fix typo in error message.

	Related changes:

	* update-elc.el: Use `autoload-update-directory-autoloads'.

	* update-elc-2.el (batch-update-elc-2): Use full API for
	`update-autoload-files'.

	* startup.el (startup-load-autoloads): Oops.  Ben generates Mule
	autoloads in lisp/mule, Mike doesn't load them in startup.el.
	Also, use `when' and `unless' for clarity.
	(command-line): Comment typo.
	(splash-frame-body): Grammatical nits.

2003-01-17  Stephen J. Turnbull  <stephen@xemacs.org>

	* info.el (Info-insert-dir): Make default-directory end in
	separator.  Patch due to Martin Buchholz.

2003-01-10  Mike Sperber  <mike@xemacs.org>

	* window-xemacs.el: Revert his change
	
		2003-01-10  Mike Sperber  <mike@xemacs.org>

		* window-xemacs.el (window-reduce-to-one): Rewrite in terms of
		`delete-other-windows.'
		(window-find-buffer-subwindow): Add.

	It caused subtle breakage.  (And add a comment to that effect.)
	
2003-01-13  Mike Sperber <mike@xemacs.org>

	* packages.el: 
	* find-paths.el: Revert this change

		2000-04-01  Mike Sperber  <mike@xemacs.org>

		* packages.el (packages-find-package-directories): Added support
		for external package hierarchies with in-place installations.

		* find-paths.el (paths-root-in-place-p): Added.
		(paths-find-emacs-directory): Added support for external
		directories with in-place installations.
		(paths-find-site-directory): Ditto.

2003-01-19  Mike Sperber  <mike@xemacs.org>

	* startup.el (normal-top-level): Compute `emacs-data-roots.'  Call
	`startup-setup-paths' with data-roots argument.
	(emacs-data-roots): Add.

	* dump-paths.el: Call `startup-setup-paths' with
	data-roots argument.
	(startup-setup-paths): Use `data-roots' instead of `roots' to find
	packages.
	Call `paths-find-emacs-roots' with `root-p' argument.

	* make-docfile.el: Call `paths-find-emacs-roots' with `root-p' argument.

	* find-paths.el (paths-emacs-data-root-p): Add.
	(paths-find-emacs-roots): Parmeterize over `root-p.'

2003-01-13  Ilya Golubev  <golubev@xemacs.org>

	* about.el: Update golubev data.

2003-01-10  Mike Sperber  <mike@xemacs.org>

	* window-xemacs.el (window-reduce-to-one): Rewrite in terms of
	`delete-other-windows.'
	(window-find-buffer-subwindow): Add.

2003-01-09  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/japan-util.el (setup-japanese-environment-internal):
	usg-unix-v is not a suitable catchall.

	* mule/viet-util.el: 
	* mule/ethio-util.el:
	characater -> character.

	* mule/cyril-util.el (cyrillic-language-alist): There is no such
	language as Serbo-Croatian, according to Hrvoje, who oughtta know.

2003-01-04  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.10 "burdock" is released.

2002-12-27  Stephen J. Turnbull  <stephen@xemacs.org>

	* wid-edit.el: Synch trivia to GNU Emacs 21.3.50.  Make docstrings
	from comments, fix typos & whitespace, add some comments and fixmes.

2002-12-17  Daiki Ueno  <daiki@xemacs.org>

	* process.el (shell-command-to-string): Synch with GNU Emacs 21.

2002-12-15  Ben Wing  <ben@xemacs.org>

	* ChangeLog: Combine all ChangeLog files.
	* ChangeLog.1: Deleted.

2002-12-14  Ben Wing  <ben@xemacs.org>

	* window-xemacs.el (restore-saved-window-parameters):
	Don't override point motion when restoring window start, or
	`M-x goto-line' doesn't work.

2002-12-03  John Paul Wallington  <jpw@shootybangbang.com>

	* cus-start.el (garbage-collection-messages): Add.

2002-12-02  Mike Sperber <mike@xemacs.org>

	* The Great Window Configuration rewrite: Re-implement window
	configuration functionality in Emacs Lisp.

	* window-xemacs.el (current-window-configuration): 
	(set-window-configuration): (plus many functions they depend on)
	Re-implement window configurations in Emacs Lisp.

2002-12-03  Didier Verna  <didier@xemacs.org>

	* faces.el (set-face-background-pixmap-file): Ensure default value
	can be computed.

2002-12-03  Didier Verna  <didier@xemacs.org>

	* faces.el (background-pixmap-file-history): New.
	* faces.el (set-face-background-pixmap-file): New.

2002-11-28  Mike Sperber <mike@xemacs.org>

	* window.el (save-window-excursion): New macro to eventually
	replace the bytecode instruction of that name.

2002-11-16  Mike Sperber <mike@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Move window.el & neighbors
	further up because other some files further down import macro(s)
	from it.

2002-11-26  Mike Sperber <mike@xemacs.org>

	* window.el (shrink-window-if-larger-than-buffer): Elide braindead
	use of `save-window-excursion'.

2002-11-28  Mike Sperber <mike@xemacs.org>

	* dialog.el (make-dialog-box): `set-frame-pixel-size' ->
	`set-frame-displayable-pixel-size,' following the
	`frame-pixel-xxx' reorganization in src/frame.c.

2002-11-27  Ben Wing  <ben@xemacs.org>

	* cl-macs.el (loop): Document better.

	* cmdloop.el:
	* cmdloop.el (command-error):
	* cmdloop.el (breakpoint-on-error): Removed.
	Remove nonworking breakpoint-on-error now that debug-on-error
	works as documented.

	* help.el:
	* help.el (temp-buffer-mode): New.
	* help.el (Commands): New.
	* help.el (temp-buffer-mode-map): New.
	* help.el (mode-for-temp-buffer): New.
	* help.el (with-displaying-help-buffer): Removed.
	* help.el (with-displaying-temp-buffer): New.
	Extract out with-displaying-help-buffer into a more general
	mechanism.

	* lib-complete.el:
	* lib-complete.el (find-library-source-path):
	* lib-complete.el (find-library):
	Support thunks in find-library-source-path.

	* startup.el (normal-top-level):
	Don't catch errors when noninteractive, because that makes
	stack traces from stack-trace-on-error useless.

2002-11-17  Ben Wing  <ben@xemacs.org>

	* code-files.el (load):
	* loadhist.el (unload-feature):
	Fix warnings.

	* package-get.el (package-get-update-base-from-buffer):
	Fix warnings.

	NOTE: This was already fixed awhile ago, but reverted by Steve Y.
	Please be careful.

2002-10-14  Jerry James  <james@xemacs.org>

	* gtk-font-menu.el (gtk-reset-device-font-menus): Simplify code
	that previously could not depend on LISP_FLOAT_TYPE.
	* x-font-menu.el (x-reset-device-font-menus): Ditto.

2002-11-12  Stephen J. Turnbull  <stephen@xemacs.org>

	Synch to 21.4 (suggested by Edward M. Lee <edward@tailifer.com>):

	* font-menu.el (font-menu-set-font): Make sure values for family,
	size, and weight are defaulted non-nil.  Fix indentation.
	(font-menu-size-scaling):
	(font-menu-preferred-resolution):
	Provide specs for GTK+.

2002-11-03  Mike Sperber <mike@xemacs.org>

	* code-process.el (call-process-region): Preserve return value
	from `call-process.'

2002-10-25  Scott Evans  <gse@antisleep.com>

	* replace.el (operate-on-non-matching-lines)
	(operate-on-non-matching-lines): Generalized from
	delete-non-matching-lines and delete-matching-lines.  The
	"operate" versions work with regions, can copy to the kill ring,
	and return the number of lines copied/deleted.
	(delete-non-matching-lines): Use operate-on-non-matching-lines.
	(delete-matching-lines): Use operate-on-matching-lines.
	(kill-non-matching-lines): New.
	(copy-non-matching-lines): New.
	(kill-matching-lines): New.
	(copy-matching-lines): New.

2002-10-24  Andy Piper  <andy@xemacs.org>

	* dialog.el (make-dialog-box): for general dialogs only
	delete-frame-hook will be run.

2002-10-10  Jerry James  <james@xemacs.org>

	* autoload.el (generate-file-autoloads-1): Use new print-autoload
	margin parameter.
	* autoload.el (generate-c-file-autoloads-1): Ditto.  Fix typo in
	docstring.  Conditionalize module autoloads on the presence of the
	module in module-directory.
	* autoload.el (print-autoload): New margin parameter to prettify
	module auto-autoloads without affecting Lisp auto-autoloads.
	* dump-paths.el (startup-setup-paths): Always set
	module-directory, site-module-directory, and module-load-path,
	even when not called-early.

2002-09-22  Ville Skyttä  <ville.skytta@xemacs.org>

	* package-get.el (package-get-download-sites): Bring sites list
	up to date, prefer xx.xemacs.org addresses.

2002-09-12  John Paul Wallington  <jpw@shootybangbang.com>

	* hyper-apropos.el (hyper-apropos-popup-menu): Add "Find Variable"
	menu entry for `hyper-apropos-find-variable'.

2002-09-03  John Paul Wallington  <jpw@shootybangbang.com>

	* help.el (view-lossage): Change interactive spec to "P".

2002-09-03  John Paul Wallington  <jpw@shootybangbang.com>

	* subr.el (with-output-to-string): Synch with GNU Emacs 21;
	avoids leaking temp buffers by killing rather than erasing
	them, and doesn't execute BODY in temporary `standard-output'
	buffer.

2002-10-07  Katsumi Yamaoka  <yamaoka@jpl.org>

	* keydefs.el (global-map): Bind C-xrd to delete-rectangle per GNU.

2002-10-03  Stephen J. Turnbull  <stephen@xemacs.org>

	* font-lock.el (font-lock-compile-keywords): Improve docstring.

2002-09-22  Ville Skyttä  <ville.skytta@xemacs.org>

	* files.el (auto-mode-alist): Move entries for modes in packages
	to the corresponding modes.
	(interpreter-mode-alist): Ditto.

2002-09-16  Stephen J. Turnbull  <stephen@xemacs.org>

	* obsolete.el (parse-sexp-lookup-properties): new compatible alias
	for `lookup-syntax-properties'.  RFE from Alan Mackenzie.

2002-08-08  Jerry James  <james@xemacs.org>

	* autoload.el (make-c-autoload): New function for reading autoload
	markers in C files.
	* autoload.el (generate-c-autoload-cookie): New variable.
	* autoload.el (generate-c-autoload-module): New variable.
	* autoload.el (generate-file-autoloads): Do C autoloads, too.
	* autoload.el (generate-file-autoloads-1): Use print-autoload.
	* autoload.el (generate-c-file-autoloads-1): New function.
	* autoload.el (print-autoload): New function to abstract the
	printing of autoload forms.
	* autoload.el (update-file-autoloads): Do C autoloads, too.
	* autoload.el (update-autoloads-from-directory): Ditto.
	* code-files.el (load): Pass the pathless filename to load-module.
	* loadhist.el (unload-feature): Set unloading-module when a
	module marker is seen in load-history.  Call unload-module if
	unloading-module is non-nil.
	* startup.el (startup-load-autoloads): Look for module autoloads.
	* update-elc-2.el (batch-update-elc-2): Generate module
	autoloads.

2002-09-02  Ville Skyttä  <ville.skytta@xemacs.org>

	* bytecomp-runtime.el (make-obsolete): Docstring argument nit.
	(make-obsolete-variable): Ditto.
	(make-compatible): Ditto.
	(make-compatible-variable): Ditto.

2002-07-12  Andy Piper  <andy@xemacs.org>

	* custom.el (custom-theme-set-variables): remove bogus
	arguments. Use custom-set-default to set defaults.
	(custom-set-variables): update doc.
	(custom-local-buffer): new, synced from FSF.
	(custom-set-default): ditto.
	(defcustom): update doc.

2002-07-23  Andy Piper  <andy@xemacs.org>

	* about.el (about-personal-info): update me.

2002-08-28  Andy Piper  <andy@xemacs.org>

	* files.el (revert-buffer): propagate revert-without-query-status.

2002-08-31  Seiichi Ikiuo  <ikiuo@polyphony.co.jp>

	* code-init.el (reset-coding-categories-to-default): Add new
	coding category 'utf-8-bom'.

	* coding.el (coding-system-category): Add check for 'utf-8-bom'.

	* unicode.el: Add new coding system 'utf-8-bom'.

2002-08-30  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.9 "brussels sprouts" is released.

2002-08-16  Steve Youngs  <youngs@xemacs.org>

	* build-report.el (build-report-installation-version-regexp):
	Update to cater for 'xemacs-extra-name'.
	(build-report-version-file-regexp): Ditto.
	(build-report): Ditto.
	(build-report-installation-data): Ditto.
	(build-report-version-file-data): Ditto.

	* version.el (emacs-version): Test for 'xemacs-extra-name'.

2002-08-16  Stephen J. Turnbull  <stephen@xemacs.org>

	* autoload.el (make-autoload): Make comment more precise.  Support
	docstring for define-derived-mode.

2002-08-13  Stephen J. Turnbull  <stephen@xemacs.org>

	* startup.el (command-line-do-help): Fix typo in help string.

2002-08-11  John Paul Wallington  <jpw@shootybangbang.com>

	* simple.el (join-line): New alias for `delete-indentation'.

2002-08-03  Steve Youngs  <youngs@xemacs.org>

	* lib-complete.el (find-library): Remove check for mule because
	decompression DOES work on Mule.

2002-05-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mule/japan-util.el (setup-japanese-environment-internal): Use
	proper coding-systems.

2002-05-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mule/japan-util.el: Use `characterp' instead of `integerp' while
	defining char properties for katakana.

	* mule/mule-category.el: Clear the category table before defining
	categories for `predefined-category-list'.

	* mule/mule-cmds.el (finish-set-language-environment): Fit the
	charsets preferences in unicode conversions for the language
	environment.  Suggested by ARISAWA Akihiro <ari@mbf.sphere.ne.jp>.

2002-08-02  Ville Skyttä  <ville.skytta@xemacs.org>

	* font-lock.el: Some faces and doc typo fixes from GNU Emacs.
	(font-lock-doc-face): New alias to font-lock-doc-string-face.
	(font-lock-builtin-face): New.
	(font-lock-constant-face): New.
	(font-lock-face-list): Add builtin and constant faces.

2002-07-27  Steve Youngs  <youngs@xemacs.org>

	* XEmacs 21.5.8 "broccoli" is released.

2002-06-04  John H Palmieri  <palmieri@math.washington.edu>

	* gutter-items.el (buffers-tab-omit-function): Default value is
	now `buffers-tab-omit-some-buffers'.
	* gutter-items.el (buffers-tab-omit-list): New customizable
	variable, specifying which buffers to omit from buffers tab.
	* gutter-items.el (buffers-tab-omit-some-buffers): New function
	which uses buffers-tab-omit-list.

2002-07-21  John Paul Wallington  <jpw@xemacs.org>

	* process.el (substitute-env-vars): New function; sync with
	GNU Emacs 21.1.50.
	(setenv): Add optional arg SUBSTITUTE-ENV-VARS; sync with
	GNU Emacs 21.1.50.

2002-07-17  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-update-base-from-buffer): Re-write
	so it doesn't rely on the APEL package.

2002-07-16  Didier Verna  <didier@xemacs.org>

	* subr.el (replace-in-string): fix case fold bug introduced by
	"2000-07-30  Ben Wing  <ben@xemacs.org>": honor the value of
	case-fold-search in temporary buffers.

2002-07-01  Mike Alexander  <mta@arbortext.com>

	* code-process.el (call-process-region): Don't delete the process
	output if start equals end

2002-07-14  Mike Alexander  <mta@arbortext.com>

	* process.el (shell-command-on-region): Don't delete the region
	before giving it to call-process-region

2002-07-14  Adrian Aichner  <adrian@xemacs.org>

	* ChangeLog: It's XEmacs, not Xemacs.

2001-07-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mule/kinsoku.el (kinsoku-bol-p): Work with ascii and non-ascii
	mixed text.
	(kinsoku-eol-p): Ditto.

2001-07-09  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mule/kinsoku.el (kinsoku-ascii-eol, kinsoku-gb-bol,
	kinsoku-gb-eol, kinsoku-big5-bol, kinsoku-big5-eol): Assign
	characters as the category `s' or `e' correctly.

2002-06-26  John Paul Wallington  <jpw@shootybangbang.com>

	* derived.el (define-derived-mode): Put `derived-mode-parent'
	property on child.
	(derived-mode-p): New function; sync with GNU Emacs 21.

2002-06-16  Andy Piper  <andy@xemacs.org>

	* menubar-items.el (default-menubar): enable windows printing on
	cygwin as well as native.

2002-06-12  Andy Piper  <andy@xemacs.org>

	* printer.el (generic-print-buffer): catch all errors so that the
	print device can be cleared in all scenarios.
	(Printer-clear-device): make sure clearing the printer allows it
	to be used again immediately.
	(generic-print-region): make sure the default printer face is
	black-on-white.

2002-04-23  Jerry James  <james@xemacs.org>

	* window-xemacs.el (display-buffer-function): Change doc to
	reflect new arg.
	* window-xemacs.el (pre-display-buffer-function): Ditto.
	* window-xemacs.el (display-buffer): New arg, shrink-to-fit.  If
	non-nil, make the new window just big enough for its contents.
	* frame.el (get-frame-for-buffer): Accept new arg, due to above.
	* frame.el (show-temp-buffer-in-current-frame): Remove broken
	temp-buffer-shrink-to-fit code.  Tell display-buffer instead.

2002-06-06  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (buffers-tab-filter-functions): fix typo.

2002-06-06  Andy Piper  <andy@xemacs.org>

	* custom.el (custom-theme-set-variables): sync :set-after from FSF.
	(defcustom): ditto.
	(custom-handle-keyword): ditto.

2002-06-04  John H Palmieri  <palmieri@math.washington.edu>

	* gutter-items.el (buffers-tab-selection-function): fix
	documentation, make obsolete.
	* gutter-items.el (buffers-tab-filter-functions): change default
	value (but not default behavior), reword documentation.

2002-06-27  Olivier Galibert  <galibert@pobox.com>

	* behavior.el (enabled-behavior-list): Sort the lists for the
	assert comparison.

2002-07-02  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.7 "broccoflower" is released.

2002-06-27  Mike Sperber <mike@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Added post-gc.el.

	* post-gc.el: Create.

2002-06-24  John Paul Wallington  <jpw@shootybangbang.com>

	* obsolete.el (frame-parameter): New compatibility function.
	(makehash): Ditto.
	(buffer-local-value): Ditto.
	(line-beginning-position): New compatibility alias for `point-at-bol'.
	(line-end-position): New compatibility alias for `point-at-eol'.

	* subr.el (with-temp-message): New function; sync with GNU Emacs 21.
	(bound-and-true-p): Ditto.
	(propertize): New function.
	(delete-and-extract-region): Ditto.

2002-06-24  Jerry James  <james@xemacs.org>

	* code-files.el (load): Look for a binary module if no Lisp file
	with the correct name is found.

2002-06-22  Ville Skyttä  <ville.skytta@xemacs.org>

	* subr.el (add-to-list): Sync with GNU Emacs 21.2, adding the
	"&optional append" argument.

2002-06-23  Stephen J. Turnbull  <stephen@xemacs.org>

	* unicode.el (load-unicode-tables): Comment loading 8859-1.TXT.

2002-06-20  Ben Wing  <ben@xemacs.org>

	* mule/mule-msw-init-late.el:
	Specify charset->windows-registry conversion.

	* mule/mule-x-init.el:
	* mule/mule-x-init.el (x-use-halfwidth-roman-font):
	* mule/mule-x-init.el (init-mule-x-win):
	Delete extra mule font additions here.  Put them in faces.c.

2002-06-20  Ben Wing  <ben@xemacs.org>

	* cl-macs.el (defun*):
	* cl-macs.el (defmacro*):
	* cl-macs.el (destructuring-bind):
	Document better.

	* font-lock.el (lisp-font-lock-keywords-1):
	Move Lisp function regexp to lisp-mode.el.

	* lisp-mode.el:
	* lisp-mode.el (lisp-function-and-type-regexp): New.
	* lisp-mode.el (lisp-flet-regexp): New.
	* lisp-mode.el (lisp-indent-function):
	* lisp-mode.el (lisp-indent-quoteform): New.
	Various indentation fixes:

	Handle flet functions better.
	Handle argument lists in defuns and flets.
	Handle quoted lists, e.g. property lists -- don't indent like
	function calls.  Distinguish between lambdas and other lists.

	* lisp-mode.el (save-selected-device): Handle this form.

	* faces.el:
	* faces.el (face-property-instance):
	* faces.el (face-property-matching-instance):
	* faces.el (set-face-property):
	* faces.el (set-face-display-table):
	* faces.el (set-face-underline-p):
	* faces.el (set-face-strikethru-p):
	* faces.el (set-face-highlight-p):
	* faces.el (set-face-blinking-p):
	* faces.el (face-equal):
	* faces.el (try-font-name):
	* faces.el (face-frob-from-locale-first): New.
	* faces.el (frob-face-property): Removed.
	* faces.el (included): Removed.
	* faces.el (frob-face-property-1): Removed.
	* faces.el (frob-face-font-2): Removed.
	* faces.el (Face-frob-property-device-considered-current): New.
	* faces.el (Face-frob-property): New.
	* faces.el (make-face-family):
	* faces.el (make-face-bold):
	* faces.el (make-face-italic):
	* faces.el (NOTE): New.
	* faces.el (functions): New.
	* faces.el (make-face-bold-italic):
	* faces.el (make-face-unbold):
	* faces.el (make-face-unitalic):
	* faces.el (make-face-size):
	* faces.el (make-face-smaller):
	* faces.el (make-face-larger):
	* faces.el (get-frame-background-mode):
	* faces.el (init-global-faces):
	* font-menu.el:
	* font-menu.el (font-menu-set-font):
	* font-menu.el (font-menu-change-face):
	* font.el:
	* font.el (mswindows-font-weight-mappings):
	* font.el (font-mswindows-font-regexp): Removed.
	* font.el (mswindows-font-create-object):
	* font.el (mswindows-font-create-name):
	* gtk-faces.el (gtk-init-global-faces):
	* msw-faces.el:
	* msw-faces.el (mswindows-init-device-faces):
	* msw-faces.el (mswindows-font-regexp): Removed.
	* msw-faces.el (mswindows-font-canonicalize-name): Removed.
	* msw-faces.el (mswindows-canonicalize-font-name): New.
	* msw-faces.el (mswindows-parse-font-style): New.
	* msw-faces.el (mswindows-construct-font-style): New.
	* msw-faces.el (mswindows-frob-font-style): New.
	* msw-faces.el (mswindows-frob-font-style-and-sizify): New.
	* msw-faces.el (mswindows-nonbold-weight-regexp): New.
	* msw-faces.el (mswindows-make-font-unbold):
	* msw-faces.el (mswindows-bold-weight-regexp): New.
	* msw-faces.el (mswindows-make-font-italic):
	* msw-faces.el (mswindows-make-font-bold-mapper): New.
	* msw-faces.el (mswindows-make-font-unitalic):
	* msw-faces.el (mswindows-make-font-nonbold-mapper): New.
	* msw-faces.el (mswindows-make-font-italic-mapper): New.
	* msw-faces.el (mswindows-make-font-bold-italic):
	* msw-faces.el (mswindows-make-font-unitalic-mapper): New.
	* msw-faces.el (mswindows-make-font-bold-italic-mapper): New.
	* msw-faces.el (mswindows-find-smaller-font):
	* msw-faces.el (mswindows-find-larger-font):
	* msw-faces.el (mswindows-available-font-sizes): New.
	* msw-faces.el (mswindows-frob-font-size): New.
	* msw-font-menu.el:
	* msw-font-menu.el (mswindows-font-menu-junk-families):
	* msw-font-menu.el (mswindows-font-menu-registry-encoding): Removed.
	* msw-font-menu.el (mswindows-reset-device-font-menus):
	* msw-font-menu.el (mswindows-font-menu-font-data):
	* msw-font-menu.el (mswindows-font-menu-load-font):
	* x-faces.el:
	* x-faces.el (x-init-global-faces):
	* x-faces.el (x-init-device-faces):
	* x-init.el (init-x-win):
	* x-init.el (init-post-x-win):

	Major overhaul of face-handling code:

	-- Fix lots of bogus code in msw-faces.el, msw-font-menu.el,
	font-menu.el that was "truenaming" font specs -- i.e. in the
	process of frobbing a particular field in a general user-specified
	font spec with wildcarded fields, sticking in particular values
	for all the remaining wildcarded fields.  This bug was rampant
	everywhere except in x-faces.el (the oldest and only correctly
	written code).  This also means that we need to work with font
	names at all times and not font instances, because a font instance
	is essentially a truenamed font.

	-- Total rewrite of extremely junky code in msw-faces.el.  Work
	with names as well as font instances, and return names; stop
	truenaming when canonicalizing and frobbing; fix handling of the
	combined style field, i.e. weight/slant (also fixed in font.el).

	-- Totally rewrite the frobbing functions in faces.el.  This time,
	we frob all the instantiators rather than just computing a single
	instance value and working backwards.  That way, e.g., `bold' will
	work for all charsets that have bold available, rather than only
	for whatever charset was part of the computed font instance
	(another example of the truename virus).  Also fix up code to look
	at the fallbacks (all of them) when no global value present, so we
	don't need to put something in the global value.  Intelligently
	handle a request to frob a buffer locale, rather than signalling
	an error.  When frobbing instantiators, try hard to figure out
	what device type is associated with them, and frob each according
	to its own proper device type.  Correctly handle inheritance
	vectors given as instantiators.  Preserve existing tags when
	putting back frobbed instantiators.  Extract out general
	specifier-frobbing code into specifier.el.  Document everything
	cleanly.  Do lots of other things better, etc.

	-- Don't duplicatively set a global specification for the default
	font -- it's already in the fallback and we no longer need a
	default global specification present.  Delete various code in
	x-faces.el and msw-faces.el that duplicated the lists of fonts in
	faces.c.

	-- init-global-faces was not being called at all under MS Windows!
	Major bogosity. That caused device-specific values to get stuck
	into all the fonts, making it very hard to change them -- setting
	global specs caused nothing to happen.

	-- Correct weight names in font.el.

	-- Lots more font fixups in objects*.c.

	* Printer.el (generic-print-region):
	Warning fix.

	* specifier.el:
	* specifier.el (map-specifier):
	* specifier.el (modify-specifier-instances):
	* specifier.el (instance-to-instantiator): New.
	* specifier.el (device-type-matches-spec): New.
	* specifier.el (add-tag-to-inst-list): New.
	* specifier.el (derive-domain-from-locale): New.
	* specifier.el (derive-device-type-from-tag-set): New.
	* specifier.el (Specifically): New.
	* specifier.el (derive-device-type-from-locale-and-tag-set): New.
	* specifier.el (derive-specifier-specs-from-locale): New.
	Add more args to map-specifier.

	Add various "heuristic" specifier functions to aid in creation of
	specifier-munging code such as in faces.el.

	* subr.el:
	* subr.el (args-out-of-range): New.
	* subr.el (argument-in-range-p): New.
	* subr.el (check-argument-range): New.
	New functions.


2002-06-04  Andy Piper  <andy@xemacs.org>

	* startup.el (normal-top-level): Fix bad merge.

2002-06-04  Jerry James <james@eecs.ku.edu>

	* find-paths.el (paths-find-architecture-directory): Search in
	`system-configuration'/`base', not `base'`system-configuration'.

2002-06-03  Andy Piper  <andy@xemacs.org>

	* dialog-items.el (make-search-dialog): align various subcontrols
	in visually pleasing ways, allow frame to autosize to the dialog
	size.
	* dialog.el (make-dialog-box): add a border inside the frame. Add
	:autosize property, if t then reset the frame size appropriately
	before the frame is mapped.
	* gutter-items.el (set-progress-feedback-instantiator): align
	various subcontrols.
	* gutter-items.el (set-progress-abort-instantiator): ditto.

2002-05-30  Andy Piper  <andy@xemacs.org>

	* files.el (revert-buffer-internal): don't visit
	revert-buffer. Kill buffer when not used. Suggested by Mike
	Alexander <mta@arbortext.com>

2002-05-08  Andy Piper  <andy@xemacs.org>

	* files.el (revert-buffer): observe noconfirm behavior.

2002-04-09  Andy Piper  <andy@xemacs.org>

	* files.el (revert-buffer): use revert-buffer-internal if it looks
	like doing so will not result in any user-visible changes.
	(revert-buffer-internal): new function. Do the actual process of
	reversion and then see whether the result is any different to what
	we have already. If it is not then do nothing.

2002-02-04  Andy Piper  <andy@xemacs.org>

	* files.el (convert-standard-filename): Fix for short filename
	Peter Arius <pas@methodpark.de>

2001-12-16  Andy Piper  <andy@xemacs.org>

	* package-get.el (package-get-update-all): Make sure installed.db
	gets updated after updating packages.

2001-12-11  Andy Piper  <andy@xemacs.org>

	* menubar.el (get-popup-menu-response): re-order so that it works
	on more sane/facist window systems.

2001-12-03  Andy Piper  <andy@xemacs.org>

	* faces.el (frob-face-property): don't infloop in face frobbing
	from Jan Vroonhof <jan@xemacs.org>.

2001-11-30  Andy Piper  <andy@xemacs.org>

	* printer.el (generic-print-region): fix for non-MS systems from
	Mike Fabian.

2001-11-30  Jan Vroonhof  <jan@xemacs.org>

	* font.el (font-window-system-mappings): Add mapping for Gtk
	(assume identical to X)

2001-11-30  Jan Vroonhof  <jan@xemacs.org>

	* faces.el (frob-face-property): Follow face fall-back hierarchy
	properly for face properties without an instance. Only do manual
	copy form 'default in last resort. This handles in particular
	the case where 'default itself has only a fall-back (which is
	the case by default on windows).

2001-11-24  Andy Piper  <andy@xemacs.org>

	* printer.el (generic-print-region): set default-frame-plist to
	nil while creating the printer frame so that sizes reflect the
	printed page.

	* faces.el (face-complain-about-font): Don't complain on printers.

2002-04-25  Steve Youngs  <youngs@xemacs.org>

	* mule/mule-charset.el (string-to-char-list): New.  This used to
	be in 'mule-misc.el' but that file has been removed.

2002-04-14  Steve Youngs  <youngs@xemacs.org>

	* obsolete.el (find-non-ascii-charset-region): A couple of
	packages use this.
	(find-non-ascii-charset-string): Ditto.

2002-04-14  Ben Wing  <ben@xemacs.org>

	* abbrev.el:
	* abbrev.el (abbrev-mode):
	* abbrev.el (only-global-abbrevs):
	* abbrev.el (defining-abbrev-turns-on-abbrev-mode): New.
	* abbrev.el (define-abbrev-table):
	* abbrev.el (global-abbrev-mode): New.
	* abbrev.el (add-mode-abbrev):
	* abbrev.el (add-global-abbrev):
	* abbrev.el (inverse-add-mode-abbrev):
	* abbrev.el (inverse-add-global-abbrev):
	Add `global-abbrev-mode', which turns on or off abbrev-mode in all
	buffers.  Added `defining-abbrev-turns-on-abbrev-mode' -- if
	non-nil, defining an abbrev through an interactive function will
	automatically turn on abbrev-mode, either globally or locally
	depending on the command.  This is the "what you'd expect"
	behavior.
	* indent.el:
	* indent.el (indent-balanced-expression-function): New.
	* indent.el (indent-balanced-expression): New.
	* indent.el (indent-region-or-balanced-expression): New.
	general function for indenting a balanced expression in a
	mode-correct way.  Works similar to indent-region in that a mode
	can specify a specific command to do the whole operation; if not,
	figure out the region using forward-sexp and indent each line
	using indent-according-to-mode.
	* keydefs.el:
	* keydefs.el (global-map): Removed.
	Modify M-C-backslash to do indent-region-or-balanced-expression.
	Make S-Tab just insert a TAB char, like it's meant to do.
	* make-docfile.el:
	* make-docfile.el (docfile-out-of-date):
	Now that we're using the call-process-in-lisp, we need to load
	an extra file win32-native.el because we're running a bare temacs.
	* menubar-items.el:
	* menubar-items.el (default-menubar):
	Totally redo the Cmds menu so that most used commands appear
	directly on the menu and less used commands appear in submenus.
	The old way may have been very pretty, but rather impractical.
	* process.el (call-process-internal):
	Under Windows, don't ever use old-call-process-internal, even
	in batch mode.  We can do processes in batch mode.
	* subr.el:
	* subr.el (truncate-string-to-width):
	* subr.el (truncate-string-with-continuation-dots): New.
	* subr.el (plist-to-alist):
	Someone recoded truncate-string-to-width, saying "the FSF version
	is too complicated and does lots of hard-to-understand stuff" but
	the resulting recoded version was *totally* wrong!  it
	misunderstood the basic point of this function, which is work in
	*columns* not chars.  i dumped ours and copied the version from
	FSF 21.1.  Also added truncate-string-with-continuation-dots,
	since this idiom is used often.

2002-04-07  William M. Perry  <wmperry@gnu.org>

	* startup.el (command-line): Don't call init-menubar-at-startup
	unless we were built with menubar support.

2002-03-19  Daiki Ueno  <daiki@xemacs.org>

	* mule/japanese.el: Don't quote function expressions listed as
	`native-coding-system'.
	* mule/chinese.el: Likewise.

2002-06-03  Ben Wing  <ben@xemacs.org> and
            Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* process.el:
	* process.el (process-synchronize-point): New.
	* process.el (call-process-internal):
	Create new process-synchronize-point to avoid dynamic binding
	problems.  Fix editing bogosity in setting process sentinels.

2002-05-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* obsolete.el (find-non-ascii-charset-region): Revert the function
	definition.
	(find-non-ascii-charset-string): Ditto.

2002-06-01  Ben Wing  <ben@xemacs.org>

	* process.el (call-process-internal):
	Insert before, not after, point.

2002-05-30  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* code-process.el (call-process): Ensure that the argument to
	`symbol-value-in-buffer' is a buffer even if `buffer' is a string.

2002-05-28  Ben Wing  <ben@xemacs.org>

	* code-init.el:
	* code-init.el (coding-system-variable-default-value-table):
	* code-init.el (coding-system-variable-default-value):
	Don't use CRLF conversion by default on process output.  CMD.EXE and
	friends work both ways but Cygwin programs don't like the CRs.

	* code-process.el:
	* code-process.el (process-coding-system-alist):
	* code-process.el (call-process):
	* code-process.el (call-process-region):
	* code-process.el (start-process):
	* code-process.el (open-network-stream):
	* code-process.el (set-buffer-process-coding-system):
	* multicast.el:
	* multicast.el (open-multicast-group):
	* process.el:
	* process.el (start-process-shell-command):
	* process.el (call-process-internal):
	* process.el (call-process): Removed.
	* process.el (call-process-region): Removed.
	* process.el (start-process): Removed.
	* process.el (open-network-stream): Removed.

	Improvements to call-process-internal:

	-- allows a buffer to be specified for input and stderr output
	-- use it on all systems
	-- implement C-g as documented
	-- clean up and comment

	call-process-region uses new call-process facilities; no temp file.

	remove duplicate funs in process.el.

	comment exactly how coding systems work and fix various problems.

	open-multicast-group now does similar coding-system frobbing to
	open-network-stream.

	* dumped-lisp.el (preloaded-file-list):
	* faces.el (init-global-faces):
	* msw-faces.el (mswindows-init-global-faces): New.
	Fix some hidden errors due to code not being defined at the right time.

2002-05-25  Steve Youngs  <youngs@xemacs.org>

	* package-ui.el (pui-help-echo): Display both installed and author
	version.  Use a balloon-help window to display extra info like
	package requires.

2002-05-23  Ben Wing  <ben@xemacs.org>

	* files.el:
	* files.el (recover-session):
	* files.el (recover-session-finish): Removed.
	* files.el (Recover-session-files-from-auto-save-list-file): New.
	Recover-session improvements: Only show session files where some
	files can actually be recovered, and show in chronological order.

	* subr.el:
	* subr.el (truncate-string-to-width):
	* subr.el (BUG): New.
	* subr.el (truncate-string-with-continuation-dots): Removed.
	* subr.el (plist-to-alist):
	* menubar-items.el (default-menubar):
	As promised to rms, the functionality in
	truncate-string-with-continuation-dots has been merged into
	truncate-string-to-width.  Change callers in menubar-items.el.

	* select.el:
	* select.el (copy-primary-selection):
	* select.el (kill-primary-selection):
	* select.el (own-selection):
	* select.el (cut-copy-clear-internal):
	Document some of these funs better.  Fix problem where we were
	doing own-clipboard twice.

2002-05-20  Stephen J. Turnbull  <stephen@xemacs.org>

	* files.el (revert-buffer):
	(revert-buffer-internal):
	Update docstrings from 21.4.

2002-04-17  Nickolay Pakoulin  <npak@ispras.ru>

	* cus-edit.el (custom-save-delete-any): New function
	(make-custom-save-resets-mapper): New macro
	(custom-save-resets-mapper-alist): New constant
	(custom-save-resets): Modified
	Save customized values MUCH faster by keeping often used lambdas
	in cache `custom-save-resets-mapper-alist' instead of building them
	on the fly in `custom-save-resets'.

	* cus-edit.el (custom-save-pretty-print): New variable
	(custom-save-variable-p): New function
	(custom-save-variable-internal): New function
	(custom-save-variables): Modified
        (custom-save-face-p): New function
        (custom-save-face-internal): Modified
        (custom-save-faces): Modified
	Save customized variables and faces in the alphabetic order.
	`custom-save-pretty-print' turns on/off pretty-printing values.

2002-05-16  Ben Wing  <ben@xemacs.org>

	* dialog.el:
	* dialog.el (get-user-response): New.  Function to ask a
	multiple-choice question, automatically choosing a dialog box or
	minibuffer representation as necessary.  Generalized version of
	yes-or-no-p, y-or-n-p.

	* files.el:
	* files.el (recover-file-diff-program): New.
	* files.el (recover-file-diff-arguments): New.
	* files.el (recover-file):
	Use get-user-response to ask "yes/no/diff" question when recovering.
	"diff" means that a diff is displayed between the current file and the
	autosave. (Converts/deconverts escape-quoted as necessary.  No more
	complaints from you, Mr. Turnbull!) One known problem: when a dialog
	is used, it's modal, so you can't scroll the diff.  Will fix soon.

	* lisp-mode.el (lisp-fill-paragraph):
	If we're filling a string, don't treat semicolon as a comment,
	which would give very unfriendly results.
	Uses `buffer-syntactic-context'.

	* simple.el:
	* simple.el (undo-all-changes): New.
	all changes back to the beginning. (Useful if you've saved the file
	in the middle of the changes.)

	* simple.el (kill-word-into-kill-ring): New.
	* simple.el (backward-kill-word):
	Add option kill-word-into-kill-ring, which controls whether words
	deleted with kill-word, backward-kill-word, etc. are "cut" into the
	kill ring, or "cleared" into nothingness. (My preference is the
	latter, by far.  I'd almost go so far as suggesting we make it the
	default, as you can always select a word and then cut it if you want
	it cut.)

	* menubar-items.el (default-menubar):
	Add option corresponding to kill-word-into-kill-ring.

2002-05-09  Stephen J. Turnbull  <stephen@xemacs.org>

	This patch is based on Jerry James's patch and analysis.

	* select.el (get-clipboard):
	(get-selection):
	Update docstrings.
	(get-clipboard-foreign):
	(get-selection-foreign):
	New function for use as `interprogram-paste-function's.

	* simple.el (interprogram-paste-function): Change default to
	`get-clipboard-foreign'; improve docstring.
	(interprogram-cut-function): Improve dosctring.

2002-05-13  Ben Wing  <ben@xemacs.org>

	* files.el (revert-buffer):
	Andy's patch from 21.4.  Fix evil nasty problems with revert-buffer.

	* menubar-items.el (default-menubar):
	Add Append to Register to Rectangles/Register menu.

2002-05-13  Adrian Aichner  <adrian@xemacs.org>

	* code-process.el (call-process): Process-related docstring
	improvements spurred by Norbert Koch.
	* code-process.el (call-process-region): Ditto.
	* code-process.el (start-process): Ditto.

2002-05-09  Ben Wing  <ben@xemacs.org>

	* keydefs.el (global-map): New.
	* msw-init.el (init-post-mswindows-win):
	ctrl-delete is like M-d, in keeping with PC standards.  it still
	will function at its original (delete-selection), when there's a
	selection, with the new associated pending-del patch.

2002-04-14  Golubev I. N.  <gin@mo.msk.ru>

	* info.el (Info-find-index-alternatives): fix missing \ in \t.
	Port of `Info-index' change from 21.4.

2002-04-23  Jerry James  <james@xemacs.org>

	* select.el (get-clipboard): Document connection with
        interprogram-paste-function.
	* select.el (get-selection): Document that nil should be
        returned if XEmacs owns the selection.
        Remove unnecessary variable.
	* simple.el (kill-ring-max): Synch with FSF Emacs 21.2.
	* simple.el (kill-new): Synch with FSF Emacs 21.2

2002-05-05  Ben Wing  <ben@xemacs.org>

	* bytecomp-runtime.el (with-obsolete-variable):
	* bytecomp-runtime.el (with-obsolete-function):
	Doc string changes.

	* compat.el:
	* compat.el (compat-current-package):
	* compat.el (compat-current-package)): New.
	* compat.el (compat-define-compat-functions): New.
	* compat.el (compat-define-group):
	* compat.el (compat-define-functions): Removed.
	* compat.el (compat-defun): New.
	* compat.el (compat-define-function): New.
	* compat.el (compat-wrap-runtime): New.
	* compat.el (compat-wrap): New.
	* compat.el (compat): Removed.
	* compat.el (overlays):
	* compat.el (overlayp): New.
	* compat.el (make-overlay): New.
	* compat.el (move-overlay): New.
	* compat.el (delete-overlay): New.
	* compat.el (overlay-start): New.
	* compat.el (overlay-end): New.
	* compat.el (overlay-buffer): New.
	* compat.el (overlay-properties): New.
	* compat.el (overlays-at): New.
	* compat.el (overlays-in): New.
	* compat.el (next-overlay-change): New.
	* compat.el (previous-overlay-change): New.
	* compat.el (overlay-lists): New.
	* compat.el (overlay-recenter): New.
	* compat.el (overlay-get): New.
	* compat.el (overlay-put): New.
	* compat.el ('delete-extent): New.
	* compat.el ('extent-end-position): New.
	* compat.el ('extent-start-position): New.
	* compat.el ('set-extent-endpoints): New.
	* compat.el ('set-extent-property): New.
	* compat.el ('make-extent): New.
	* compat.el (extent-property): New.
	* compat.el (extent-at): New.
	* compat.el (map-extents): New.  Some attempts to redo this to
	make it truly useful and fix the "multiple versions interacting
	with each other" problem.  Not yet done.  Currently doesn't work.

	* files.el (revert-buffer-internal):
	Use with-obsolete-variable to avoid warnings in new revert-buffer code.

2002-05-02  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get): Use 'warn' instead of 'lwarn'.

2002-05-01  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-update-base-entry): Remove code to
	add package entries into custom.
	(package-get-custom-groups): Remove.
	(package-get-custom): Ditto.
	(package-get-custom-add-entry): Ditto.

2002-04-29  Steve Youngs  <youngs@xemacs.org>

	* menubar-items.el (default-menubar): Remove entry for managing
	packages via custom.

2002-04-24  Mats Lidell  <matsl@contactor.se>

	* mule/european.el (language-info-alist): Add TUTORIAL & greeting for Swedish.

2002-04-28  Steve Youngs  <youngs@xemacs.org>

	* mule/mule-charset.el: Revert my last patch. 'string-to-char-list'.

	* XEmacs 21.5.6 "bok choi" is released.

2002-03-31  Ben Wing  <ben@xemacs.org>

	* mule/mule-cmds.el:
	* mule/mule-cmds.el (langenv-to-locale-hash): New.
	* mule/mule-cmds.el (mswindows-get-language-environment-from-locale):
	Hash the result of mswindows-get-language-environment-from-locale,
	since it's very expensive (and causes huge ballooning of memory
	under X Windows, since it's called from x-get-resource).

2002-03-31  Ben Wing  <ben@xemacs.org>

	* cl-extra.el:
	* cl-extra.el (equalp):
	* code-files.el (load):
	* files.el (hack-local-variables-last-page):
	* files.el (hack-local-variables-prop-line):
	* simple.el (assoc-ignore-case):
	* subr.el:
	* subr.el (string-equal-ignore-case): New.
	* x-faces.el (x-frob-font-size):
	* x-faces.el (x-init-device-faces):
	Create new string-equal-ignore-case, based on built-in
	compare-strings -- compare strings ignoring case without the need
	to generate garbage by calling downcase.  Use it in equalp and
	elsewhere.

2002-03-31  Ben Wing  <ben@xemacs.org>

	* behavior.el:
	* behavior.el (within-behavior-enabling-disabling): New.
	* behavior.el (behaviors): New.
	* behavior.el (enabled-behavior-list): New.
	* behavior.el (define-behavior):
	* behavior.el (behavior-enabled-p):
	* behavior.el (enable-behavior):
	* behavior.el (disable-behavior):
	* dumped-lisp.el (preloaded-file-list):
	* menubar-items.el (default-menubar):
	Add support for saving using custom.  Load into a dumped XEmacs.
	Correct :title to :short-doc in accordance with behavior-defs.el.
	Add a submenu under Options for turning on/off behaviors.

	* cl-macs.el:
	* cl-macs.el (loop):
	* cl-macs.el (cl-parse-loop-clause):
	Properly document `loop'.  Fix a minor bug in keymap iteration and
	add support for bit-vector iteration.

	* lisp-mode.el (construct-lisp-mode-menu):
	Rearrange and add items for macro expanding.

	* menubar-items.el (menu-split-long-menu):
	* menubar-items.el (menu-sort-menu):
	Document connection between these two functions.

	* window.el:
	* window.el (get-window-with-predicate): New.
	* window.el (ALL-FRAMES): New.
	* window.el ('some-window): New.
	* window.el (count-windows):
	* window.el (window-safely-shrinkable-p): New.
	* window.el (count-screen-lines): New.
	* window.el (shrink-window-if-larger-than-buffer):
	Port stuff from GNU 21.1.

2002-03-24  Ben Wing  <ben@xemacs.org>

	* mule/english.el (ascii-right-to-left):
	Define this charset now, since a bug was fixed that formerly
	prevented it.

	* mule/ethio-util.el (ethio-fidel-to-java-buffer):
	* mule/ethio-util.el (ethio-java-to-fidel-buffer):
	Fix compile errors involving Unicode `characters', which should be
	integers.

2002-03-24  Ben Wing  <ben@xemacs.org>

	* sound.el:
	* sound.el (sound-default-alist):
	Correct docs.

	* msw-glyphs.el:

	Set glyph-contrib-p to nil on hscroll, continuation, truncation so
	that we don't get line jumpiness from them being larger than the
	line height.

	* mouse.el:
	* mouse.el ((meta button1)):
	* mouse.el (mouse-consolidated-yank):
	* mouse.el (mouse-yank):
	* mouse.el (mouse-track):
	* mouse.el (variables): Removed.
	* mouse.el (default-mouse-track-normalize-point):
	* mouse.el (default-mouse-track-return-dragged-selection):
	* mouse.el (mouse-track-by-lines): New.
	* mouse.el (mouse-track-insert): Removed.
	* mouse.el (mouse-track-adjust-by-lines): New.
	* mouse.el (mouse-track-insert-1): New.
	* mouse.el (mouse-track-insert-by-lines): New.
	* mouse.el (mouse-track-delete-and-insert-by-lines): New.

	New functions for line-oriented mouse selection, with meta held
	down.  Extend mouse-track{,adjust,insert,delete-and-insert} this
	way.  Move mouse-track-do-rectangle to meta-button2; not nearly so
	useful (and doesn't really work correctly currently).

	* auto-save.el:
	* auto-save.el (make-auto-save-file-name):
	* auto-save.el (recover-all-files):
	* check-features.el:
	* check-features.el ((featurep 'tooltalk)):
	* check-features.el ((featurep 'sparcworks)):
	* code-files.el:
	* code-files.el (insert-file-contents):
	* etags.el (find-tag-default):
	* files.el (normal-mode):
	* files.el (backup-buffer):
	* files.el (recover-session-finish):
	* finder.el (finder-compile-keywords):
	* font-lock.el (font-lock-pre-idle-hook):
	* info.el (Info-suffixed-file):
	* package-get.el:
	* package-get.el (package-get-load-package-file):
	* package-get.el (package-get):
	* packages.el:
	* packages.el (packages-load-package-lisps):
	* simple.el:
	* simple.el (show-message-log):
	* simple.el (log-message):
	* simple.el (remove-message):
	* simple.el (log-warning-minimum-level):
	* simple.el (display-warning-minimum-level):
	* simple.el (warning-level-alist):
	* simple.el (warning-level-<): New.
	* simple.el (display-warning):
	* simple.el (NOTE): New.
	* simple.el (warn):
	* simple.el (lwarn):
	* subr.el:
	* subr.el (backtrace-in-condition-handler-eliminating-handler): New.
	* subr.el (with-trapping-errors): New.

	New form with-trapping-errors; a consistent way to execute code,
	catching all errors and displaying a warning, including a
	backtrace showing where the error occurred.  Modify various files
	to use this.

	Show all warnings in the echo area (in a format convenient for
	this) as well as the Warnings buffer.  Change the interpretation
	of display-warning-minimum-level so that warnings below this level
	(now set at `warning') do not force the Warnings buffer to be
	displayed, but still appear in the echo area.  The motivation for
	this was `Unable to instantiate font' warnings, which should be
	visible but are very annoying when the Warnings buffer pops up.

	Change the meaning of warning level `alert' and define clearly
	what the purpose of the various warning levels are.  Modify
	various files consistent with the new definitions.

	Mark all warnings with extents.

	* startup.el (load-init-file):
	Modify so that a backtrace is seen when an error occurs.

	* help.el (view-warnings): New.
	New function for viewing warnings buffer.

	* help.el:
	* help.el (print-recent-messages):
	* simple.el:
	* simple.el (show-message-log):
	Integrate show-message-log with view-lossage.  Add option to
	view-lossage to view only the messages.  Clear message first so
	latest message is seen.

	* menubar-items.el:
	* menubar-items.el (default-menubar):
	* menubar-items.el (bookmark-menu-filter): Removed.
	Various rearrangements and fixes.

	* msw-faces.el:
	* msw-faces.el (gui-element):
	* msw-faces.el (mswindows-init-device-faces):
	Set gui-element font globally instead of on each device.

	* msw-font-menu.el (mswindows-font-menu-font-data): Fix bug.

	* simple.el (debug-print-1): New.
	* simple.el (debug-print):
	* simple.el (debug-backtrace): New.
	New debugging functions.

2002-03-20  John Paul Wallington  <jpw@shootybangbang.com>

	* menubar-items.el (list-all-buffers): New function.
	(list-all-buffers-function): New customizable variable.
	(default-menubar): Replace list-buffers with list-all-buffers.

2002-03-04  Simon Josefsson  <jas@extundo.com>

	* files.el (auto-mode-alist): Move Sieve to a place where the
	comment is more appropriate for it.

2002-03-20  Ben Wing  <ben@xemacs.org>

	* mule\mule-category.el:
	* mule\mule-category.el (with-category-table): New.
	Start implementing a category API compatible with FSF.  Not there yet.
	We need improvements to char-tables.

	* mule\mule-charset.el:
	* mule\mule-charset.el ((translation-table): New.
	* mule\mule-charset.el (make-translation-table): New.
	* mule\mule-charset.el (named-translation-table-hash-table): New.
	* mule\mule-charset.el (define-translation-table): New.
	* mule\mule-charset.el (find-translation-table): New.
	* mule\mule-charset.el (get-translation-table): New.
	Copy translation table code from FSF 21.1 and fix up.  Eventually
	we'll have them in XEmacs. (used in ccl) Not here quite yet, and
	we need some improvements to char-tables.

	* mule\cyril-util.el:
	* mule\cyril-util.el (cyrillic-encode-koi8-r-char):
	* mule\cyril-util.el (cyrillic-encode-alternativnyj-char):
	* mule\cyrillic.el:
	* mule\cyrillic.el (cyrillic-koi8-r-to-external-code-table): New.
	* mule\cyrillic.el (cyrillic-alternativnyj-to-external-code-table): New.
	* mule\devan-util.el (devanagari-compose-string):
	* mule\ethio-util.el:
	* mule\korea-util.el:
	* mule\mule-tty-init.el (init-mule-tty-win):
	* mule\tibet-util.el (tibetan-add-components):
	* mule\tibet-util.el (tibetan-compose-region):
	* mule\viet-util.el:
	* mule\viet-util.el (viet-encode-viscii-char):
	* mule\vietnamese.el:
	* mule\vietnamese.el (viet-viscii-to-external-code-table): New.
	Fix numerous compilation warnings.  Fix up code related to
	translation tables and other types of char-tables.

2002-03-20  Ben Wing  <ben@xemacs.org>

	* menubar-items.el (default-menubar): Move the frame commands from
	the View menu to the File menu, to be consistent with how most other
	programs do things.  Move less-used revert/recover items to a submenu.
	Make "recover" not prompt for a file, but recover the current buffer.

2002-03-20  Ben Wing  <ben@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): debug.el -> diagnose.el.
	* diagnose.el: Renamed from debug.el because of existing debug.el
	in xemacs-base.

2002-03-18  Ben Wing  <ben@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Add debug.el.

2002-03-18  Ben Wing  <ben@xemacs.org>

	* subr.el:
	* subr.el (map-plist): New.

	* debug.el: New.  New function show-memory-usage.

2002-03-18  Adrian Aichner  <adrian@xemacs.org>

	* cus-edit.el (customize-save-variable): Fix typo in prompt.

2002-03-18  Ben Wing  <ben@xemacs.org>

	* mule\lao.el (?):
	* mule\lao.el (lao):
	Convert stuff to XEmacs-style.

	* mule\thai-xtis.el:
	* mule\thai-xtis.el (thai-xtis):
	* mule\thai-xtis.el (?x): New.
	Move thai-xtis-chars.el stuff to here, since we can now handle
	encountering characters of a charset before the charset is defined.

	* mule\thai-xtis-chars.el: Removed, moved into thai-xtis.el.

	* mule\mule-msw-init.el: Move some stuff into mule-msw-init-late.el,
	which references charsets and thus needs to be delayed until after
	all charsets have been created.

	* mule\mule-msw-init-late.el: New file, some stuff from
	mule-msw-init.el.

2002-03-18  Ben Wing  <ben@xemacs.org>

	* dumped-lisp.el (preloaded-file-list):
	Load the remaining languages -- lao, indian, devanagari, tibetan.
	Load new file mule-msw-init-late.

	* unicode.el (load-unicode-tables):
	* unicode.el (init-unicode-at-startup):
	Load the new tables for Ethiopic, Vietnamese, and other languages
	extracted from mule-ucs.

2002-03-16  Ben Wing  <ben@xemacs.org>

	* mule\arabic.el:
	* mule\arabic.el (arabic-1-column):
	* mule\arabic.el (arabic-2-column):
	* mule\canna-leim.el:
	* mule\canna-leim.el (canna:*japanese-mode*):
	* mule\canna-leim.el (canna-inactivate):
	* mule\china-util.el:
	* mule\chinese.el:
	* mule\chinese.el (chinese-sisheng):
	* mule\cyril-util.el:
	* mule\cyril-util.el (cyrillic-encode-koi8-r-char):
	* mule\cyril-util.el (cyrillic-encode-alternativnyj-char):
	* mule\cyrillic.el:
	* mule\devan-util.el:
	* mule\devanagari.el:
	* mule\english.el:
	* mule\ethio-util.el:
	* mule\ethio-util.el (ethio-modify-vowel):
	* mule\ethiopic.el:
	* mule\european.el:
	* mule\greek.el:
	* mule\hebrew.el:
	* mule\indian.el:
	* mule\japan-util.el:
	* mule\japan-util.el (japanese-symbol-table):
	* mule\japan-util.el (japanese-hankaku):
	* mule\japan-util.el (japanese-hankaku-region):
	* mule\japanese.el:
	* mule\korea-util.el:
	* mule\korean.el:
	* mule\lao-util.el:
	* mule\lao.el:
	* mule\lao.el (lao):
	* mule\misc-lang.el:
	* mule\mule-charset.el:
	* mule\mule-cmds.el (set-locale-for-language-environment):
	* mule\mule-cmds.el (set-language-environment-coding-systems):
	* mule\mule-cmds.el (init-locale-at-early-startup):
	* mule\thai-util.el:
	* mule\thai.el:
	* mule\tibet-util.el:
	* mule\tibetan.el:
	* mule\tibetan.el (tibetan-1-column):
	* mule\tibetan.el (tibetan):
	* mule\viet-util.el:
	* mule\viet-util.el (viet-encode-viscii-char):
	* mule\vietnamese.el:
	* mule\vietnamese.el (?v): New.
	* mule\vietnamese.el (viet-viscii-decode-table):
	* unicode.el:
	Fix lots of warnings.  Sync up some files to FSF 21.1.  Copy over
	all charset definitions from FSF 21.1, convert them to our format,
	and stick them in the relevant files.  Eventually we will actually
	be able to dump these files (though they may not quite work).

2002-03-16  Ben Wing  <ben@xemacs.org>

	* autoload.el:
	* autoload.el (make-autoload):
	* autoload.el (generate-autoload-cookie):
	* autoload.el (defun*):
	Support defun*, defmacro*.

	* mule/mule-composite.el: New file, from FSF.
	* mule/mule-composite-stub.el: New file, stubs for nonexistent
	composition funs/vars.
	* mule/viet-chars.el: Deleted, moved into vietnamese.el.
	* dumped-lisp.el (preloaded-file-list):
	Account for these changes.

	* font.el (mswindows-font-create-object):
	* mouse.el (mouse-begin-drag-n-drop):
	* msw-font-menu.el (mswindows-font-regexp):
	* printer.el:
	* printer.el (generic-page-setup):
	* printer.el (generic-print-region):
	* startup.el (early-error-handler):
	fix warnings.

2002-03-16  IKEYAMA Tomonori <tomonori@suiyokai.org>

        * unicode.el (load-unicode-tables): Make table for latin-jisx0201.
        * mule/mule-msw-init.el: Character sets to codepage mapping
        change. Add japanese-jisx0212, delete japanese-jisx0208-1978.

2002-03-15  Ben Wing  <ben@xemacs.org>

	* mule\mule-charset.el:
	* mule\mule-charset.el (char-width): Removed.
	* mule\mule-charset.el ('sref): Removed.
	* mule\mule-charset.el (char-bytes): Removed.
	* mule\mule-charset.el (string-to-sequence): Removed.
	* mule\mule-charset.el (string-to-list): Removed.
	* mule\mule-charset.el (string-to-vector): Removed.
	* mule\mule-charset.el (store-substring): Removed.
	* obsolete.el:
	* obsolete.el ('sref): New.
	* obsolete.el (char-bytes): New.
	* subr.el:
	* subr.el (char-width): New.
	* subr.el (string-to-sequence): New.
	* subr.el (string-to-list): New.
	* subr.el (string-to-vector): New.
	* subr.el (store-substring): New.
	* subr.el (truncate-string-to-width): New.  Put back
	previously-deleted truncate-string-to-width.  Move other
	non-Mule-specific stuff into subr.el or obsolete.el.

2002-03-15  Ben Wing  <ben@xemacs.org>

	* mule\chinese.el:
	* mule\chinese.el (post-read-decode-hz):
	* mule\chinese.el (pre-write-encode-hz):
	* mule\japan-util.el (japanese-katakana-region):
	* mule\japan-util.el (japanese-hiragana-region):
	* mule\japan-util.el (japanese-zenkaku-region):
	fix warnings.

2002-03-15  Ben Wing  <ben@xemacs.org>

	* behavior-defs.el (func-menu):
	* behavior-defs.el (filladapt):
	fix errors with require.

	* bytecomp-runtime.el:
	* bytecomp-runtime.el (with-boundp):
	* bytecomp-runtime.el (if-boundp):
	* bytecomp-runtime.el (when-boundp):
	* bytecomp-runtime.el (and-boundp): New.
	* bytecomp-runtime.el (declare-boundp):
	* bytecomp-runtime.el (globally-declare-boundp):
	* bytecomp-runtime.el (with-fboundp):
	* bytecomp-runtime.el (if-fboundp):
	* bytecomp-runtime.el (when-fboundp):
	* bytecomp-runtime.el (and-fboundp): New.
	* bytecomp-runtime.el (declare-fboundp):
	* bytecomp-runtime.el (globally-declare-fboundp):
	* bytecomp-runtime.el (with-byte-compiler-warnings-suppressed):
	add new funs {when,and}-{f}boundp, clean up docs.

	* cus-edit.el (custom-save-variables):
	pretty-print values.

	* dump-paths.el:
	* dump-paths.el (startup-setup-paths): New.
	* find-paths.el:
	* startup.el (command-switch-alist):
	* startup.el (command-line-do-help):
	* startup.el (normal-top-level):
	* startup.el (command-line-early):
	* startup.el (command-line):
	* startup.el (startup-find-roots-warning):
	* startup.el (startup-setup-paths): Removed.
	* startup.el (startup-load-autoloads):
	* setup-paths.el:
	fix problems/inconsistencies parsing options.  support new
	-no-packages option.  merge code duplication in dump-paths and
	startup.

	* lisp-mode.el:
	* lisp-mode.el (lisp-indent-function):
	* lisp-mode.el (while):
	indent macrolet and labels correctly.  update comments about
	lisp-indent-function.  flet already handled in cl.

	* apropos.el (apropos-safe-documentation):
	* auto-save.el (make-auto-save-file-name):
	* buff-menu.el (default-list-buffers-identification):
	* cl-extra.el (cl-map-intervals):
	* dragdrop.el (experimental-dragdrop-drop-url-default):
	* faces.el ((color '(red green blue yellow))):
	* files.el (recover-session):
	* files.el (file-remote-p):
	* fill.el (find-space-insertable-point):
	* font-lock.el (font-lock-thing-lock-cleanup):
	* font-lock.el (font-lock-after-fontify-buffer):
	* font.el (font-blink-initialize):
	* gtk-faces.el (*try-oblique-before-italic-fonts*): Removed.
	* gtk-faces.el (try-oblique-before-italic-fonts): New.
	* gtk-faces.el ('*try-oblique-before-italic-fonts*): New.
	* gtk-faces.el (gtk-make-font-italic):
	* gtk-faces.el (gtk-make-font-bold-italic):
	* gui.el (insert-gui-button):
	* help.el (xemacs-www-page):
	* help.el (xemacs-www-faq):
	* hyper-apropos.el (hyper-apropos-find-function):
	* hyper-apropos.el (hyper-apropos-find-variable):
	* info.el (Info-find-node):
	* isearch-mode.el (isearch-help-or-delete-char):
	* keymap.el (kbd):
	* lisp-mnt.el (lm-report-bug):
	* mouse.el (mouse-eval-sexp):
	* package-admin.el (package-admin-check-manifest):
	* package-get.el (package-get-update-base-from-buffer):
	* package-get.el (package-get-staging-dir):
	* printer.el (generic-print-region):
	* process.el (shell-command):
	* process.el (shell-quote-argument):
	* resize-minibuffer.el (resize-minibuffer-setup):
	* simple.el (sendmail-user-agent-compose):
	* toolbar-items.el (toolbar-paste):
	* toolbar-items.el (toolbar-ispell-internal):
	* toolbar-items.el (toolbar-compile):
	* toolbar-items.el (toolbar-gnus):
	* wid-edit.el (widget-before-change):
	* wid-edit.el (widget-after-change):
	* wid-edit.el (widget-url-link-action):
	* win32-native.el (grep-null-device):
	* win32-native.el (grep-null-device)): New.
	* win32-native.el (grep-regexp-alist):
	* win32-native.el (grep-regexp-alist)): New.
	* win32-native.el (mswindows-system-shells):
	fix warnings.

	* very-early-lisp.el: update docs.

2002-03-14  Ville Skyttä  <ville.skytta@xemacs.org>

	* files.el (auto-mode-alist): GNUmakefile is a Makefile,
	"system default" Xdefaults and friends get xrdb-mode.

2002-03-12  Ben Wing  <ben@xemacs.org>

	* The Great Mule Merge: placeholder.

2002-03-05  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.5 "beets" is released.

2002-03-05  Stephen J. Turnbull  <stephen@xemacs.org>

	* toolbar.el (default-toolbar-position): but I tested it! typo fix.

2002-03-05  Mats Lidell  <matsl@contactor.se>

 	* help-nomule.el (tutorial-supported-languages): Added Swedish
 	tutorial. Sorted languages.

2001-12-03  Christoph Wedler  <Christoph.Wedler@sap.com>

	* minibuf.el (completing-read): Update docstring.

2002-02-28  Stephen J. Turnbull  <stephen@xemacs.org>

	* toolbar.el (toolbar-visible-p):
	(toolbar-captioned-p):
	Prefix * to docstring, improve line break.
	(default-toolbar-position): Prefix * to docstring, improve line break.
	Reconfigure frame to preserve window dimensions if toolbar is moved.

2002-01-27  Stephen J. Turnbull  <stephen@xemacs.org>

	* code-files.el (convert-mbox-coding-system): Improve comment.
	(write-region): Improve docstring.  Reformat to 80 columns.  Add
	coding-system argument to `write-region-pre-hook' call.
	(write-region-pre-hook): Fix docstring to mention lockname argument.

2002-02-11  Mike Sperber <mike@xemacs.org>

	* info.el (Info-maybe-update-dir): Regenerate dir if we're
	regenerating outdated dir files and dir is non-existent.

2002-02-03  Adrian Aichner  <adrian@xemacs.org>

	* printer.el (generic-print-region): Don't pass unwanted buffer
	argument to lpr-region, as pointed out by Björn Torkelsson.

2002-02-02  William M. Perry  <wmperry@gnu.org>

	* widgets-gtk.el (gtk-widget-get-callback): New function to
	support either :callback-ex or :callback in the widget functions.
	(gtk-widget-instantiate-button-internal): Use it.

2002-01-24  John Paul Wallington  <jpw@shootybangbang.com>

	* faces.el (zmacs-region): fix typo in docstring.

2002-01-14  Björn Torkelsson  <torkel@pdc.kth.se>

	* menubar-items.el (default-menubar): Open URLs menubar entries
	  moved to mail-lib

2002-01-16  John Paul Wallington  <jpw@shootybangbang.com>

	* cus-start.el: customize the builtin variable
	'modifier-keys-sticky-time'.

2002-01-09  John Paul Wallington  <jpw@shootybangbang.com>

	* help.el (describe-mode): synched with FSF 19.34; handle nil
	minor mode indicators.

2001-12-04  Christoph Wedler  <Christoph.Wedler@sap.com>

	* window.el (window-list): Deletia.  A function with the same name,
	which is the one used, is defined in window-xemacs.el.
	(quit-window): New command from Emacs-21.1.

2002-01-10  John Paul Wallington  <jpw@shootybangbang.com>

	* modeline.el (abbrev-mode-line-string): add custom group keyword.
	(overwrite-mode-line-string): ditto.
	(auto-fill-mode-line-string): ditto.
	(defining-kbd-macro-mode-line-string): ditto.

2002-01-10  Stephen J. Turnbull  <stephen@xemacs.org>

	* coding.el: Fix typo in comment.

2002-01-10  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/european.el (Latin-9): Add ISO 8859/15 support.

2002-01-09  Simon Josefsson  <jas@extundo.com>

	* files.el (auto-mode-alist): Support Sieve (*.siv, *.sieve).

2002-01-08  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.4 "bamboo" is released.

2002-01-04  Adrian Aichner  <adrian@xemacs.org>

	* info.el (Info-auto-generate-directory): Default
	Info-auto-generate-directory to 'if-outdated.

2001-12-27  David A. Panariti  <davep@who.net>

	* hyper-apropos.el (hyper-apropos-find-variable):
	Added this function based on hyper-apropos-find-function.

	* hyper-apropos.el (hyper-apropos-help-map):
	Added binding of "v" to hyper-apropos-find-variable.

2001-12-27  John Paul Wallington  <jpw@shootybangbang.com>

	* obsolete.el (interactive-form): new compatibility alias for
	function-interactive.

2001-12-26  Adrian Aichner  <adrian@xemacs.org>

	* printer.el (generic-print-region): Pass on arguments start, end,
	and buffer to lpr-region.  The original problem was pointed out by
	Nevin Kapur.

2001-12-26  John Paul Wallington  <jpw@shootybangbang.com>

	* keydefs.el (global-map): add a defn for C-x 5 1, previously
	undefined, to run delete-other-frames.

2001-12-18  John Paul Wallington  <jpw@shootybangbang.com>

	* gnuserv.el:
	(gnuserv-mode-line-string): new customizable variable
	(gnuserv-minor-mode): make variable buffer-local
	* isearch-mode.el:
	(isearch-mode-line-string): new customizable variable

2001-12-16  Andy Piper  <andy@xemacs.org>

	* package-get.el (package-get-update-all): Make sure installed.db
	gets updated after updating packages.

2001-12-13  William M. Perry  <wmperry@gnu.org>

	* gtk-faces.el (gtk-init-device-faces): Better way of munging the
	default faces from a style.  Do not use 'device' as the locale
	when setting it, or it makes it very difficult for a user to
	override.  Now munges highlight, zmacs-region, and toolbar from
	the appropriate information in the default GtkStyle for the
	device.

	* gui.el (gui-button-face): Ditto.

	* faces.el (text-cursor):
	(highlight):
	(zmacs-region):
	(list-mode-item-selected):
	(primary-selection):
	(secondary-selection):
	(isearch):
	(isearch-secondary): Condense old window-system specific settings
	into one specifier using the 'win default' tags.

	* dialog-gtk.el (popup-builtin-question-dialog): Deal gracefully
	with buttons of length 1, 2, and 3.  Fixed yes-or-no-p lossage.

2001-12-11  Andy Piper  <andy@xemacs.org>

	* menubar.el (get-popup-menu-response): re-order so that it works
	on more sane/facist window systems.

2001-12-03  Andy Piper  <andy@xemacs.org>

	* faces.el (frob-face-property): don't infloop in face frobbing
	from Jan Vroonhof <jan@xemacs.org>.

2001-11-30  Andy Piper  <andy@xemacs.org>

	* printer.el (generic-print-region): fix for non-MS systems from
	Mike Fabian.

2001-11-30  Jan Vroonhof  <jan@xemacs.org>

	* font.el (font-window-system-mappings): Add mapping for Gtk
	(assume identical to X)

2001-11-30  Jan Vroonhof  <jan@xemacs.org>

	* faces.el (frob-face-property): Follow face fall-back hierarchy
	properly for face properties without an instance. Only do manual
	copy form 'default in last resort. This handles in particular
	the case where 'default itself has only a fall-back (which is
	the case by default on windows).

2001-11-24  Andy Piper  <andy@xemacs.org>

	* printer.el (generic-print-region): set default-frame-plist to
	nil while creating the printer frame so that sizes reflect the
	printed page.

2002-05-09  Stephen J. Turnbull  <stephen@xemacs.org>

	This patch is based on Jerry James's patch and analysis.

	* select.el (get-clipboard):
	(get-selection):
	Update docstrings.
	(get-clipboard-foreign):
	(get-selection-foreign):
	New function for use as `interprogram-paste-function's.

	* simple.el (interprogram-paste-function): Change default to
	`get-clipboard-foreign'; improve docstring.
	(interprogram-cut-function): Improve dosctring.

2002-03-18  Adrian Aichner  <adrian@xemacs.org>

	* cus-edit.el (customize-save-variable): Fix typo in prompt.

2002-03-26  John Paul Wallington  <jpw@xemacs.org>

	* obsolete.el (assq-delete-all): New compatibility alias for
	remassq.

2002-01-09  Simon Josefsson  <jas@extundo.com>

	* files.el (auto-mode-alist): Support Sieve (*.siv, *.sieve).

2002-01-04  Adrian Aichner  <adrian@xemacs.org>

	* info.el (Info-auto-generate-directory): Default
	Info-auto-generate-directory to 'if-outdated.

2002-03-28  Stephen J. Turnbull  <stephen@xemacs.org>

	* startup.el (normal-top-level): Prevent migration code from
	trashing .emacs on an error in loading the init files.

2002-03-14  Ville Skyttä  <ville.skytta@xemacs.org>

	* files.el (auto-mode-alist): GNUmakefile is a Makefile,
	"system default" Xdefaults and friends get xrdb-mode.

2002-03-05  Mats Lidell  <matsl@contactor.se>

 	* help-nomule.el (tutorial-supported-languages): Added Swedish
 	tutorial. Sorted languages.

2002-02-11  Mike Sperber <mike@xemacs.org>

	* info.el (Info-maybe-update-dir): Regenerate dir if we're
	regenerating outdated dir files and dir is non-existent.

2002-01-27  Stephen J. Turnbull  <stephen@xemacs.org>

	* code-files.el (convert-mbox-coding-system): Improve comment.
	(write-region): Improve docstring.  Reformat to 80 columns.  Add
	coding-system argument to `write-region-pre-hook' call.
	(write-region-pre-hook): Fix docstring to mention lockname argument.

2002-01-18  Stephen J. Turnbull  <stephen@xemacs.org>

	* minibuf.el (completing-read): Remove redundant wrong arg list.

	* help.el (with-displaying-help-buffer): Put usage advice in docstring.

2001-12-27  John Paul Wallington  <jpw@shootybangbang.com>

	* obsolete.el (interactive-form): new compatibility alias for
	function-interactive.

2001-11-29  Adrian Aichner  <adrian@xemacs.org>

	* menubar-items.el (Menubar-items-truncate-list): Removed.
	* menubar-items.el (Menubar-items-truncate-history): New.
	* menubar-items.el (default-menubar): Use
	Menubar-items-truncate-history.

2002-02-03  Adrian Aichner  <adrian@xemacs.org>

	* printer.el (generic-print-region): Pass correct arguments to
	lpr-region.  Thanks to Nevin Kapur <nevin@jhu.edu> and Björn
	Torkelsson <torkel@acc.umu.se>.

2002-01-09  John Paul Wallington  <jpw@shootybangbang.com>

	* help.el (describe-mode): synched with FSF 19.34; handle nil
	minor mode indicators.

2001-12-03  Christoph Wedler  <Christoph.Wedler@sap.com>

	* minibuf.el (completing-read): Update docstring.

2001-12-17  Stephen J. Turnbull  <stephen@xemacs.org>

	* faces.el (face-complain-about-font): Don't complain on printers.

2001-11-21  Stephen J. Turnbull  <stephen@xemacs.org>

	* package-net.el: Inadvertant synch with Windows branch.  From
	Andy's log:
	(package-net-kit-version): new variable.
	(package-net-generate-bin-ini): use it. Remove unwanted functions.

2001-11-28  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-locate-index-file): Also search the
	core etc/ directory for the package index file if it can't be
	found in ~/.xemacs/.

2001-12-13  William Perry  <wmperry@gnu.org>

	* dialog-gtk.el (popup-builtin-question-dialog):
	Conform to API in gui.c.

2001-11-12  Andy Piper  <andy@xemacs.org>

	* cus-edit.el (custom-save-face-internal): make sure we save
	non-themed faces.
	(custom-save-variables): ditto variables.

2001-11-20  Stephen J. Turnbull  <stephen@xemacs.og>

	* faces.el (make-face-family):
	(make-face-size):
	New face-modifying functions per Jan Vroonhof.

	cus-face.el (custom-set-face-font-family):
	(custom-set-face-font-size):
	Use them.

	* font.el (font-window-system-mappings): More precise docstring.

	(font-create-name):
	(font-create-object):
	(tty-font-create-object):
	(tty-font-create-plist):
	(x-font-create-object):
	(x-font-create-name):
	(ns-font-create-name):
	(mswindows-font-create-object):
	(mswindows-font-create-name):
	Add doctrings.

2001-11-14  John Paul Wallington <jpw@shootybangbang.com>

	* gtk-faces.el (gtk-init-device-faces): removed spurious
	quote before let* expression.

2001-12-19  Jan Vroonhof  <jan@xemacs.org>

	* gtk-faces.el (gtk-init-device-faces): Fix missing close paren
	problem with my application of the JPW's following patch.

2001-11-29  John Paul Wallington <jpw@shootybangbang.com>

	* gtk-faces.el (gtk-init-device-faces): Replaced device locale
	argument in set-face-background/foreground forms with
	'(default gtk) tag set to make the faces customizable, as
	suggested by Jan Vroonhof.

2001-12-15  John Paul Wallington  <jpw@shootybangbang.com>

	* modeline.el:
	(abbrev-mode-line-string): new customizable variable
	(overwrite-mode-line-string): ditto
	(auto-fill-mode-line-string): ditto
	(defining-kbd-macro-mode-line-string): ditto
	* view-less.el:
	(view-mode-line-string): ditto

2001-12-12  John Paul Wallington  <jpw@shootybangbang.com>

	* font-lock.el (font-lock-mode-line-string): new customizable
	variable

2001-10-16  Michael Diers  <mdiers@elego.de>

	* about.el: Update e-mail address.

2001-12-05  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-compute-package-locations): Add
	user-specific site-packages and infodock-packages hierarchies for
	symmetry.

	* find-paths.el (paths-emacs-root-p): Use version-specific name
	for root testing.

2001-07-26  Mike Sperber <mike@xemacs.org>

	* files.el (auto-mode-alist): .9 files are man pages, too.

2001-12-04  John Paul Wallington  <jpw@shootybangbang.com>

	* paragraphs.el (mark-paragraph): synched with FSF;
        added optional argument.

2001-12-03  Didier Verna  <didier@xemacs.org>

	* rect.el: autoload `replace-rectangle'.
	* keydefs.el (global-map): bind it to `C-x r p'.

2001-11-29 Charles G Waldman <cgw@xemacs.org>

	* startup.el (initial-scratch-message): be correct about case

2001-12-02  Adrian Aichner  <adrian@xemacs.org>

	* package-get.el (package-get-update-base-from-buffer): Use
	exec-suffix-list with locate-file.

2001-12-03  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-update-base-from-buffer): Add
	autoload for 'mc-verify'.

2001-12-02  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-base-filename): Rename default file
	to 'package-index.LATEST.gpg'
	(package-get-require-signed-base-updates): Update doc string.

2001-11-29  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-entries-are-signed): New.
	(package-get-continue-update-base): New.
	(package-get-update-base-from-buffer): Use them.  Fix PGP code.

2001-11-29  Adrian Aichner  <adrian@xemacs.org>

	* menubar-items.el (Menubar-items-truncate-list): Removed.
	* menubar-items.el (Menubar-items-truncate-history): New.
	* menubar-items.el (default-menubar): Use
	Menubar-items-truncate-history.

2001-11-28  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-locate-index-file): Also search the
	core etc/ directory for the package index file if it can't be
	found in ~/.xemacs/.

2001-10-29  Andy Piper  <andy@xemacs.org>

	* code-files.el (toggle-buffer-file-coding-system): mark buffer as
	modified when changing coding system.

	* toolbar-items.el (toolbar-dired): Use interactive "D" spec so
	that we invoke the GUI directory selector.

2001-10-25  Andy Piper  <andy@xemacs.org>

	* dialog.el (make-dialog-box): use new directory dialog support.
	* minibuf.el (read-file-name-1): ditto.
	(read-file-name): ditto.
	(read-directory-name): ditto.

2001-09-28  Ben Wing  <ben@xemacs.org>

	* font-lock.el:
	* font-lock.el (font-lock-after-change-function):
	fix problem with last patch, reported by Katsumi Yamaoka.

2001-09-17  Ben Wing  <ben@xemacs.org>

	* font-lock.el (font-lock-after-change-function):
	fix problem when you insert a comment on the line before a line of
	code: if we use the following char, then when you hit backspace,
	the following line of code turns the comment color.

2001-09-15   Edward M. Lee  <tailbert@yahoo.com>

	* files.el (auto-mode-alist): Add configure.ac support.

2001-09-07  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.3 "asparagus" is released.

2001-08-26  Stephen J. Turnbull  <stephen@xemacs.org>

	* README:  Partial update.

2001-08-26  Stephen J. Turnbull  <stephen@xemacs.org>

	* wid-edit.el (widget-specify-secret):
	(widget-get):
	(widget-default-get):
	(widget-match-inline):
	(widget-create):
	(widget-create-child-and-convert):
	(widget-create-child):
	(widget-convert-text):
	(widget-convert-button):
	(widget-field-activate):
	(widget-beginning-of-line):
	(widget-end-of-line):
	(widget-kill-line):
	(widget-field-buffer):
	(widget-field-start):
	(widget-field-end):
	(widget-field-find):
	(widget-before-change):
	(`group' Widget):
	('list Widget):
	('vector Widget):
	Document usage conditions, fix typos.

2001-06-19  Ben Wing  <ben@xemacs.org>

	* term\AT386.el:
	* term\AT386.el (AT386-keypad-map):
	* term\AT386.el (AT386-keypad-map)): New.
	Fix warnings.

	* term\linux.el:
	* term\lk201.el:
	* term\news.el:
	* term\news.el (news-fkey-prefix)): New.
	* term\vt100.el:
	* term\vt100.el (vt100-wide-mode):
	Sync with FSF 21.0.103.
	Fix warnings.

2001-06-19  Ben Wing  <ben@xemacs.org>

	* dialog-gtk.el (popup-builtin-open-dialog): Fix warning.
	* hyper-apropos.el: Fix problem with undefined face.
	* update-elc.el (update-elc-files-to-compile): Compile in proper order.

2001-08-08  Didier Verna  <didier@xemacs.org>

	* autoload.el (make-autoload): handle the case of
	`define-derived-mode'.

2001-08-08  Didier Verna  <didier@xemacs.org>

	* autoload.el (update-autoload-files): make defdir a file name,
	not directory name.

2001-08-06  Steve Youngs  <youngs@xemacs.org>

	* menubar-items.el (default-menubar): Use 'report-xemacs-bug'.

	* lisp-mnt.el (lm-report-bug): Use 'report-xemacs-bug-beta-address'.

2001-07-28  Stephen J. Turnbull  <stephen@xemacs.org>

	* XEmacs 21.5.2 "artichoke" is released.

2001-07-20  Steve Youngs  <youngs@xemacs.org>

	* packages.el (locate-data-file): Revert Karl's patch.

2001-07-18  Stephen J. Turnbull  <stephen@xemacs.org>

	* specifier.el: define-specifier-tag 'gtk.

2001-07-15  Adrian Aichner  <adrian@xemacs.org>

	* about.el (about-personal-info): Fix word duplication typos.
	* dialog.el (make-dialog-box): Ditto.
	* lisp-mode.el (lisp-indent-function): Ditto.
	* package-admin.el (package-admin-delete-binary-package): Ditto.
	* package-get.el (package-get-staging-dir): Ditto.

2001-07-14  Sean MacLennan  <seanm@storm.ca>

	* package-admin.el (package-install-hook): New.
	(package-delete-hook): New.
	(package-admin-add-single-file-package): Use package-delete-hook.

	* package-get.el (package-get): Use package-install-hook.

2001-06-26  Robert Pluim  <rpluim@bigfoot.com>

	* packages.el (locate-library): change to use read-library-name so
	we can get completion

2001-06-26  Robert Pluim  <rpluim@bigfoot.com>

	* package-ui.el (pui-install-selected-packages): reverse the lists
	of packages so that they get handled in the same order as they
	were selected.

2001-06-21  Ben Wing  <ben@xemacs.org>

	* term\AT386.el:
	* term\AT386.el (AT386-keypad-map):
	* term\AT386.el (AT386-keypad-map)): New.
	Fix warnings.

	* term\apollo.el:
	* term\apollo.el ("term/vt100"):
	* term\apollo.el (*dm-mouse-key-bindings-file*): Removed.
	* term\apollo.el (*apollo-key-bindings-hook*): Removed.
	* term\apollo.el (*preempt-display-manager-bindings*): Removed.
	* term\apollo.el (*paste-buffer-directory*): Removed.
	* term\apollo.el (*apollo-mouse-move-point-allow-minibuffer-exit*): Removed.
	* term\apollo.el (*apollo-function-keys*): Removed.
	* term\apollo.el (*apollo-mouse-buttons*): Removed.
	* term\apollo.el (bind-apollo-function-key): Removed.
	* term\apollo.el (unbind-apollo-function-key): Removed.
	* term\apollo.el (select-apollo-meta-key): Removed.
	* term\apollo.el (bind-apollo-mouse-button): Removed.
	* term\apollo.el (unbind-apollo-mouse-button): Removed.
	* term\apollo.el ('apollo-prefix)): Removed.
	* term\apollo.el ('apollo-prefix-1)): Removed.
	* term\apollo.el ('apollo-prefix-2)): Removed.
	* term\apollo.el ('apollo-prefix-3)): Removed.
	* term\apollo.el ('apollo-prefix-4)): Removed.
	* term\apollo.el ('apollo-prefix-5)): Removed.
	* term\apollo.el ('apollo-prefix-6)): Removed.
	* term\apollo.el ('apollo-prefix-7)): Removed.
	* term\apollo.el ('apollo-prefix-8)): Removed.
	* term\apollo.el ('apollo-prefix): Removed.
	* term\apollo.el (apollo-copy-region): Removed.
	* term\apollo.el (apollo-cut-region): Removed.
	* term\apollo.el (apollo-paste): Removed.
	* term\apollo.el (minibuffer-prompt-length): Removed.
	* term\apollo.el (extract-file-or-buffer-name-around-point): Removed.
	* term\apollo.el (apollo-find-file): Removed.
	* term\apollo.el (apollo-grow-emacs-window): Removed.
	* term\apollo.el (apollo-move-emacs-window): Removed.
	* term\apollo.el (apollo-again): Removed.
	* term\apollo.el (apollo-exit): Removed.
	* term\apollo.el (apollo-abort): Removed.
	* term\apollo.el (apollo-aegis-help): Removed.
	* term\apollo.el (apollo-clean-help-file): Removed.
	* term\apollo.el (kill-whole-line): Removed.
	* term\apollo.el (apollo-key-undefined): Removed.
	* term\apollo.el (apollo-mouse-move-point): Removed.
	* term\apollo.el (apollo-mouse-move-mark): Removed.
	* term\apollo.el (apollo-mouse-cut): Removed.
	* term\apollo.el (apollo-mouse-copy): Removed.
	* term\apollo.el (apollo-mouse-paste): Removed.
	* term\apollo.el (apollo-mouse-pop-buffer): Removed.
	* term\apollo.el (apollo-mouse-find-file): Removed.
	* term\apollo.el (apollo-mouse-find-file-other-window): Removed.
	* term\apollo.el (apollo-mouse-defaults): Removed.
	* term\apollo.el (apollo-mouse-cut-copy-paste): Removed.
	* term\apollo.el (apollo-mouse-cancel-cut-copy-paste): Removed.
	* term\apollo.el (install-apollo-dm-preemptive-key-bindings): Removed.
	Kill kill kill.  Sync with FSF and remove most crap.

	* term\linux.el:
	* term\linux.el (function-key-map): Removed.
	Sync with FSF.  Don't define most defns, because they are
	automatically defined by termcap.  But do add defns for keys that
	normally get defined as f13, f14, etc. and really ought to be
	shift-f3, shift-f4, etc. (NOTE: I did this based on Cygwin, which
	emulates the Linux console.  I would appreciate it if someone on
	Linux could verify.)

	* term\cygwin.el:
	New.  Load term/linux.

	* term\lk201.el:
	* term\news.el:
	* term\news.el (news-fkey-prefix)): New.
	* term\vt100.el:
	* term\vt100.el (vt100-wide-mode):
	Sync with FSF.  Fix warnings.

2001-06-21  Ben Wing  <ben@xemacs.org>

	* dialog-gtk.el (popup-builtin-open-dialog): Fix warning.

	For 21.4:
	* help.el (frob-help-extents): Fix problem with undefined face.
	* update-elc.el (update-elc-files-to-compile): Compile in proper order.

	Maybe for 21.4:
	* keydefs.el (global-map): Add a defn for M-?, previously
	undefined, to access help -- in case the terminal is not set up
	right, or f1 gets redefined.

2001-06-19  Ben Wing  <ben@xemacs.org>

	* term/{internal,pc-win,win32-win,sun,sun-mouse}.el:
	Die die die.

2001-06-17  Ben Wing  <ben@xemacs.org>

	For 21.4:

	* update-elc-2.el (do-update-elc-2):
	* update-elc-2.el (batch-update-elc-2):
	Correct misplaced parentheses, making lisp/mule not get
	recompiled.

2001-06-10  Ben Wing  <ben@xemacs.org>

	* alist.el:
	* apropos.el:
	* autoload.el:
	* bytecomp.el:
	* bytecomp.el (byte-compile-insert-header):
	* cl-compat.el:
	* cl-extra.el:
	* cl-macs.el:
	* cl-seq.el:
	* cl.el:
	* cmdloop.el (execute-extended-command):
	* cus-edit.el (alloc):
	* derived.el:
	* gpm.el:
	* itimer.el:
	* lisp-mode.el (lisp-mode):
	* shadow.el:
	* version.el:
	* wid-browse.el:
	Rename 'GNU Emacs' to XEmacs in the copyright.
	Fix other references to GNU Emacs that should be XEmacs or just
	Emacs.

	* files.el (insert-directory):
	Fix warning.

	* simple.el:
	* simple.el (Simple-forward-line-creating-newline): New.
	* simple.el (Simple-transpose-lines-mover): New.
	* simple.el (transpose-line-up):
	* simple.el (transpose-line-down):
	* simple.el (transpose-subr):
	transpose-line-up/down will now move the region up or down by
	a line if active.

2001-06-08  Mike Sperber <mike@xemacs.org>

	* files.el (save-some-buffers-1): Don't zap the help window right
	after `map-y-or-n-p' has popped it up.

2001-06-08  Ben Wing  <ben@xemacs.org>

	* process.el: comment about shell-command-switch.
	* process.el (shell-quote-argument): Need to quote a null
	argument, too.  From Dan Holmsand.

	* startup.el (normal-top-level): Delete some unused FSF junk.
	* startup.el (command-line-early):

	* startup.el (command-line): Call MS Windows init function.

	* win32-native.el:
	* win32-native.el (mswindows-system-shells): New.
	* win32-native.el (mswindows-system-shell-p): New.
	* win32-native.el (init-mswindows-at-startup): New.
	* win32-native.el (mswindows-quote-one-vc-runtime-arg):
	* win32-native.el (mswindows-quote-one-simple-arg):
	* win32-native.el (mswindows-quote-one-command-arg):
	* win32-native.el (mswindows-construct-process-command-line-alist):
	Correct comments at top.  Correctly handle passing arguments
	to Cygwin programs and to bash.  Fix quoting of zero-length
	arguments (from Dan Holmsand).  Set shell-command-switch based
	on shell-file-name, which in turn comes from env var SHELL.

2001-06-03  William M. Perry  <wmperry@gnu.org>

	* dialog-gtk.el (popup-builtin-open-dialog): Yikes - don't forget
	to return the filename!

	* font.el (font-window-system-mappings): Add gtk entry - just an
	alias to the X code)

2001-06-02  William M. Perry  <wmperry@gnu.org>

	* gtk-marshal.el: Fix for removing of the string_hash utility
	functions in hash.c

2001-05-13  Karl M. Hegbloom  <karlheg@hegbloom.net>

	* packages.el (locate-data-file): Use suffixes list to allow
	finding compressed copies of the data files.

2001-05-30  Ben Wing  <ben@xemacs.org>

	* etags.el (buffer-tag-table-list):
	Fix infloop when going up to the root.

2001-05-30  William M. Perry  <wmperry@gnu.org>

	* gtk-marshal.el: Make sure that we use 'const' instead of 'CONST'
	in the generated file.  Put in a comment at the top of the
	generated file that it _IS_ auto-generated, and should not be
	edited by hand.


	* gtk-widget-accessors.el (define-widget-accessors): Use
	wtaerror() instead of signal_simple_error.
	(import-widget-accessors): Put in a comment at the top of the
	generated file that it _IS_ auto-generated, and should not be
	edited by hand.

2001-05-10   Daiki Ueno  <ueno@unixuser.org>

	* font-lock.el (font-lock-compile-keywords): Rewrite as a side
	effect free function.
	(font-lock-fontify-keywords-region): Supply the argument to
	font-lock-compile-keywords.

2001-05-24  Ben Wing  <ben@xemacs.org>

	* subr.el:
	* subr.el (error):
	fix doc string to reflect reality

2001-05-23  Ben Wing  <ben@xemacs.org>

	* behavior-defs.el:
	* behavior-defs.el (scroll-in-place):
	* behavior-defs.el ('scroll-in-place): New.
	* behavior-defs.el (mouse-avoidance):
	* behavior-defs.el (jka-compr):
	* behavior-defs.el ('jka-compr): New.
	* behavior-defs.el ('efs): New.
	* behavior-defs.el (efs):
	* behavior-defs.el (resize-minibuffer):
	* behavior-defs.el (func-menu):
	* behavior-defs.el (mwheel):
	* behavior-defs.el (recent-files):
	* behavior-defs.el (filladapt):
	Add scroll-in-place, jka-compr, efs, fix up some things.

2001-03-19  Karl M. Hegbloom  <karlheg@microsharp.com>

	* cus-edit.el (custom-display): Support the GTK Window System also.

2001-05-21  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (=): `=' is not a binary predicate!
	Fix incorrect optimization: (= 0 0 (random 2)) ==> 0 or 1.
	Use byte-optimize-predicate, not byte-optimize-binary-predicate,

2001-05-20  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (byte-compile-arithcompare):
	Only optimize (= x) ==> t if byte-compile-delete-errors is nil.

2001-05-20  Adrian Aichner  <adrian@xemacs.org>

	* buff-menu.el (Buffer-menu-mode): Properly make
	`mouse-track-click-hook' local.
	* info.el (Info-mode): Ditto.

2001-05-19  Ben Wing  <ben@xemacs.org>

	* autoload.el (batch-force-update-one-directory):
	Oops, off by one argument.

	* mouse.el:
	* mouse.el (Mouse-track-gensym): New.
	* mouse.el (mouse-track-run-hook):
	* mouse.el (mouse-track):
	* mouse.el (mouse-track-default):
	* mouse.el (mouse-track-insert):
	* mouse.el (mouse-track-insert-selected-region): Removed.
	* mouse.el (mouse-track-insert-drag-up-hook): Removed.
	* mouse.el (mouse-track-insert-click-hook): Removed.
	Add an argument to mouse-track so that hooks can be overridden.
	(let-binding doesn't work when the hooks have been made local.)
	modify mouse-track-run-hook accordingly, and fix mouse-track-default
	and mouse-track-insert to use the new functionality.

	* printer.el (generic-print-region):
	Oops, off by one paren.

2001-05-13  Adrian Aichner  <adrian@xemacs.org>

	* buff-menu.el (Buffer-menu-mode): `mouse-track-click-hook' was
	made buffer-local incorrectly (make-local-variable instead of
	make-local-hook).  Furthermore this hook must not be local so that
	it can keep track of buffers and windows.

2001-05-13  Mike Alexander  <mta@arbortext.com>

	* dragdrop.el (experimental-dragdrop-drop-url-default): If event
	has no window, use one from the frame in the event

2001-05-12  Ben Wing  <ben@xemacs.org>

	* .cvsignore: auto-autoloads/custom-load need to be added now that they're not in cvs.

2001-05-12  Ben Wing  <ben@xemacs.org>

	* find-paths.el (paths-find-recursive-path):
	fix error with null EXCLUDE-REGEXP.

	* font-lock.el (font-lock-mode):
	fix problem reported by hrvoje with buffers starting with a space.

	* lib-complete.el:
	* lib-complete.el (find-library-source-path): New.
	* lib-complete.el (find-library):
	add a variable to control where `find-library' looks, analogous to `find-function-source-path'.

2001-05-10  Ben Wing  <ben@xemacs.org>

	* mule\mule-coding.el:
	* mule\mule-coding.el (coding-system-charset): New.
	Move this function into Lisp to avoid doc warnings.

2001-05-10  Ben Wing  <ben@xemacs.org>

	* autoload.el:
	* autoload.el (update-autoloads-from-directory):
	* autoload.el (fixup-autoload-buffer):
	* autoload.el (batch-update-autoloads): Removed.
	* autoload.el (update-autoload-files): New.
	* autoload.el (batch-force-update-one-directory): New.
	* packages.el (packages-useful-lisp):
	* startup.el:
	* startup.el (normal-top-level):
	* startup.el (startup-load-autoloads): New.
	* update-elc-2.el (batch-update-elc-2):
	* update-elc.el:
	* update-elc.el (need-to-rebuild-autoloads): New.
	* update-elc.el (need-to-rebuild-mule-autoloads): New.
	* update-elc.el (need-to-recompile-autoloads): New.
	* update-elc.el (need-to-recompile-mule-autoloads): New.
	* update-elc.el (update-elc-chop-extension): New.
	Rewrite much of the bootstrapping process to be more robust,
	and in particular to rebuild the auto-autoloads and custom-loads
	files no matter what state (including missing) they're currently
	in.

2001-05-09  Ben Wing  <ben@xemacs.org>

	* files.el (find-file-noselect):
	* files.el (recover-session-finish):
	fix byte-compilation warnings.

2001-05-09  Ben Wing  <ben@xemacs.org>

	* font.el (bold): New.
	* font.el (italic): New.
	* font.el (oblique): New.
	* font.el (dim): New.
	* font.el (underline): New.
	* font.el (overline): New.
	* font.el (linethrough): New.
	* font.el (strikethru): New.
	* font.el (reverse): New.
	* font.el (blink): New.
	* font.el (smallcaps): New.
	* font.el (bigcaps): New.
	* font.el (dropcaps): New.
	* gtk-widget-accessors.el (import-widget-accessors):
	* widgets-gtk.el (gtk-widget-instantiate-internal):
	* x-font-menu.el (x-font-menu-font-data): New.
	* x-font-menu.el (x-font-menu-load-font):
	fix byte-compilation warnings.

2001-05-09  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.5.1 "anise" is released.

2001-05-06  Ben Wing  <ben@xemacs.org>

	* dialog.el (make-dialog-box):
	* menubar-items.el (default-menubar):
	* printer.el (generic-print-buffer):
	* printer.el (generic-print-region):
	implement printing the selection when it's selected.

	unrelated:

	* minibuf.el (input-error):
	* subr.el (error):
	a couple of error cleanups.

	* update-elc.el ((preloaded-file-list site-load-packages need-to-dump dumped-exe)):
	* update-elc.el (update-elc-files-to-compile):
	if bytecomp or byte-optimize need recompiling, then load
	the .el version of them first, recompile them, and reload
	the .elc versions to recompile everything else (so we won't
	be waiting until the cows come home).

2001-05-05  Ben Wing  <ben@xemacs.org>

	* subr.el (error):
	Add missing errors to the doc string.

2001-05-05  Ben Wing  <ben@xemacs.org>

	* dialog.el (make-dialog-box): fix doc string.
	* menubar-items.el (default-menubar): Add Page Setup for Windows,
	take out Pretty Print.
	* printer.el:
	* printer.el (printer-current-device): New.
	* printer.el (Printer-get-device): New.
	* printer.el (Printer-clear-device): New.
	* printer.el (generic-page-setup): New.
	* printer.el (generic-print-buffer):
	* printer.el (generic-print-region):
	Implement Page Setup.  Handle errors properly.

	unrelated:

	* gtk-init.el: Fix the warning properly.


2001-05-04  Ben Wing  <ben@xemacs.org>

	* printer.el (generic-print-buffer):
	* printer.el (generic-print-region):
	Enable dialog boxes.  Apply workaround recommended by Kirill.

	* simple.el (kill-whole-line):
	* simple.el (kill-line-1):
	* simple.el (kill-entire-line):
	* simple.el (kill-line):
	* simple.el (backward-kill-line):
	Take out interactive dependence of kill-whole-line.

2001-04-22  Ben Wing  <ben@xemacs.org>

	----------------------- byte-comp warning fixes -----------------

	* bytecomp-runtime.el:
	* bytecomp-runtime.el (with-boundp): New.
	* bytecomp-runtime.el (if-boundp): New.
	* bytecomp-runtime.el (declare-boundp): New.
	* bytecomp-runtime.el (globally-declare-boundp): New.
	* bytecomp-runtime.el (byte-compile-with-fboundp): New.
	* bytecomp-runtime.el ('with-fboundp-1): New.
	* bytecomp-runtime.el (with-fboundp): New.
	* bytecomp-runtime.el (if-fboundp): New.
	* bytecomp-runtime.el (declare-fboundp): New.
	* bytecomp-runtime.el (globally-declare-fboundp): New.
	* bytecomp-runtime.el (byte-compile-with-byte-compiler-warnings-suppressed): New.
	* bytecomp-runtime.el ('with-byte-compiler-warnings-suppressed-1): New.
	* bytecomp-runtime.el (with-byte-compiler-warnings-suppressed): New.
	* bytecomp-runtime.el (with-obsolete-variable): New.
	* bytecomp-runtime.el (with-obsolete-function): New.
	New functions for cleanly eliminating byte-compiler warnings.
	Their definitions require no changes at all in bytecomp.el,
	meaning that any package that wants to use them and be compatible
	with older versions of XEmacs need only copy the code and rename
	the functions (i.e. prefix them with the package name).

	* apropos.el (apropos-symbol-face):
	* apropos.el (apropos-keybinding-face):
	* apropos.el (apropos-label-face):
	* apropos.el (apropos-property-face):
	* cl-extra.el (cl-map-overlays):
	* coding.el:
	* coding.el (set-keyboard-coding-system):
	* coding.el (set-terminal-coding-system):
	* console.el (resume-pid-console):
	* dialog-gtk.el:
	* dialog-gtk.el (popup-builtin-open-dialog):
	* dialog-gtk.el (popup-builtin-color-dialog):
	* dragdrop.el (experimental-dragdrop-drop-mime-default):
	* dragdrop.el (gtk-start-drag):
	* dragdrop.el (gtk-start-drag-region):
	* faces.el (init-face-from-resources):
	* faces.el (init-device-faces):
	* faces.el (init-frame-faces):
	* faces.el (init-global-faces):
	* faces.el (set-face-stipple):
	* files.el (set-visited-file-name):
	* files.el (basic-save-buffer):
	* files.el (save-some-buffers-1):
	* files.el (file-remote-p):
	* fill.el (fill-move-forward-to-break-point):
	* fill.el (find-space-insertable-point):
	* font-lock.el:
	* frame.el (suspend-or-iconify-emacs):
	* frame.el (suspend-emacs-or-iconify-frame):
	* gdk.el:
	* generic-widgets.el:
	* generic-widgets.el (build-ui::radio-group):
	* generic-widgets.el (build-ui::button):
	* glade.el:
	* gnome-widgets.el:
	* gnome.el:
	* gtk-extra.el:
	* gtk-faces.el (gtk-choose-font):
	* gtk-file-dialog.el:
	* gtk-file-dialog.el (gtk-file-dialog-fill-file-list):
	* gtk-file-dialog.el (gtk-file-dialog-fill-directory-list):
	* gtk-file-dialog.el (gtk-file-dialog-new):
	* gtk-font-menu.el:
	* gtk-font-menu.el (gtk-reset-device-font-menus):
	* gtk-init.el:
	* gtk-init.el (gtk-initialize-compose):
	* gtk-package.el:
	* gtk-password-dialog.el:
	* gtk-widget-accessors.el:
	* gtk-widgets.el:
	* gtk.el:
	* isearch-mode.el (isearch-help-or-delete-char):
	* ldap.el:
	* lib-complete.el (read-library-internal):
	* lib-complete.el (read-library):
	* lib-complete.el (read-library-name):
	* lisp-mnt.el (lm-report-bug):
	* minibuf.el (minibuffer-smart-mouse-tracker):
	* minibuf.el (minibuffer-smart-select-kludge-filename):
	* minibuf.el (read-file-name-internal-1):
	* minibuf.el (read-color-completion-table):
	* modeline.el (modeline-toggle-read-only):
	* mouse.el (mouse-consolidated-yank):
	* mouse.el (default-mouse-track-maybe-own-selection):
	* msw-font-menu.el (mswindows-reset-device-font-menus):
	* multicast.el (open-multicast-group):
	* mwheel.el:
	* package-get.el (package-get-update-base-from-buffer):
	* scrollbar.el (init-scrollbar-from-resources):
	* symbols.el:
	* syntax.el (describe-syntax-table):
	* toolbar.el (init-toolbar-from-resources):
	* toolbar-items.el (toolbar):
	* toolbar-items.el (toolbar-paste):
	* tty-init.el (init-pre-tty-win):
	* tty-init.el (init-post-tty-win):
	* wid-browse.el (widget-browse-sexp):
	* widgets-gtk.el:
	* x-faces.el:
	* x-font-menu.el:
	* x-font-menu.el (x-font-menu-font-data):
	* x-init.el:
	* x-misc.el:
	* x-mouse.el:
	* x-scrollbar.el:
	* x-select.el:
	* x-win-sun.el:
	* x-win-xfree86.el:
	Eliminate byte-compiler warnings using the new functions in
	bytecomp-runtime.el.

	* coding.el (coding-system-get): New.
	* coding.el (coding-system-put): New.
	* coding.el (coding-system-category): New.
	* mule\mule-misc.el (coding-system-get): Removed.
	* mule\mule-misc.el (coding-system-put): Removed.
	* mule\mule-misc.el (coding-system-category): Removed.
	Move these functions, since they're not Mule-specific and
	are used in prefer-coding-system.

	* font.el:
	* font.el (cl):
	* font.el (set-font-family):
	* font.el (set-font-weight):
	* font.el (set-font-style):
	* font.el (set-font-size):
	* font.el (set-font-registry):
	* font.el (set-font-encoding):
	* font.el (font-family):
	* font.el (font-weight):
	* font.el (font-style):
	* font.el (font-size):
	* font.el (font-registry):
	* font.el (font-encoding):
	* font.el (set-font-style-by-keywords):
	* font.el (font-properties-from-style):
	* font.el (font-combine-fonts-internal):
	* font.el (font-x-font-regexp):
	* font.el (x-font-create-object):
	* font.el (x-font-create-name):
	* font.el (ns-font-create-name):
	* font.el (mswindows-font-create-name):
	* font.el (font-update-device-fonts):
	* font.el (font-update-one-face):
	* font.el (font-rgb-color-p):
	* font.el (font-rgb-color-red):
	* font.el (font-tty-compute-color-delta):
	* font.el (font-normalize-color):
	This file was incredibly ugly.  Clean it up.  Avoid using defsubst
	for any exported functions, to avoid possible compatibility
	problems if we later change the internal interface. (It happened
	before, with face accessors, between 19.8 and 19.9). Fix tons
	of warnings.

	* gpm.el:
	* gpm.el (gpm-is-supported-p): New.
	* gpm.el (gpm-delete-device-hook):
	Clean up (new function gpm-is-supported-p eliminates duplicate
	code in gpm-create/delete-device-hook) and eliminate warnings.

	---------- make byte-recompile-directory work in the ---------
	           core `lisp' dir, even in the absence of
		   a Mule XEmacs (i.e. make it skip the Mule
	           files rather than trying to compile them).
	           now you should be able to do `touch *.el'
	           in the `lisp' dir, then
	           M-x byte-recompile-directory, and get no
	           warnings.

	* bytecomp.el:
	* bytecomp.el (byte-recompile-ignore-uncompilable-mule-files): New.
	* bytecomp.el (byte-compile-inbuffer):
	* bytecomp.el (byte-compile-inbuffer)): New.
	* bytecomp.el (byte-compile-outbuffer)): New.
	* bytecomp.el (byte-compile-warn):
	* bytecomp.el (byte-recompile-directory):
	* bytecomp.el (byte-recompile-file):
	Avoid trying to compile Mule files in byte-recompile-directory
	when we're not in a Mule XEmacs, since we're highly likely to get
	syntax errors.

	* mule\arabic.el:
	* mule\canna-leim.el:
	* mule\english.el:
	* mule\greek.el:
	* mule\kinsoku.el:
	* mule\latin.el:
	* mule\misc-lang.el:
	* mule\mule-category.el:
	* mule\mule-ccl.el:
	* mule\mule-charset.el:
	* mule\mule-cmds.el:
	* mule\mule-coding.el:
	* mule\mule-help.el:
	* mule\mule-init.el:
	* mule\mule-misc.el:
	* mule\mule-tty-init.el:
	* mule\mule-x-init.el:
	* mule\thai-xtis-chars.el:
	* mule\viet-chars.el:
	Add a coding-system cookie to all Mule files so that
	byte-recompile-directory ignores them.

	* code-files.el (load):
	* code-files.el (find-coding-system-magic-cookie): Removed.
	* files.el:
	* files.el (find-coding-system-magic-cookie-in-file): New.
	Magic cookie function moved to files.el from code-files.el (for
	use by bytecomp even in a non-coding-system XEmacs), and changed
	names and semantics for use by bytecomp.  NOTE: IMO this is an
	internal function that we can change as we like (and there is
	absolutely no code anywhere else using the function).

	---------------- GUI improvements: menus, help -------------------

	* help.el:
	* help.el (help-map): Removed.
	* help.el (help-for-help):
	* help.el (Help-princ-face):
	* help.el (Help-prin1-face):
	* help.el (describe-function-1):
	* help.el (describe-variable):
	Rearrange order of keymap declarations to be alphabetical.
	Improve help on help to include all bindings, and group by
	category.  Add bindings for new Info commands.  Remove
	warnings.  Use command-hyper-apropos in place of command-apropos.

	* hyper-apropos.el:
	* hyper-apropos.el (hyper-apropos-programming-apropos):
	* hyper-apropos.el (command-hyper-apropos): New.
	Add a function to do the equivalent of command-apropos.

	* help-macro.el (make-help-screen):
	Evals its help-text argument so you can put expressions there.
	Used now by help-for-help.

	* info.el:
	* info.el (Info-search):
	* info.el (Info-search-next): New.
	* info.el (Info-index): Removed.
	* info.el (Info-find-index-alternatives): New.
	* info.el (Info-read-search-text-regexp): New.
	* info.el (Info-search-text-in-lispref): New.
	* info.el (Info-search-text-in-xemacs): New.
	* info.el (Info-search-index-in-lispref): New.
	* info.el (Info-search-index-in-xemacs-and-lispref): New.
	* info.el (Info-mode-map):
	Add binding to continue text searches.  Expand index searches to
	work over multiple info documents.  Add commands to search
	text/index in User and Lispref.

	* lisp-mode.el (construct-lisp-mode-menu):
	 Add new entry,	"Uncomment Region" (parallels "Comment Out Region").

	* menubar-items.el (default-menubar):
	* menubar-items.el (default-popup-menu):
	Redo Help menu; add bindings for new Info commands to search the
	index or text of the User and Lispref manuals.  Add command for
	mark-paragraph, activate-region.  Make Edit->R accelerator be
	rectangle, not register (more commonly used), and put rectangle
	first.  Fix the Edit Init File entry to never load the .elc file.
	Simplify the default-popup-menu.  Add Cmds->Tabs menu.

	* menubar.el (popup-buffer-menu): Doc fix.
	* menubar.el ((boundp 'menu-accelerator-map)):
	Use kp-left not kp_left, etc.

	---------------- Miscellaneous bug fixes/cleanup -------------------

	* bytecomp-runtime.el (byte-compiler-options):
	Correct doc string.

	* easymenu.el (easy-menu-do-define): fix extra quote.

	* fill.el (fill-paragraph-or-region):
	Rewrite to be more correct -- use call-interactively so that
	we always get exactly the same behavior as if the functions
	were called directly.

	* font-lock.el (font-lock-fontify-pending-extents):
	* gutter-items.el (clear-progress-feedback):
	* gutter-items.el (abort-progress-feedback):
	* gutter-items.el (raw-append-progress-feedback):
	* simple.el (clear-message):
	* simple.el (raw-append-message):
	No need to fiddle with zmacs-region-stays, now that bogus
	clearing of it (2001-04-28 src/ChangeLog) is removed.

	* dialog.el (make-dialog-box):
	Put dialog titles back in -- this time correctly.  Fix various
	other problems with leaks and such.

	* keymap.el (key-sequence-list-description):
	Clean up fun to always correctly canonicalize.

	* simple.el:
	* simple.el (delete-forward-p):
	* simple.el (comment-padding): New.
	* simple.el (comment-region):
	* simple.el (do-auto-fill):
	* simple.el (indent-new-comment-line):
	Clean up Kinsoku comments, synch comment-region with FSF 20.7.

	* simple.el (region-exists-p):
	* simple.el (region-active-p):
	Add comment about which one is correct to use in menu specs.

	* sound.el (load-sound-file):
	Minor code clean up.

	* startup.el:
	* startup.el (command-line-early):
	* startup.el (initial-scratch-message):
	Comment changes.  Add info about sample.init.el to splash screen.
	Improve initial-scratch-message and clarify purpose of Scratch
	buffer.  Fix byte-compile warning.

	------------------------ Added features -------------------------

	* etags.el:
	* etags.el (tags-check-parent-directories-for-tag-files): New.
	* etags.el (buffer-tag-table-list):
	Add new variable to control whether etags checks all parent
	directories for tag files. (On by default.)

	* hash-table.el: New file, useful utility functions.
	* dumped-lisp.el (preloaded-file-list): Dump hash-table.el.

2001-05-03  Adrian Aichner  <adrian@xemacs.org>

	* build-report.el: Remove CVS keywords since this file has been in
	core lisp for a while now.
	* build-report.el (build-report-make-output-files): Fix typo.

2001-04-30  Ben Wing  <ben@xemacs.org>

	* printer.el:
	* printer.el (printer-page-header):
	* printer.el (Print-context): New.
	* printer.el (printer-page-footer):
	* printer.el (generate-header-element): New.
	* printer.el (generate-header-line): New.
	* printer.el (print-context-property):
	* printer.el (generic-print-buffer):
	* printer.el (generic-print-region):
	Implement headers and footers.  Implement calling Print dialog box
	(#### but it doesn't quite work yet).

2001-04-28  Ben Wing  <ben@xemacs.org>

	* about.el (xemacs-hackers):
	* about.el (about-url-alist):
	* about.el (about-personal-info):
	* about.el (about-hacker-contribution):
	More contributions.

	* simple.el (handle-post-motion-command):
	Fix spurious setting of zmacs-region-stays to t after a non-shift
	motion command.

	* etags.el (find-tag-internal):
	Sync up with FSF 20.7, to fix bugs handling some etags line formats.

	* gtk-init.el (init-post-gtk-win):
	* msw-init.el (init-post-mswindows-win):
	* x-init.el:
	* x-init.el (x-activate-region-as-selection): Removed.
	* x-init.el (init-post-x-win):
	* keydefs.el (global-map):
	* simple.el:
	* startup.el (command-line):
	* toolbar-items.el:
	* toolbar-items.el (init-x-toolbar-list): Removed.
	* toolbar-items.el (init-toolbar-list): New.
	* toolbar-items.el (init-x-toolbar): Removed.
	* toolbar-items.el (init-toolbar): New.
	* toolbar-items.el (x-init-toolbar-from-resources): Removed.
	* toolbar.el:
	Move non-window-system specific code that was duplicated in
	all window systems into the generic code.

	* gutter.el:
	* gutter.el (init-gutter): Removed. (unused)

	* mouse.el:
	* mouse.el (default-mouse-track-maybe-own-selection):
	* mouse.el (mouse-track-activate-rectangular-selection): New.
	* select.el:
	* select.el (disown-selection):
	* select.el (activate-region-as-selection):
	* select.el (primary-selection-extent):
	* select.el (valid-simple-selection-p):
	Clean up the rectangle code w.r.t. selections.  You'll now get
	the right text copied into the primary selection (but not the
	clipboard yet, unfortunately -- that really requires defining
	our own rectangle type).

2001-04-25  IKEYAMA Tomonori <tomonori@suiyokai.org>

	* faces.el (make-face-bold):
	* faces.el (make-face-italic):
	* faces.el (make-face-bold-italic):
	* faces.el (make-face-unbold):
	* faces.el (make-face-unitalic):
	* faces.el (make-face-smaller):
	* faces.el (make-face-larger):
	Call frob-face-property each for mswindows and msprinter.

2001-04-24  Hrvoje Niksic  <hniksic@arsdigita.com>

	* about.el (about-finish-buffer): Make sure the last change works
	even if EVENT is nil.

2001-04-24  Hrvoje Niksic  <hniksic@arsdigita.com>

	* about.el (about-mailto-link): Use compose-mail for sending mail.
	(about-finish-buffer): Kill/bury the buffer where the user
	clicked, not the one that happens to be the current buffer at the
	time.

2001-04-24  Hrvoje Niksic  <hniksic@arsdigita.com>

	* about.el (about-personal-info): Update my bio.
	(about-hacker-contribution): Ditto.

2001-04-23  Didier Verna  <didier@xemacs.org>

	* cus-edit.el (custom-variable-pre-save): New.
	* cus-edit.el (custom-variable-post-save): New.
	* cus-edit.el (custom-variable-save): use them.
	* cus-edit.el (custom-face-pre-save): New.
	* cus-edit.el (custom-face-post-save): New.
	* cus-edit.el (custom-face-save): use them.
	* cus-edit.el (custom-group-pre-save): New.
	* cus-edit.el (custom-group-post-save): New.
	* cus-edit.el (custom-group-save): use them.
	* cus-edit.el (Custom-save): use the pre/post functions above,
	call `custom-save-all' only once.
	* cus-edit.el (custom-variable-pre-reset-standard): New.
	* cus-edit.el (custom-variable-post-reset-standard): New.
	* cus-edit.el (custom-variable-reset-standard): use them.
	* cus-edit.el (custom-face-pre-reset-standard): New.
	* cus-edit.el (custom-face-post-reset-standard): New.
	* cus-edit.el (custom-face-reset-standard): use them.
	* cus-edit.el (custom-group-pre-reset-standard): New.
	* cus-edit.el (custom-group-post-reset-standard): New.
	* cus-edit.el (Custom-reset-standard): use them.
	* cus-edit.el (custom-face-reset-saved): use the pre/post
	functions above, call `custom-save-all' only once.

2001-04-15  Ben Wing  <ben@xemacs.org>

	* about.el:
	* about.el (about-headline-face): New.
	* about.el (about-link-face): New.
	* about.el (about-current-release-maintainers): New.
	* about.el (about-other-current-hackers): New.
	* about.el (about-once-and-future-hackers): New.
	* about.el (about-lookup-url): New.
	* about.el (about-get-buffer):
	* about.el (about-mailto-link): New.
	* about.el (about-finish-buffer):
	* about.el (about-xemacs):
	* about.el (about-features): Removed.
	* about.el (about-advantages): New.
	* about.el (about-maintainer-info): Removed.
	* about.el (about-personal-info): New.
	* about.el (about-hacker-contribution): New.
	* about.el (about-maintainer):
	* about.el (about-show-linked-info):
	* about.el (about-hackers):
	Major revamping.  Rewriting of most of the text, improve the
	link handling, separate info on contributors into personal
	and contribution info, add new contributors, update personal
	info, etc. etc.

	* menubar-items.el (default-menubar):
	Help menubar entry for News now says more accurately
	"What's New in XEmacs".

	* mouse.el:
	* mouse.el (mouse-track-cleanup-hook):
	* mouse.el (mouse-track):
	Don't set-buffer to a dead buffer when calling mouse-track
	cleanup hooks.

2001-04-18  Didier Verna  <didier@xemacs.org>

	* cus-edit.el (Custom-reset-standard): reset to standard settings
	not only when the buffer's :custom-state is 'modified, but also
	when it is 'set or 'saved.

2001-04-18  Martin Buchholz  <martin@xemacs.org>

	* XEmacs 21.5.0 "alfalfa" is released.

2001-04-17  Didier Verna  <didier@xemacs.org>

	* startup.el (load-user-init-file): define `custom-file' before
	loading the user's init file.

2001-04-02  Jan Vroonhof  <jan.vroonhof@ntlworld.com>

	* dialog.el (make-dialog-box): Disable dialog box titles until
	we get them working.

2001-03-30  Ben Wing  <ben@xemacs.org>

	* help.el:
	* help.el (Help-princ-face):
	* help.el (Help-prin1-face):
	* help.el (frob-help-extents):
	* help.el (describe-function-1):
	* help.el (describe-variable):
	Avoid using font-lock faces, which may not be defined.
	Instead, use hyper-apropos faces, and make sure they're
	defined as necessary by using `require'. (It's not so safe
	to do this for font-lock.) In any case, we will eventually
	be merging this functionality into hyper-apropos.

	* loaddefs.el (completion-ignored-extensions):
	Fix documentation.

	* menubar-items.el (menu-truncate-list): Removed.
	* menubar-items.el (Menubar-items-truncate-list): New.
	* menubar-items.el (default-menubar):
	Fix errors if grep or compile command is too long.  Rename helper
	function to be less visible.

2001-03-23  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-minus):
	Fix mis-byte-compilation of (- 0 x) --> (- (- x))

2001-03-26  Hrvoje Niksic  <hniksic@arsdigita.com>

	* dumped-lisp.el (preloaded-file-list): Load mule/latin.el when
	Mule is available.

	* mule/latin.el: New file.

2001-03-11  Ben Wing  <ben@xemacs.org>

	* auto-save.el:
	* auto-save.el (auto-save-directory):
	* auto-save.el (make-auto-save-file-name):
	* auto-save.el (auto-save-file-name-p): New.

	Merge in improvements from other definition of
	make-auto-save-file-name in files.el.

	* auto-save.el (auto-save-original-name):
	* auto-save.el (auto-save-name-in-fixed-directory):
	* auto-save.el (auto-save-unslashify-name): Removed.
	* auto-save.el (auto-save-slashify-name): Removed.
	* auto-save.el (auto-save-reserved-chars): New.
	* auto-save.el (auto-save-escape-name): New.
	* auto-save.el (auto-save-unhex): New.
	* auto-save.el (auto-save-unescape-name): New.

	Change algorithm for encoding filenames in auto-save names to be
	entirely safe with all filesystems and all possible characters in
	a filename, and 100% reversible. (Essentially, uses
	quoted-printable as the encoding.)

	* auto-save.el (recover-all-files):

	Use insert-directory rather than calling ls directly -- fixes
	things under Windows.

	* files.el:
	* files.el (convert-standard-filename): Substitute FSF's
	definition for this (we had nothing here before).

	* files.el (backup-buffer): Warning fix.

	* files.el (make-backup-file-name):
	* files.el (find-backup-file-name):
	Fix error in calling sequence to auto-save-file-name-p.

	* files.el (recover-file):
	Use insert-directory rather than calling ls directly -- fixes
	things under Windows.

	* files.el (make-auto-save-file-name): Removed.
	* files.el (auto-save-file-name-p): Removed.
	auto-save is always dumped so no sense in having a definition
	that will always be overwritten with another.

	* files.el (insert-directory):
	* win32-native.el:
	* win32-native.el (debug-mswindows-process-command-lines):
	* win32-native.el (original-make-auto-save-file-name): Removed.
	* win32-native.el (make-auto-save-file-name): Removed.


2001-03-21  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.46 "Urania" is released.

2001-03-16  Stephen J. Turnbull  <stephen@xemacs.org>

	* menubar-items.el (default-menubar): Update sample.emacs to
	sample.init.el and adjust accelerators.

2001-02-02  Stephen J. Turnbull  <stephen@xemacs.org>

	* build-report.el (build-report): Improve docstring.

2001-03-15  Stephen J. Turnbull  <stephen@xemacs.org>

	* ChangeLog: Log GTK merge.

	* gutter-items.el:
	* mwheel.el:
	* sound.el:
	* startup.el:
	Revert gratuitous whitespace changes.

2001-03-07  Ben Wing  <ben@xemacs.org>

	* help.el:
	* help.el (key-or-menu-binding):
	* help.el (Help-find-file): New.
	* help.el (describe-beta):
	* help.el (describe-copying):
	* help.el (describe-project):
	* help.el (view-emacs-news):
	* help.el (view-sample-init-el): New.
	* help.el (Help-princ-face): New.
	* help.el (Help-prin1-face): New.
	* help.el (help-symbol-function-context-menu):
	* help.el (help-symbol-variable-context-menu):
	* help.el (help-symbol-function-and-variable-context-menu):
	* help.el (frob-help-extents):
	* help.el (describe-function-1):
	* help.el (describe-variable):

	Add coloring in Help buffers, correspondent with hyperlinks.
	View files in view-mode rather than Fundamental.
	Remove separators from context menus -- now handled in generic code.
	Add `Find Tag' to context menu.

	* menubar.el (popup-mode-menu):

	Rewrite code that outputs the popup menu to (a) put more specific
	entries first, (b) be more robust, (c) output the proper context
	menu separators automatically (the context menu functionality is
	new and currently used only by Help).

2001-03-10  William M. Perry  <wmperry@aventail.com>

	* dialog-gtk.el (gtk-make-dialog-box-internal): Forgot to rewrite
	this function when converting from the 21.1 GTK branch.  Now
	supports file, password, question, and color built-in dialogs.

2001-03-06  Ben Wing  <ben@xemacs.org>

	* keydefs.el:
	* keydefs.el (global-map):
	Add commented-out change of M-k (for 21.5).

	* menubar-items.el (default-menubar):
	Fix items to control kill-line behavior; add items for
	shifted motion.

	* simple.el:
	* simple.el (kill-whole-line):
	* simple.el (historical-kill-line): Removed.
	* simple.el (kill-line): Removed.
	* simple.el (kill-entire-line): New.
	* simple.el (kill-line-1): New.
	* simple.el (backward-kill-line):
	Undo kill-whole-line == always changes.  Add new function
	kill-entire-line to unconditionally delete the current line.
	Add comments describing the lamentable state of affairs of
	the kill-line functions and variables.

2001-03-02  Ben Wing  <ben@xemacs.org>

	* simple.el:
	* simple.el (beginning-of-buffer):
	* simple.el (end-of-buffer):
	* simple.el (mark-ring-unrecorded-commands):
	* simple.el (signal-error-on-buffer-boundary):
	* simple.el (shifted-motion-keys-select-region):
	* simple.el (unshifted-motion-keys-deselect-region):
	* simple.el (motion-keys-for-shifted-motion): New.
	* simple.el (handle-pre-motion-command):
	* simple.el (handle-post-motion-command):
	* simple.el (forward-char-command):
	* simple.el (backward-char-command):
	* simple.el (scroll-up-command):
	* simple.el (scroll-down-command):
	* simple.el (next-line):
	* simple.el (previous-line):
	* simple.el (backward-block-of-lines):
	* simple.el (forward-block-of-lines):
	* simple.el (backward-word):
	* simple.el (mark-word):

	Augment documentation of the most common motion commands to make
	note of the shifted-motion support.  Improve the support to (a)
	properly document how it works and why it's done in the fashion it
	is, and (b) allow the keystrokes that trigger it to be customized.

	Correct error in the customize specification of
	mark-ring-unrecorded-commands.

2001-03-02  Ben Wing  <ben@xemacs.org>

	* font-lock.el:
	* font-lock.el (font-lock-pending-extent-table): Removed.
	* font-lock.el (font-lock-pending-buffer-table): New.
	* font-lock.el (font-lock-pre-idle-hook):
	* font-lock.el (font-lock-after-change-function):
	* font-lock.el (font-lock-fontify-pending-extents):
	* font-lock.el (font-lock-lisp-like):

	Fix handling of pending extents to avoid excessive slowness (N^2
	behavior) when making lots of buffer changes between redisplays,
	such as when saving the Options.

2001-03-09  William M. Perry  <wmperry@aventail.com>

	* device.el:
	* dragdrop.el:
	* dumped-lisp.el:
	* faces.el:
	* frame.el:
	* gnuserv.el:
	* loadup.el:
	* menubar-items.el:
	* minibuf.el:
	The Great GTK Merge.

	* ChangeLog.GTK:
	* dialog-gtk.el:
	* gdk.el:
	* generic-widgets.el:
	* glade.el:
	* gnome-widgets.el:
	* gnome.el:
	* gtk-compose.el:
	* gtk-extra.el:
	* gtk-faces.el:
	* gtk-ffi.el:
	* gtk-file-dialog.el:
	* gtk-font-menu.el:
	* gtk-glyphs.el:
	* gtk-init.el:
	* gtk-iso8859-1.el:
	* gtk-marshal.el:
	* gtk-mouse.el:
	* gtk-package.el:
	* gtk-password-dialog.el:
	* gtk-select.el:
	* gtk-widget-accessors.el:
	* gtk-widgets.el:
	* gtk.el:
	widgets-gtk.el:
	The Great GTK Merge: new files.

2001-03-05  Stephen J. Turnbull  <stephen@xemacs.org>

	* generic-widgets.el: Don't require gtk (a built-in feature) at
	top level.  Don't execute the last sexp unless (featurep 'gtk).

2001-02-28  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/mule-init.el (auto-language-alist): Split zh into GB and BIG5.

2001-02-23  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.45 "Thelxepeia" is released.

2001-01-25  Jason R. Mastaler  <jason@xemacs.org>

        * about.el (xemacs-hackers): update my entry.
        * about.el (about-maintainer-info): ditto.
        * about.el (about-hackers): ditto.

2001-02-20  Jan Vroonhof  <jan@xemacs.org>

	* about.el (about-maintainer-info): More vanity info about
	yours truly.

2001-02-20  Adrian Aichner  <adrian@xemacs.org>

	* build-report.el (build-report-destination): xemacs-build-reports
	has moved to SourceForge, where mailing list name length is
	restricted, hence the name change to
	xemacs-buildreports@xemacs.org.
	* build-report.el (build-report-keep-regexp): Update default.
	* build-report.el (build-report-delete-regexp): Ditto.
	* build-report.el (build-report-make-output-files): Ditto.

2001-02-19  Craig Lanning  <lanning@scra.org>

	* lisp-mode.el: Add indentation specifications for following
	Common Lisp forms: handler-case, handler-bind, with-slots,
	with-open-file, with-open-stream, print-unreadable-object.

2001-02-18  Matt Tucker  <tuck@whistlingfish.net>

	* font-lock.el (font-lock-set-defaults-1):
	Move initialization of `font-lock-cache-position' so that it's set
	even if font-lock-keywords is already defined.

2001-02-17  Matt Tucker  <tuck@whistlingfish.net>

	* autoload.el (generate-file-autoloads-1):
	Use `emacs-lisp-mode-syntax-table' instead of
	`lisp-mode-syntax-table'.
	* lisp-mode.el (lisp-mode-syntax-table):
	Get rid of old checks for `parse-partial-sexp' version.
	Make `|' (pipe) string delimiter instead of punctuation.

2001-02-16  Martin Buchholz  <martin@xemacs.org>

	* window.el (save-selected-window):
	Use gensym for better macro hygiene.

2001-02-06  Mike Sperber <mike@xemacs.org>

	* dump-paths.el:
	* startup.el (startup-setup-paths): Set and use
	`mule-lisp-directory'.
	(startup-setup-paths-warning): Ditto.

	* setup-paths.el (paths-find-mule-lisp-directory): Added.
	(paths-construct-load-path): Consider `mule-lisp-directory'.

2001-02-07  Matt Tucker  <tuck@whistlingfish.net>

	* font-lock.el: Syntax table improvements used.  A few random
	changes are not specified below.
	(font-lock-fontify-string-delimiters):
	(font-lock-syntactic-keywords):
	(font-lock-cache-state nil):
	(font-lock-cache-position):
	New variables.
	(font-lock-set-syntax):
	(font-lock-apply-syntactic-highlight):
	(font-lock-fontify-syntactic-anchored-keywords):
	(font-lock-fontify-syntactic-keywords-region):
	(font-lock-eval-keywords):
	New functions.
	(font-lock-remove-face):
	(font-lock-fontify-syntactically-region):
	Use syntax properties.

2001-02-08  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.44 "Thalia" is released.

2001-01-16  Mike Sperber <mike@xemacs.org>

	* startup.el (normal-top-level): Work even if no installation root
	is found.

2001-01-30  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (progress-abort-glyph): remove instantiator.
	(set-progress-abort-instantiator): new function.
	(abort-progress-feedback): use it.

	* gutter.el (set-gutter-dirty-p): new function.

2001-01-30  Didier Verna  <didier@xemacs.org>

	* mwheel.el (mwheel-scroll): unwind-protect the selected window.

2001-01-24  Didier Verna  <didier@xemacs.org>

	* sound.el (sound-extension-list): give a better default value.
	* sound.el (load-sound-file): improve the doc string, also find
	files given by absolute names, pass a real extension list to
	`locate-file'.

2001-01-26  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.43 "Terspichore" is released.

2001-01-20  Klaus Frank <klausf@i3.informatik.rwth-aachen.de>

	* gnuserv.el (gnuserv-process-filter): Robuster handling of error
	messages from gnuserv.

2001-01-20  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.42 "Poseidon" is released.

2001-01-12  Andy Piper  <andy@xemacs.org>

	* package-get.el (package-get-custom): call
	package-net-update-installed-db.

	* package-ui.el (pui-install-selected-packages): call
	package-net-update-installed-db.

	* package-net.el (package-net-update-installed-db): use
	packages-package-list so that we reflect reality.

	* packages.el (packages-package-list): Make docstring reflect
	reality.

	* package-net.el (package-net-convert-index-to-ini): exclude mule entries.

	* postinstall.cc (do_postinstall): don't pick up shells if cygwin
	isn't installed.

2001-01-17  Andy Piper  <andy@xemacs.org>

	* wid-edit.el (widget-activation-glyph-mapper): activate or
	deactivate native widgets.
	(widget-glyph-insert-glyph): record instantiator.
	(widget-push-button-value-create): use it.

	* gui.el (gui-button-action): new function. Make button's domain
	buffer current when calling.
	(make-gui-button): update to use gui-button-action.

2001-01-16  Didier Verna  <didier@xemacs.org>

	* menubar-items.el (default-menubar): add an entry for modeline
	horizontal scrolling in Options -> Display.

2001-01-17  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-require-signed-base): Set to nil
	by default.

2001-01-17  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.41 "Polyhymnia" is released.

2001-01-16  Mike Sperber <mike@xemacs.org>

	* setup-paths.el (paths-core-load-path-depth): Stopgap bump to
	catch lisp/mule/.

2001-01-14  Mike Sperber <mike@xemacs.org>

	* startup.el (maybe-create-compatibility-dot-emacs):
	(maybe-unmigrate-user-init-file):
	(unmigrate-user-init-file): Created.
	(maybe-migrate-user-init-file): Offer creation of compatibility
	.emacs.
	Some doc fixes wrt init file location.

2001-01-15  Golubev I. N.  <gin@mo.msk.ru>

	* faces.el (face-frob-from-locale-first): new variable.
	(frob-face-font-2): Honor tags arg while trying to use
	standard-face-mapping.  When face-frob-from-locale-first is set,
	first try to set face inheriting from frobbed-face.

2001-01-15  Didier Verna  <didier@xemacs.org>

	* about.el (xemacs-hackers): update my entry.
	* about.el (about-url-alist): ditto.
	* about.el (about-maintainer-info): ditto.
	* about.el (about-hackers): ditto.

2001-01-15  Martin Buchholz  <martin@xemacs.org>

	The byte compiler has been badly broken for a year,
	by the patch of 1999-12-06.
	* byte-optimize.el (byte-optimize-form-code-walker):
	Bug was: the byte compiler was making this erroneous optimization:
	(progn (or (foo)) (bar)) ==> (bar)

2000-11-20  Mike Sperber <mike@xemacs.org>

	* setup-paths.el (paths-core-load-path-depth): Split
	`paths-load-path-depth' in two for site and core lisp.  Don't
	recurse into core.
	* setup-paths.el (paths-construct-load-path): Use.

2001-01-10  Andy Piper  <andy@xemacs.org>

	* package-net.el (package-net-cygwin32-binary-size): new variable
	(package-net-win32-binary-size): ditto.  add much needed
	commentary.

	* gutter-items.el (buffers-tab-items): correct off-by-one error
	for buffers-tab-max-size.

2001-01-08  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.40 is released.

2001-01-06  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/hebrew.el: Fix comments and typos.
	mule/japanese.el: Fix comments, typos, and 8-bit character encoding.

2001-01-06  Stephen J. Turnbull  <stephen@xemacs.org>

	* ChangeLog.1: move ancient log from fill.el.

	* dump-paths.el:
	paragraphs.el:
	mule/mule-category.el:
	Miscellaneous typo fixes and slight doc clarifications.

	* mule/mule-ccl.el:  Correct file name in header.

2000-12-31  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.39 is released.

2000-12-27  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-cond):
	(byte-optimize-cond-1): New.
	Rewrite `cond' in terms of `if' and `or', which are easier to optimize.
	Optimizes (cond (x nil)) ==> nil.
	Provide better diagnostic on malformed expr like (cond foo).

2000-12-20  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/mule-coding.el:
	mule/mule-cmds.el (reset-language-environment,
	set-language-environment-coding-systems):
	Safer default coding-priority-list, corresponding to src/file-coding.h.

2000-12-03  Jorma Laaksonen <jorma.laaksonen@hut.fi>

	* package-admin.el: Allow package removal from
	early-package-load-path.

2000-12-15  Andreas Jaeger  <aj@suse.de>

	* about.el (about-maintainer-info): Update my entry.

2000-12-11  Matt Tucker  <tuck@whistlingfish.net>

	* packages.el (locate-library): Add support for bzip2
	compressed .el files.

2000-12-12  Andy Piper  <andy@xemacs.org>

	* package-net.el: new file.

2000-12-01  Enrico Scholz  <enrico.scholz@informatik.tu-chemnitz.de>

	* font-lock.el: Add missing C++ keywords.

2000-12-08  Adrian Aichner  <adrian@xemacs.org>

	* simple.el (indent-for-comment): Preserve indentation of comments
	starting in column 0, as documented in (Info-goto-node
	"(xemacs)Comments").  Update docstring accordingly.

2000-12-05  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.38 is released.

2000-12-04  Didier Verna  <didier@xemacs.org>

	* mouse.el (default-mouse-track-set-point-in-window): remove
	spurious '+' operation detected by Martin.


2000-12-01  Martin Buchholz  <martin@xemacs.org>

	* cl-extra.el (coerce):
	Implement char to integer coercion.
	Remove extraneous (numberp) test.

	* byte-optimize.el (byte-compile-splice-in-already-compiled-code):
	Perform lapcode inlining if the value of `byte-optimize' is 'byte.
	(byte-optimize-predicate):
	Warn if evaluating constant expression signals an error.
	(byte-optimize-form): Small simplification.

	* cl-macs.el (cl-do-proclaim): small efficiency improvement.

2000-11-30  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el:
	(byte-optimize-minus):
	(byte-optimize-plus):
	(byte-optimize-mult):
	(byte-optimize-quo):
	Use (car (last x)) instead of (last x) to get last elt!
	Use `byte-optimize-predicate' to optimize `%'.
	Move optimizations for special numeric args to bytecomp.el.
	* bytecomp.el (byte-compile-associative): Remove.
	(byte-compile-max): New.
	(byte-compile-min): New.
	Properly handle erroneous calls: (max) (min).
	(byte-compile-plus): New.
	(byte-compile-minus):
	It's easiest to handle 0, +1 and -1 args here.
	(byte-compile-mult): New.
	It's easiest to handle 1, -1 and 2 args here.
	(byte-compile-quo):
	It's easiest to handle 0, +1 and -1 args here.
	Issue byte-compiler warning when dividing by zero.

	Byte-compiler arithmetic improvements.
	Better optimize these expressions in the obvious way:
	(+ x y 1)   -->  varref x varref y add add1
	(+ x y -1)  -->  varref x varref y add sub1
	(- x y 0)   -->  (- x y)
	(- 0 x y)   -->  (- (- x) y)
	(% 42 19)   --> compile-time constant
	(/ 42 19)   --> compile-time constant
	(* (foo) 2) --> foo call dup plus

	Optimize away arithmetic operations (+ x) (* x) (/ x 1)
	unless (declaim (optimize (safety 3)))
	or (setq byte-compile-delete-errors nil).

2000-11-28  Stephen J. Turnbull  <stephen@xemacs.org>

	* paragraphs.el (paragraph-separate, forward-sentence):  Clarify
	docstrings.

2000-11-08  Stephen J. Turnbull  <stephen@xemacs.org>

	* startup.el (command-line-do-help):  Add documentation of
	portable dumper switches.

2000-11-22  Andy Piper  <andy@xemacs.org>

	* x-mouse.el (x-init-pointer-shape): use cursor-font explicitly.

	* glyphs.el (init-glyphs): don't use autodetect for strings.

2000-11-28  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-char-before):
	(byte-optimize-backward-char):
	(byte-optimize-backward-word):
	Fix incorrect optimizations for these sorts of expressions:
	(let ((x nil)) (backward-char x))

2000-11-21  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el:
	* byte-optimize.el (byte-optimize-backward-char): New.
	* byte-optimize.el (byte-optimize-backward-word): New.
	Make backward-word and backward-char as efficient as forward versions.

	* bytecomp.el (byte-compile-no-args-with-one-extra):
	* bytecomp.el (byte-compile-one-arg-with-one-extra):
	* bytecomp.el (byte-compile-two-args-with-one-extra):
	* bytecomp.el (byte-compile-zero-or-one-arg-with-one-extra):
	* bytecomp.el (byte-compile-one-or-two-args-with-one-extra):
	* bytecomp.el (byte-compile-two-or-three-args-with-one-extra):
	Check if extra arg is constant nil, and if so, use byte-coded call.

	* simple.el (backward-word):
	* simple.el (mark-word):
	* simple.el (kill-word):
	* simple.el (backward-kill-word):
	Make COUNT argument optional, for consistency with forward-char et al.

	* abbrev.el (abbrev-string-to-be-defined):
	* abbrev.el (inverse-abbrev-string-to-be-defined):
	* abbrev.el (inverse-add-abbrev):
	* abbrev.el (expand-region-abbrevs):
	* buff-menu.el (Buffer-menu-execute):
	* indent.el (move-to-left-margin):
	* indent.el (indent-relative):
	* indent.el (move-to-tab-stop):
	* info.el (Info-reannotate-node):
	* lisp-mode.el (lisp-indent-line):
	* lisp.el (end-of-defun):
	* lisp.el (move-past-close-and-reindent):
	* misc.el (copy-from-above-command):
	* mouse.el (default-mouse-track-scroll-and-set-point):
	* page.el (forward-page):
	* paragraphs.el (forward-paragraph):
	* paragraphs.el (end-of-paragraph-text):
	* picture.el (picture-forward-column):
	* picture.el (picture-self-insert):
	* rect.el (extract-rectangle-line):
	* simple.el (newline):
	* simple.el (fixup-whitespace):
	* simple.el (backward-delete-char-untabify):
	* simple.el (transpose-chars):
	* simple.el (transpose-preceding-chars):
	* simple.el (do-auto-fill):
	* simple.el (indent-new-comment-line):
	* simple.el (blink-matching-open):
	* view-less.el (cleanup-backspaces):
	* wid-edit.el (widget-transpose-chars):
	* term/bg-mouse.el (bg-insert-moused-sexp):
	Use more readable (backward-FOO n) instead of (forward-FOO -n).

	* info.el (Info-fontify-node):
	* simple.el (backward-delete-function):
	Use canonical delete-backward-char instead of backward-delete-char.

2000-11-20  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): don't barf if there are
	no buffers.

2000-11-20  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): don't give popup frames
	buffer tabs.

2000-11-18  Martin Buchholz  <martin@xemacs.org>

	* cl-macs.el: Correctly optimize plusp minusp oddp evenp.
	(proclaim inline...) was shadowing compiler-macros.

2000-11-17  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (byte-compile-eval): New.
	(byte-compile-initial-macro-environment): Use byte-compile-eval.
	Keeps this promise made in Lispref:
	"If a file being compiled contains a `defmacro' form, the macro is
	defined temporarily for the rest of the compilation of that file."

2000-11-09  Martin Buchholz  <martin@xemacs.org>

	* cl.el (floatp-safe):
	(plusp):
	(minusp):
	(oddp):
	(evenp):
	(cl-abs):
	Use a better parameter name than `x'.

	* cl-macs.el (check-type): Make continuable.  Change documentation
	to require PLACE, but accept any form for compatibility.

	* abbrev.el (define-abbrev): Use check-type.
	* font-menu.el (font-menu-change-face): Use check-type.
	* menubar.el (relabel-menu-item): Use check-type.
	* itimer.el: Fix typo.

2000-11-10  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* info.el (Info-extract-menu-node-name): Comma is a delimiter.

2000-11-14  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.37 is released.

2000-11-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* code-cmds.el: Provide the feature.

2000-07-21  Jan Vroonhof  <jan@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Load code-cmds.el

	* code-cmds.el: New file
	* mule/mule-cmds.el:
	* mule/mule-misc.el
	(coding-keymap): New keymap. Define coding system keyboard
	commands on file-coding builds too.
	(coding-system-change-eol-conversion):
	(universal-coding-system-argument):
	(set-default-coding-systems):
	(prefer-coding-system): Moved from mule-cmds.el
	(set-buffer-process-coding-system): Moved from mule-misc.el

2000-09-15  Stephen Carney <carney@scubadoo.com>

	* etags.el (buffer-tag-table-files): Use append instead of nconc.

2000-11-09  Steve Youngs  <youngs@xemacs.org>

	* package-get.el (package-get-download-sites): Add a pre-release
	site for experimental packages.

	* auto-autoloads.el: Regenerated.

2000-08-01  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (buffers-tab-omit-function): reference
	buffers-tab-select-visible-buffers.
	(buffers-tab-filter-functions): new variable, by default uses
	buffers-tab-selection-function and buffers-tab-omit-function.
	(select-buffers-tab-buffers-by-mode): invert arguments.
	(buffers-tab-select-visible-buffers): new function. Invert calling
	of buffers-menu-omit-invisible-buffers.
	(buffers-tab-items): rewrite to use
	buffers-tab-filter-functions. Rewrite docstring.
	(gutter-buffers-tab-extent): delete.
	(add-tab-to-gutter): always build a new extent when adding the
	tabs.
	(update-tab-in-gutter): make gutter dirty when orientation
	changes.

2000-11-07  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (byte-compile-defvar-or-defconst):
	Only do loadhist recording if defvar form includes a value.

2000-11-02  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (byte-compile-initial-macro-environment):
	`eval-when-compile' should not compile its body.

2000-11-02  Stephen J. Turnbull  <stephen@xemacs.org>

	* mule/cyrillic.el: Add Windows 1251 code page encoding (by
	Sergey Groznyh <gsm@fct.ru> in <863diqaygu.fsf@fct.ru>).  Fix
	some Japanese English.	Remove some ancient FSF comments, and
	improve docstrings.  Use symbols not vectors for tables.

2000-11-03  Martin Buchholz  <martin@xemacs.org>

	* keymap.el:
	(local-key-binding):
	(global-key-binding):
	Add an optional `accept-defaults' parameter, just like `lookup-key'.

	* lisp.el:
	(backward-sexp): Slightly simpler code.
	(mark-sexp): Make arg optional, like FSF Emacs.
	(forward-list): Slightly simpler code.
	(backward-list): Slightly simpler code.
	(down-list):  Make arg optional, like FSF Emacs.
	(up-list):  Make arg optional, like FSF Emacs.
	(backward-up-list):  Make arg optional, like FSF Emacs.
	(kill-sexp):  Make arg optional, like FSF Emacs.
	(backward-kill-sexp):  Make arg optional, like FSF Emacs.

	* font-menu.el (font-menu-change-face):
	Take continuable errors into account.

	* abbrev.el:
	* abbrev.el (clear-abbrev-table):
	* abbrev.el (define-abbrev-table):
	* abbrev.el (define-abbrev):
	* abbrev.el (insert-abbrev-table-description):
	* apropos.el (apropos-documentation-check-doc-file):
	* apropos.el (apropos-documentation-check-elc-file):
	* buff-menu.el (list-buffers):
	* buff-menu.el (list-buffers-noselect):
	* bytecomp.el (byte-recompile-directory):
	* bytecomp.el (batch-byte-compile):
	* cl-macs.el (typep):
	* code-files.el (find-coding-system-magic-cookie):
	* code-files.el (insert-file-contents):
	* cus-edit.el (customize-set-variable):
	* cus-edit.el (customize-save-variable):
	* cus-face.el (custom-set-face-font-size):
	* cus-face.el (custom-set-face-update-spec):
	* cus-face.el (custom-reset-faces):
	* custom.el (custom-check-theme):
	* custom.el (copy-upto-last):
	* fill.el (canonically-space-region):
	* fill.el (fill-paragraph):
	* fill.el (fill-region):
	* fill.el (find-space-insertable-point):
	* fill.el (justify-current-line):
	* faces.el (face-spec-update-all-matching):
	* faces.el (set-face-stipple):
	* files-nomule.el (insert-file-contents):
	* files.el (insert-file-contents-literally):
	* files.el (hack-local-variables-last-page):
	* files.el (basic-save-buffer):
	* files.el (insert-directory):
	* font-menu.el (font-menu-change-face):
	* font.el (font-spatial-to-canonical):
	* format.el (format-encode-region):
	* format.el (format-insert-file):
	* format.el (format-replace-strings):
	* gutter.el (set-gutter-element):
	* help.el (key-or-menu-binding):
	* help.el (describe-bindings):
	* help.el (with-syntax-table):
	* indent.el (indent-rigidly):
	* indent.el (delete-to-left-margin):
	* info.el:
	* info.el (Info-extract-dir-entry-from):
	* info.el (Info-build-dir-anew):
	* info.el (Info-rebuild-dir):
	* info.el (Info-batch-rebuild-dir):
	* info.el (Info-read-subfile):
	* info.el (Info-build-node-completions):
	* info.el (Info-extract-menu-node-name):
	* isearch-mode.el (isearch-range-invisible):
	* isearch-mode.el (isearch-restore-invisible-extents):
	* itimer.el (itimerp):
	* itimer.el (itimer-live-p):
	* keymap.el:
	* keymap.el (substitute-key-definition):
	* keymap.el (read-command-or-command-sexp):
	* keymap.el (local-key-binding):
	* keymap.el (global-key-binding):
	* keymap.el (global-set-key):
	* keymap.el (local-set-key):
	* ldap.el:
	* ldap.el (ldap-add-entries):
	* ldap.el (ldap-delete-entries):
	* lisp.el (backward-sexp):
	* lisp.el (mark-sexp):
	* lisp.el (forward-list):
	* lisp.el (backward-list):
	* lisp.el (down-list):
	* lisp.el (backward-up-list):
	* lisp.el (up-list):
	* lisp.el (kill-sexp):
	* lisp.el (backward-kill-sexp):
	* menubar.el (add-menu-button):
	* menubar.el (add-submenu):
	* menubar.el (delete-menu-item):
	* menubar.el (relabel-menu-item):
	* mouse.el (narrow-window-to-region):
	* obsolete.el (define-obsolete-variable-alias):
	* obsolete.el (store-substring):
	* package-admin.el:
	* package-admin.el (package-admin-install-function):
	* package-admin.el (package-admin-install-function-mswindows):
	* package-admin.el (package-admin-default-install-function):
	* package-get.el (package-get-update-base-entries):
	* packages.el (packages-load-package-dumped-lisps):
	* packages.el (packages-collect-package-dumped-lisps):
	* printer.el (generic-print-buffer):
	* printer.el (generic-print-region):
	* replace.el (occur-mode-mouse-goto):
	* replace.el (perform-replace):
	* select.el (get-selection-no-error):
	* simple.el:
	* simple.el (newline):
	* simple.el (open-line):
	* simple.el (edit-and-eval-command):
	* simple.el (goto-line):
	* simple.el (undo):
	* simple.el (kill-region):
	* simple.el (copy-region-as-kill):
	* simple.el (kill-ring-save):
	* simple.el (set-mark):
	* simple.el (next-line):
	* simple.el (previous-line):
	* simple.el (line-move):
	* simple.el (set-goal-column):
	* simple.el (comment-region):
	* subr.el:
	* subr.el (putf):
	* syntax.el (modify-syntax-entry):
	* syntax.el (map-syntax-table):
	* view-less.el (view-file):
	* view-less.el (view-buffer):
	* view-less.el (view-file-other-window):
	* window-xemacs.el (backward-other-window):
	* window.el:
	* window.el (one-window-p):
	* window.el (walk-windows):
	* window.el (window-list):
	* x-mouse.el (x-mouse-kill):
	* x-select.el (x-get-cutbuffer):
	* x-select.el (x-store-cutbuffer):
	* term/bg-mouse.el (bg-mouse-line-to-center):
	* term/sun-mouse.el (window-line-end):
	* term/sun-mouse.el (sun-select-region):
	* term/sun.el (kill-region-and-unmark):
	* mule/mule-category.el:
	* mule/mule-category.el (modify-category-entry):
	* mule/mule-category.el (char-category-list):
	* mule/mule-coding.el (coding-system-force-on-output):
	* mule/mule-misc.el (coding-system-put):
	Docstring arglist/Texinfo fixes.  See man/ChangeLog for details.

2000-11-02  Stephen J. Turnbull  <stephen@xemacs.org>

	* cus-face.el: Typo fixes and tiny clarifications.
	* custom.el: ditto

2000-10-27  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* startup.el (auto-save-list-file-prefix): Moved to fileio.c.
	* startup.el (normal-top-level): Setup auto-save-list-file-name
	if auto-save-list-file-prefix is non-nil.

2000-10-25  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* files.el (auto-mode-alist): Allow mixed case suffix for idlwave-mode.

2000-01-05  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* hyper-apropos.el (hyper-apropos-this-symbol): Don't always
	get symbol at point-min.

2000-10-24  Didier Verna  <didier@xemacs.org>

	* info.el (Info-emacs-info-file-name): defconst it.
	* info.el (Info-footnote-tag): defcustom it.
	* info.el (Info-no-description-string): ditto.
	* info.el (Info-find-node): adapt to new semantics of
	'Info-suffixed-file (don't do the case variants stuff).
	* info.el (Info-insert-dir): rewrite the dir file variants code.
	* info.el (Info-directory-files): New. Return the list of info
	files in a directory.
	* info.el (Info-dir-outdated-p): use it.
	* info.el (Info-parse-dir-entries): ditto.
	* info.el (Info-build-dir-anew): don't restrict to files ending
	with a ".info.*" extension.
	* info.el (Info-set-mode-line): ditto.
	* info.el (Info-read-subfile): adapt to new semantics of
	'Info-suffixed-file (append 'exact argument).
	* info.el (Info-all-case-regexp): New. Return a regexp matching a
	string independently of the case.
	* info.el (Info-suffixed-file): use it (match all possible case
	for the file name).
	* info.el (Info-insert-file-contents): code cleanup.
	* info.el (Info-rebuild-dir): cosmetics only. Fit code in 80
	columns.
	* info.el (Info-batch-rebuild-dir): ditto.
	* info.el (Info-read-node-name-1): ditto.
	* info.el (Info-search): ditto.
	* info.el (Info-fontify-node): ditto.


2000-10-24  Didier Verna  <didier@xemacs.org>

	* process.el (shell-command): when called from a program, avoid
	'push-mark's "mark-set" message.

2000-10-15  MIYASHITA Hisashi  <himi@m17n.org>

	* mule/thai-xtis.el (tis-620): Specify coding-system's ccl-program
	by a symbol, not by a vector.
	* mule/vietnamese.el (vscii): Likewise.
	(viscii): Likewise.
	* mule/cyrillic.el (koi8-r): Likewise.

	* mule/chinese.el (chinese-big5-1): Specify charset's ccl-program
	by a symbol, not by a vector.
	(chinese-big5-2): Likewise.
	* mule/ethiopic.el (ethiopic): Likewise.
	* mule/vietnamese.el (vietnamese-viscii-lower): Likewise.
	(vietnamese-viscii-upper): Likewise.

2000-10-12  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* files.el (auto-mode-alist): Remove obsolete entry for html3-mode.

2000-10-13  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* byte-optimize.el (byte-optimize-car): New function.
	(byte-optimize-cdr): Ditto.

2000-10-12  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* byte-optimize.el: Partial synch with FSF 20.7.
	Optimize constant concatenation.
	Add keymapp as a side effect free function.  It is a built-in.
	(byte-after-unbind-pos): Remove byte-equal.

2000-10-13  Gunnar Evermann  <ge204@eng.cam.ac.uk>

	* update-elc-2.el: Quote regexps correctly.

2000-10-05  MIYASHITA Hisashi  <himi@m17n.org>

	* mule/mule-ccl.el: Sync up with Emacs 21.0.90.
	(ccl-compile): Apply integerp, not integer-or-char-p to
	check the type of the buffer magnification
	(ccl-compile-write-string): Encode a string with binary
	coding system.
	(ccl-compile-write-repeat): Likewise.

2000-09-25  Robert Pluim  <rpluim@bigfoot.com>

	* buff-menu.el:
	* bytecomp.el:
	* coding.el:
	* faces.el:
	* files.el:
	* fill.el:
	* float-sup.el:
	* font-lock.el:
	* help.el:
	* iso8859-1.el:
	* loaddefs.el:
	* menubar-items.el:
	* menubar.el:
	* modeline.el:
	* msw-font-menu.el:
	* paragraphs.el:
	* paths.el:
	* replace.el:
	* simple.el:
	* sound.el:
	* startup.el:
	* version.el:
	* x-faces.el:
	* x-font-menu.el:
	Remove purecopy.

2000-10-03  Daniel Pittman  <daniel@rimspace.net>

	* simple.el (do-auto-fill): Use the function pointer to by
	`comment-line-break-function', not `indent-new-comment-line'. This
	fixes an issue with cc-mode comment continuation.

2000-10-11  Martin Buchholz  <martin@xemacs.org>

	* simple.el (turn-on-auto-fill):  Add (interactive).
	* mwheel.el (mwheel-install): Add (interactive).
	* font-lock.el (turn-on-font-lock): Add (interactive).
	(turn-off-font-lock): Add (interactive).

2000-10-03  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* packages.el (packages-special-base-regexp): Add `man'.

2000-10-08  Adrian Aichner  <adrian@xemacs.org>

	* wid-edit.el (widget-specify-active): map over extents in current
	buffer like `widget-specify-inactive' does.  Mapping over the
	inactive extent object does not work since the current extent is
	ignored by `map-extents'.

2000-10-04  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.36 is released.

2000-09-22  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-lapcode): Add an optimizer pass.
	Optimize the compiled-function-constants vector by byte-code
	reference counts.

2000-09-25  Robert Pluim  <rpluim@bigfoot.com>

	* build-report.el (build-report-delete-regexp): quote value in
	defcustom

2000-09-24  Adrian Aichner  <aichner@ecf.teradyne.com>

	* build-report.el (build-report): Don't bind srcdir which we don't
	use in `multiple-value-bind' to avoid the only byte-compiler
	warning.

2000-09-23  Adrian Aichner  <aichner@ecf.teradyne.com>

	* build-report.el: Requires cl and custom now.
	build-report-version is determined by XEmacs version -- remove
	build-report-version*.
	* build-report.el (build-report-version): Removed.
	* build-report.el (build-report-installation-version-regexp): New.
	* build-report.el (build-report-version-file-regexp): New.
	* build-report.el (build-report-installation-srcdir-regexp): New.
	* build-report.el (build-report-destination): Offer
	xemacs-build-reports and xemacs-beta.
	* build-report.el (build-report-keep-regexp): Adjusted.
	* build-report.el (build-report-delete-regexp): Adjusted.
	* build-report.el (build-report-make-output-dir): New.
	* build-report.el (build-report-installation-file): Replace use of
	`concat' with `expand-file-name'.
	* build-report.el (build-report-make-output-file): Removed.
	* build-report.el (build-report-make-output-files): New.
	* build-report.el (build-report-subject): Identify as
	user-variable with "*...".
	* build-report.el (build-report-prompts): Ditto.
	* build-report.el (build-report-version-file): New.
	* build-report.el (build-report-file-encoding): Identify as
	user-variable with "*...".
	* build-report.el (build-report-make-output-get): New.
	* build-report.el (build-report-insert-header): Report
	emacs-version and system-configuration instead of
	build-report-version.
	* build-report.el (build-report-insert-make-output): Add file
	argument.
	* build-report.el (build-report-insert-installation-file):
	Re-indent.
	* build-report.el (build-report-keep): Change docstring,
	re-indent.
	* build-report.el (build-report-delete): Ditto.
	* build-report.el (build-report-installation-data): New.
	* build-report.el (build-report-version-file-data): New.

2000-09-20  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-lapcode):
	Fix the optimization of using the first 5 elements of the
	constants vector for variables.
	(byte-optimize-lapcode): Fix another ancient broken optimization.

2000-09-19  Martin Buchholz  <martin@xemacs.org>

	* *: Spelling mega-patch

2000-09-19  Martin Buchholz  <martin@xemacs.org>

	* easymenu.el: doc fixes.
	(easy-menu-do-define): Use backquote.
	(easy-menu-change):
	(easy-menu-add):
	`when' seems much clearer than `if' here.
	(easy-menu-remove):
	(easy-menu-add-item):
	(easy-menu-item-present-p):
	(easy-menu-remove-item):
	Wrap using (when (featurep 'menubar) ...)

2000-09-16  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (displaying-byte-compile-warnings):
	Revert Ben's change to this function below so that the compile log
	is displayed properly for users of the "popper" package.

2000-09-12  Martin Buchholz  <martin@xemacs.org>

	* window.el (save-selected-window): Use backquote.

	* bytecomp.el (byte-compile-file-form-defvar-or-defconst):
	Renamed from `byte-compile-file-form-defvar'.
	* bytecomp.el (byte-compile-defvar-or-defconst):
	Only cons onto current-load-list in top-level forms.
	Else this leaks a cons cell every time a defun is called.
	Renamed from `byte-compile-defvar', for clarity.
	Warn when docstring of defvar is not a string.
	Use consistent error messages.
	Better comments.

2000-09-11  Martin Buchholz  <martin@xemacs.org>

	* simple.el (set-variable):
	Remove unneeded defvar by rearranging order of let* forms.

	* mule/mule-ccl.el (ccl-get-next-code):
	* menubar-items.el (bookmark-menu-filter):
	(language-environment-menu-filter):
	(tutorials-menu-filter):
	* toolbar-items.el (toolbar-compile):
	* byte-optimize.el (disassemble-offset):
	Use (declare (special ...)) instead of `defvar'.

	* cl-macs.el (cl-do-proclaim):
	Fix (declare (special ...)) warning suppression syntax.

2000-07-22  Golubev I. N. <gin@mo.msk.ru>

	* info.el (Info-tag-table-marker):
	(Info-tag-table-buffer):
	(Info-find-file-node):
	(Info-read-subfile):
	(Info-build-node-completions):
	(Info-search):
	(Info-mode):
	Multiple info buffer support.

2000-08-28  Oscar Figueiredo  <oscar@cpe.fr>

	* ldap.el (ldap-decode-entry): New defun
	(ldap-search-entries): Use it in order to decode DN-prefixed
	entries properly

2000-08-23  Daniel Pittman <daniel@danann.net>

	* mule/mule-cmds.el (coding-system-change-eol-conversion):
	Use `eq', not `=', to compare symbols.

2000-07-30  Ben Wing  <ben@xemacs.org>

	* bytecomp.el (byte-compile-report-error):
	* bytecomp.el (displaying-byte-compile-warnings):
	if stack-trace-on-error is set, send out a backtrace when
	an error is encountered that stops byte compilation.  this
	should make it much much easier to track down those curious
	problems.  also undo the kludge of using a separate "*Show*"
	buffer for display when there's a temp-buffer-show-function;
	we can avoid this by just being a little smarter.

	* dialog-items.el:
	* dialog-items.el (search-dialog-regexp): New.
	* dialog-items.el (search-dialog-callback):
	* dialog-items.el (make-search-dialog):
	add a regexp option to the dialog and clean up a bit.

	* dialog.el:
	* dialog.el (yes-or-no-p-dialog-box):
	* dialog.el (get-dialog-box-response):
	* dialog.el (make-dialog-box):
	* dialog.el (dialog-box-finish): New.
	* dialog.el (dialog-box-cancel): New.
	* dialog.el (internal-make-dialog-box-exit): New.
	implement [properly!] the :modal property of the new dialog box
	interface.  this is the first time xemacs has ever had *proper*
	modal dialog boxes, giving the standard window-system feedback.
	(e.g. under windows, clicking on a disabled frame causes a beep
	and makes the dialog box flash three times.)

	* dragdrop.el: header keyword frobbing.

	* dumped-lisp.el (preloaded-file-list):
	renamed winnt.el to win32-native.el.

	* faces.el (face-property):
	* faces.el (set-face-property):
	* faces.el (frob-face-property):
	* faces.el (frob-face-font-2):
	* faces.el (make-face-bold):
	* faces.el (make-face-italic):
	* faces.el (make-face-bold-italic):
	* faces.el (make-face-unbold):
	* faces.el (make-face-unitalic):
	* faces.el (make-face-smaller):
	* faces.el (make-face-larger):
	clean up the implementation of these so that window-system-specific
	methods are called only on objects belonging to that window system.
	previously, you could have [e.g.] mswindows-make-face-bold called
	on font object of device type `stream', which is not good and
	explains the subtle errors Adrian was getting when byte-compiling
	something that required 'term. (Adrian, now you can use stack-trace-
	on-error to find the exact place where things are going wrong instead
	of having to laboriously binary-search your way through.)

	* finder.el (finder-known-keywords):
	cleaned up -- properly sorted, clarified the meanings of many of
	the keywords, and added a few -- mswin, gui, content, build, www,
	user, services.  the last two try to distinguish between a package
	that's used directly by the user, and a package that provides
	support services to other packages.

	* font-lock.el (lisp-font-lock-keywords-2):
	update list of lisp control structures to include everything,
	including new ones i introduced.

	* gutter.el: header keyword frobbing.

	* isearch-mode.el (isearch-ring-adjust1): M-p to recall the most
	recent isearch element was not doing so!  you got the second-most-
	recent instead.

	* lisp-mode.el (construct-lisp-mode-menu):
	more menubar cleanups.
	* lisp-mode.el (with-selected-window):
	make it indent properly.

	* menubar-items.el (default-menubar): lots of menubar cleanups.
	rearranged the options menu the most, e.g. splitting up the
	Keyboard/Mouse menu into a new Editing menu and combining the
	separate Scrollbar/Gutter/Toolbar submenus into Display.
	Got rid of General, moved items to Editing or new Troubleshooting.
	Moved Packages to Tools; doesn't seem to belong under Options.
	Added stuff to the Cmds menu, e.g. Change Case.

	NB please don't complain about these periodic menubar changes.
	Anything like this is necessarily incremental in its construction
	-- By constant use you gradually become more and more aware of
	better and better ways to group menu items.  When we eventually
	move the options menu to a property sheet, the existing structure
	will probably be preserved fairly well.

	* minibuf.el (next-history-element): fix problems with pressing
	down arrow in repeat-complex-command.

	* modeline.el:
	* modeline.el (modeline-3d-p): New.
	added custom variable for controlling the 3d modeline.  the
	corresponding Options item has been present for a long time,
	but commented out with "fix me!" comments.  it's fixed now.

	* obsolete.el (add-menu):
	remove bogus gettexts.

	* process.el (shell-quote-argument):
	handle this correctly under Windows native with COMMAND.COM/CMD.EXE.
	For bash under Windows native, see below.

	* simple.el:
	* simple.el (display-warning-buffer):
	Fixed the handling of warning display to eliminate the annoying
	*Show* buffer, like was done for byte-compiler output above.

	* simple.el (debug-print): New.
	Simple function for sending debug messages to the console and/or
	other debug places.

	* subr.el (replace-in-string):
	Rewrite this function to avoid N^2 behavior with large strings --
	catastrophic with the new Windows selection code! (Apparently the
	author of this function didn't realize there was a fun
	replace-match that could make his life much easier, because we
	duplicated the entire logic.  The new version is smaller, easier
	to understand, much more robust, and has extended features --
	those of replace-match.)

	* window.el:
	* window.el (with-selected-window): New.
	An obvious complement to the existing `with-selected-frame' and
	`with-current-buffer'.

	* win32-native.el: Renamed from winnt.el.
	Added a great deal of stuff for properly handling process quoting,
	somewhat modeled on Kirill's original model (which i later threw
	away).  We should now finally have correctly working process arg
	quoting/dequoting so that the final app gets exactly what we
	intended.  Because the mechanism is in Lisp, it's easily
	extendible. (For those running bash and running the native
	version, I tried hard to do what I thought was correct.  But more
	thought is needed, and ideally the volunteer work of people with
	these configurations that they generally run on.)

	* x-font-menu.el (x-font-menu-font-data):
	Put in defvar's to fix byte-compiler warnings.

2000-08-01 Alastair J. Houghton <ajhoughton@lineone.net>

	* select.el (selection-coercion-alist): Initialise.
	* select.el (select-coerce-to-text): New.
	* select.el (select-coerce): New.
	New functions to perform type and value coercion.

	* select.el (select-buffer-killed-default): Keep data if it was
	on the clipboard.

2000-08-02  Martin Buchholz  <martin@xemacs.org>

	* menubar-items.el (default-menubar): Fix typo.
	(default-menubar): `lambda' was mispelled as `lamda'.

2000-07-31  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* window.el (shrink-window-if-larger-than-buffer): Remove
	edge checking code.

2000-07-31  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* paths.el (gnus-local-domain): Removed.
	(gnus-local-organization): Ditto.
	(gnus-startup-file): Ditto.

2000-07-13  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* files.el (auto-mode-alist): Add .spec for RPM.

2000-07-31  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): deprecate :properties.

2000-07-31  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* dragdrop.el (experimental-dragdrop-drop-url-default): Use function
	browse-url.
	* help.el (xemacs-www-page): Ditto.
	(xemacs-www-faq): Ditto.
	* menubar-items.el (default-menubar): Ditto.

	* wid-edit.el (widget-url-link-action): Ditto.
	From: Kenichi OKADA <okada@opaopa.org>.

2000-07-31  Martin Buchholz  <martin@xemacs.org>

	* finder.el (finder-commentary): Add autoload cookie.

2000-07-28  Adrian Aichner  <aichner@ecf.teradyne.com>

	* files.el (insert-file-contents-literally): Fix second let
	binding for `coding-system-for-read' to `coding-system-for-write'
	as suggested by Dan Holmsand <dan@innehallsbolaget.com>.

1999-06-15  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* files.el (insert-file-contents-literally): Use binary coding
	system (from Morioka san).
	(insert-file-contents-literally): Make file-name-handler method.

2000-07-26  Martin Buchholz  <martin@xemacs.org>

	* cl-macs.el (get-selection): Add defsetf.

2000-07-25  Steve Youngs  <youngs_s@ozlinx.com.au>

	* x-init.el (x-activate-region-as-selection): replace obsolete
	function x-own-selection with own-selection.
	(ow-find): replace obsolete functions x-get-selection and
	x-get-clipboard with get-selection and get-clipboard.
	(init-post-x-win): replace obsolete function x-disown-selection
	with disown-selection.

2000-07-20  Mike Sperber  <mike@xemacs.org>

	* startup.el (load-user-init-file): Only try to load init file if
	it exists.

2000-07-10  Andy Piper  <andy@xemacs.org>

	* dialog-items.el: sync with Ben's patch.

	* gutter-items.el (buffers-tab-switch-to-buffer): remove now-bogus
	comment.
	(progress-text-glyph): deleted.
	(progress-layout-glyph): make completely minimal.
	(progress-gauge-glyph): ditto.
	(progress-display-style): fix to handle dynamic instantiator
	changes.
	(progress-text-instantiator): new.
	(progress-layout-instantiator): new.
	(progress-gauge-instantiator): new.
	(set-progress-display-instantiator): renamed and changed from
	set-progress-display-style.
	(progress-abort-glyph): use instantiator not glyph.
	(append-progress-display): use set-progress-display-instantiator
	and set-glyph-image.
	(abort-progress-display): ditto.
	(raw-append-progress-display): ditto.

2000-07-20  Ben Wing  <ben@xemacs.org>

	* code-files.el: Move Mule-specific code to mule-coding.el.

2000-07-15  Ben Wing  <ben@xemacs.org>

        * autoload.el:
        Fixed comments.

        * cmdloop.el:
        * cmdloop.el (yes-or-no-p):
        * cmdloop.el (y-or-n-p):
        Make these functions use should-use-dialog-box-p and not be
        overridden in dialog.el.

        * cus-dep.el:
        * cus-dep.el (Custom-make-dependencies): Removed.
        * cus-dep.el (Custom-make-dependencies-1): New.
        * cus-dep.el (Custom-make-one-dependency): New.
        New entry point for use in Makefiles, to avoid excessive
        invocations.

        * cus-edit.el (custom-variable-reset-saved):
        * cus-edit.el (custom-variable-reset-standard):
        * cus-edit.el (custom-save-resets):
        Fix bytecompiler warnings.

        * dialog.el:
        * dialog.el (yes-or-no-p-dialog-box):
        * dialog.el (yes-or-no-p-maybe-dialog-box): Removed.
        * dialog.el (y-or-n-p-maybe-dialog-box): Removed.
        * dialog.el (get-dialog-box-response):
        * dialog.el (message-or-box):
        * dialog.el (make-dialog-box):
        * dialog.el (popup-dialog-box): New.
        Avoid yes-or-no-p bogosities.
        Create a general function `make-dialog-box' to encapsulate all
        dialog box methods; easily extendible.  popup-dialog-box now obsolete.

        * dumped-lisp.el (preloaded-file-list):
        Add dialog-items.  Clean up.  Group files by types.

        * easymenu.el (easy-menu-add):
        * easymenu.el (easy-menu-remove):
        Account for accelerators.

        * extents.el:
        * extents.el (extent-list): New args, like in map-extents.
        * extents.el (extent-at-event): New.
        * extents.el (extents-at-event): New.

        * font-lock.el:
        * font-lock.el (font-lock-mode):
        * font-lock.el (font-lock-default-fontify-buffer):
        * font-lock.el (font-lock-default-unfontify-region):
        * font-lock.el (font-lock-fontify-syntactically-region):
        * font-lock.el (font-lock-fontify-keywords-region):
        Use new progress-feedback names.

        * font-lock.el (java-font-lock-identifier-regexp):
        * font-lock.el (java-font-lock-class-name-regexp):
        Fix bytecompiler warnings.

        * gutter-items.el:
        * gutter-items.el (progress-display-use-echo-area): Removed.
        * gutter-items.el (progress-feedback-use-echo-area): New.
        * gutter-items.el (progress-display-popup-period): Removed.
        * gutter-items.el (progress-feedback-popup-period): New.
        * gutter-items.el (set-progress-display-style): Removed.
        * gutter-items.el (set-progress-feedback-style): New.
        * gutter-items.el (progress-display-style): Removed.
        * gutter-items.el (progress-feedback-style): New.
        * gutter-items.el (progress-stack):
        * gutter-items.el (progress-displayed-p): Removed.
        * gutter-items.el (progress-feedbacked-p): New.
        * gutter-items.el (clear-progress-display): Removed.
        * gutter-items.el (clear-progress-feedback): New.
        * gutter-items.el (progress-display-clear-when-idle): Removed.
        * gutter-items.el (progress-feedback-clear-when-idle): New.
        * gutter-items.el (remove-progress-display): Removed.
        * gutter-items.el (remove-progress-feedback): New.
        * gutter-items.el (progress-display-dispatch-non-command-events): Removed.
        * gutter-items.el (progress-feedback-dispatch-non-command-events): New.
        * gutter-items.el (append-progress-display): Removed.
        * gutter-items.el (append-progress-feedback): New.
        * gutter-items.el (abort-progress-display): Removed.
        * gutter-items.el (abort-progress-feedback): New.
        * gutter-items.el (raw-append-progress-display): Removed.
        * gutter-items.el (raw-append-progress-feedback): New.
        * gutter-items.el (display-progress-display): Removed.
        * gutter-items.el (display-progress-feedback): New.
        * gutter-items.el (current-progress-display): Removed.
        * gutter-items.el (current-progress-feedback): New.
        * gutter-items.el (current-progress-display-label): Removed.
        * gutter-items.el (current-progress-feedback-label): New.
        * gutter-items.el (progress-display): Removed.
        * gutter-items.el (progress-feedback): New.
        Replace "progress-display" with "progress-feedback" globally.

        * gutter-items.el (lprogress-display): Removed.
        * gutter-items.el (progress-feedback-with-label): New.
        Rename lprogress-display ==> progress-feedback-with-label.

        * gutter-items.el (search-dialog-direction): Removed.
        * gutter-items.el (search-dialog-text): Removed.
        * gutter-items.el (search-dialog-callback): Removed.
        * gutter-items.el (make-search-dialog): Removed.
        Move to dialog-items.el.

        * help.el:
        * help.el (help-mode-quit):
        * help.el (mode-for-help): New.
        * help.el (help-sticky-window): New.
        * help.el (help-window-config): New.
        * help.el (with-displaying-help-buffer):
        * help.el (function-at-event): New.
        * help.el (help-symbol-regexp): New.
        * help.el (help-symbol-run-function-1): New.
        * help.el (help-symbol-run-function): New.
        * help.el (help-symbol-function-context-menu): New.
        * help.el (help-symbol-variable-context-menu): New.
        * help.el (help-symbol-function-and-variable-context-menu): New.
        * help.el (frob-help-extents): New.
        * help.el (describe-function-1):
        * help.el (variable-at-point):
        * help.el (variable-at-event): New.
        * help.el (describe-variable):
        Major overhaul.
        - Make functions and variables be mousable.
        - Middle button hyperlinks.
        - New context-menu entries.

        * keydefs.el:
        * keydefs.el (global-map):
        New key bindings to move lines up and down.

        * lisp-mode.el:
        * lisp-mode.el (construct-lisp-mode-menu): New.
        * lisp-mode.el (emacs-lisp-mode-popup-menu):
        * lisp-mode.el (lisp-interaction-mode-menubar-menu):
        * lisp-mode.el (emacs-lisp-mode-menubar-menu):
        * lisp-mode.el (lisp-indent-function): Indent "flet" entries better.
        Make popup and menubar menus be different.  Popup menu uses
        clicked location and automatically assumes symbol under the mouse
        for various commands.

        * menubar-items.el:
        * menubar-items.el (bookmark-menu-filter): Add accelerators.
        * menubar-items.el (buffers-menu-omit-chars-list): Include 'd'.

        * menubar-items.el (global-popup-menu): Removed.
        * menubar-items.el (mode-popup-menu): Removed.
        * menubar-items.el (activate-popup-menu-hook): Removed.
        * menubar-items.el (popup-mode-menu): Removed.
        * menubar-items.el (popup-buffer-menu): Removed.
        * menubar-items.el (popup-menubar-menu): Removed.
        Move to menubar.el.

        * menubar.el:
        * menubar.el (global-popup-menu): New.
        * menubar.el (mode-popup-menu): New.
        * menubar.el (activate-popup-menu-hook): New.
        * menubar.el (last-popup-menu-event): New.
        * menubar.el (popup-mode-menu): New.
        * menubar.el (popup-buffer-menu): New.
        * menubar.el (popup-menubar-menu): New.
        * menubar.el (menu-call-at-event): New.
        Move non-content functions here.  Add support for context menu
        items on extents.

        * minibuf.el (minibuffer-history-uniquify):
        Typo fix.

        * minibuf.el (read-file-name-1):
        Call new file dialog box if it exists.

        * minibuf.el (mouse-rfn-setup-vars):
        Clean up "chop" action.

        * mouse.el:
        * mouse.el (button2): Now bound to mouse-track.
        * mouse.el (click-inside-extent-p):
        * mouse.el (point-inside-extent-p):
        * mouse.el (point-inside-selection-p):
        * mouse.el (mouse-drag-or-yank): Removed.
        * mouse.el (mouse-begin-drag-n-drop): New.
        * mouse.el (mouse-eval-sexp):
        * mouse.el (mouse-track-activate-strokes): New.
        * mouse.el (mouse-track-do-activate): New.
        * mouse.el (mouse-track):
        * mouse.el (default-mouse-track-event-is-with-button): New.
        * mouse.el (default-mouse-track-cleanup-hook):
        * mouse.el (default-mouse-track-drag-hook):
        * mouse.el (default-mouse-track-drag-up-hook):
        * mouse.el (default-mouse-track-click-hook):
        Merge drag-n-drop into mouse-track.
        Add general "activate" support to replace specific button2 kludges.
        Use "button modifier" support in mouse-track.

        * package-get.el (package-get-dependencies): Fix bytecompiler warnings.

        * package-ui.el:
        * package-ui.el (pui-menu):
        * package-ui.el (pui-popup-context-sensitive): Removed.
        Fix bytecompiler warnings.
        Clean up popup code a bit.

        * select.el (get-selection-no-error): Fix bytecompiler warnings.

        * simple.el:
        * simple.el (transpose-lines):
        * simple.el (transpose-line-up): New.
        * simple.el (transpose-line-down): New.
        * simple.el (transpose-subr):
        * simple.el (transpose-subr-1): Removed.
        Clean up, add functions to move lines up and down.

        * startup.el (mail-host-address):
        * startup.el (user-mail-address):
        Customize.

        * subr.el:
        * subr.el (set-symbol-value-in-buffer): New.
        * subr.el (error):
        * subr.el (check-argument-type):
        * subr.el (defined-error-p): New.
        Add structured error support.

        * toolbar-items.el (toolbar-compile):
        Use new make-dialog-box.

        * update-elc.el:

        * userlock.el (ask-user-about-lock-dbox):
        * userlock.el (ask-user-about-supersession-threat-dbox):
        * userlock.el (ask-user-about-lock):
        * userlock.el (ask-user-about-supersession-threat):
        Use new make-dialog-box.
        Add safety checks; use should use-dialog-box-p.

        * window-xemacs.el:
        * window-xemacs.el (__buffer-dedicated-frame):
        * window-xemacs.el (buffer-dedicated-frame): New.
        * window-xemacs.el (set-buffer-dedicated-frame): New.
        Move dedicated-frame stuff into lisp.

2000-07-18  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* printer.el (generic-print-region): Do not require that
	`printer-name' be set.
	(printer-name): Commentary clarification.

2000-07-19  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.35 is released.

2000-07-18 Alastair J. Houghton <ajhoughton@lineone.net>

	* select.el (selection-coercible-types): Initialise.

2000-07-18 Alastair J. Houghton <ajhoughton@lineone.net>

	* select.el (own-clipboard): Bug fix.

2000-07-17  Mike Sperber  <mike@xemacs.org>

	* cus-edit.el (custom-migrate-custom-file): Save init file before
	continuing.

2000-07-16  Mike Sperber  <mike@xemacs.org>

	* startup.el (load-init-file): Remove silly call to
	`load-user-custom-file`.
	(maybe-migrate-user-init-file): Minor fixes.

2000-07-16  Martin Buchholz  <martin@xemacs.org>

	* apropos.el (apropos-documentation-check-doc-file):
	`doc' variable should be let-bound, as was presumably intended.

	* cus-edit.el (custom-variable-reset-saved):
	(custom-variable-reset-standard):
	Remove unused variable comment-widget.  Twice.

	* toolbar.el (toolbar-blank-press-function):
	Add a real defvar with initial value nil and proper docstring.
	(press-toolbar-button): No need to check for boundp-ness anymore.

	* rect.el (open-rectangle-line): Remove useless (let) form.
	Add defvar for pending-delete-mode.

	* info.el (Info-find-node): This function needs an autoload cookie.

	* mule/mule-x-init.el (x-use-halfwidth-roman-font):
	Use let* since the second form referred to the first.

2000-07-16  Adrian Aichner  <aichner@ecf.teradyne.com>

	* msw-select.el (mswindows-paste-clipboard): Use `get-clipboard'
	instead of removed `mswindows-get-clipboard'.


2000-07-15 Alastair J. Houghton <ajhoughton@lineone.net>

	* select.el (select-convert-from-text): New.
	* select.el (select-convert-from-length): New.
	* select.el (select-convert-from-integer): New.
	* select.el (select-convert-from-identity): New.
	* select.el (select-convert-from-filename): New.
	* select.el (selection-converter-in-alist): Use them.
	New converter functions for X.

	* select.el (get-selection): Removed comment.

	* select.el (own-selection): Removed append code - I thought
	I'd already done this, but apparently not...

	* select.el: Changed comment about TIMESTAMP.

	* select.el (select-convert-in): New.
	* select.el (select-convert-out): New.
	New functions that get used by select.c.

	* select.el (select-buffer-killed-default): New.
	* select.el (select-buffer-killed-text): New.
	* select.el (selection-buffer-killed-alist): New.
	New list and functions that get called if a relevant selection
	exists and a buffer gets killed.

	* select.el (select-convert-to-targets):
	* select.el (select-convert-to-identity): Removed.
	* select.el (select-convert-from-identity): Removed.
	* select.el (select-converter-out-alist):
	Removed _EMACS_INTERNAL selection type.

	* x-select.el (xselect-kill-buffer-hook): Removed.
	* x-select.el (xselect-kill-buffer-hook-1): Removed.
	Removed this X-specific nonesense. Use the generic support
	in select.el instead.

2000-07-15  Martin Buchholz  <martin@xemacs.org>

	* mule/mule-category.el (defined-category-hashtable):
	Use make-hash-table instead of make-hashtable

	* buff-menu.el: Byte-compiler warning fix.

	* isearch-mode.el (isearch-highlight-all-cleanup):
	Remove unused variable `isearch-highlight-all-start'.

	* etags.el (add-to-tag-completion-table): Byte-compiler warning fix.

	* itimer.el (itimer-edit-mode): Byte-compiler warning fixes.

	* cus-dep.el (Custom-make-dependencies):
	Add autoload cookie for custom-add-loads to generated custom-load.el.

	* autoload.el (autoload-package-name): Warning suppression.
	Move defvar prior to first use.

	* custom.el: Add autoload for custom-declare-face.
	Allow `xemacs -no-autoloads -l bytecomp -f batch-byte-compile ...'
	* cl.el (cl-hack-byte-compiler):
	Allow `xemacs -no-autoloads -l bytecomp -f batch-byte-compile ...'
	to work properly.

2000-07-08  Mike Sperber  <mike@xemacs.org>

	* startup.el (load-home-init-file): Added variable.
	(maybe-migrate-user-init-file): Added.
	(load-user-init-file): Load custom file if different from init
	file.

	* dumped-lisp.el (preloaded-file-list): Added "cus-file" before
	"startup."

	* cus-edit.el (custom-migrate-custom-file): Added for migration.
	Moved `custom-file'-related code to cus-file.el.

	* cus-file.el: New file.

2000-04-01  Mike Sperber  <mike@xemacs.org>

	* packages.el (packages-find-package-directories): Added support
	for external package hierarchies with in-place installations.

	* find-paths.el (paths-root-in-place-p): Added.
	(paths-find-emacs-directory): Added support for external
	directories with in-place installations.
	(paths-find-site-directory): Ditto.

	* startup.el (find-user-init-file): Also look for
	~/.xemacs/init.elc? in preference to ~/.emacs.

2000-07-12 Alastair J. Houghton <ajhoughton@lineone.net>

	* select.el (own-selection):
	* select.el (own-clipboard): Changed `append' parameter to
	`how-to-use' parameter.
	* select.el (own-selection): Removed icky append code.
	* select.el (own-selection, get-selection): Removed extra type
	checking.
	* select.el (selection-appender-alist):
	* select.el (selection-converter-{in|out}-alist): Initialise.
	* select.el (select-append-to-*): New.
	* select.el (select-convert-from-*): New.  New functions to append
	data and convert data from external type.

2000-07-12  Stef Epardaud  <stef@lunatech.com>

	* font-lock.el: Javadoc enhancements.

2000-07-06  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* printer.el (generic-print-region): Compose job name from buffer
	name.

2000-07-06  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* font-lock.el (font-lock-fontify-pending-extents): Call
	font-lock-fontify-region instead of font-lock-fontify-buffer
	to avoid unnecessary progress gauges.

2000-07-06  Craig Lanning  <lanning@scra.org>

	* custom-load.el (faces):

        * finder.el (finder-compile-keywords): from Dan Holmsand, make sure
        dir is a regex.

        * process.el (call-process-internal): from Dan Holmsand, use binary
        coding systems so that jka-compr works.

2000-07-07  Ben Wing  <ben@xemacs.org>

	* font-lock.el: Undo previous change.  Unfortunately, some
	files actually use the variables directly in their init code
	without quoting them.

2000-07-07  Ben Wing  <ben@xemacs.org>

	* font-lock.el (defvar font-lock-*-face): Removed.

	* font-lock.el (font-lock-apply-highlight): Bind these face vars
	only when necessary.

2000-06-30  Charles G Waldman  <cgw@alum.mit.edu>

	* cl-macs.el: fix cl-transform-function-property kludge
	so that it does not require a random feature.

2000-06-09  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* files.el (auto-mode-alist): allow .make extension for Makefiles,
	as in Linux kernel "Rules.make".

2000-06-29  Gunnar Evermann  <ge204@eng.cam.ac.uk>

	* build-report.el (build-report): Add autoload cookie.

2000-06-21  Charles G Waldman  <cgw@alum.mit.edu>

	* package-ui.el (defgroup pui):  Correct a misspelling
	(pui-toggle-package-delete):  Change `seleted' to `selected'

2000-06-12  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-get.el (package-get-update-base):
	(package-get): Use insert-file-contents-literally always.
	(package-get-maybe-save-index):
	Force coding system for writing to binary.

2000-06-08  Mike Alexander  <mta@arbortext.com>

	* code-process.el (call-process-region): If there is no coding
	system for the process on process-coding-system-alist use the
	coding system of the buffer containing the region.

2000-06-10  Ben Wing  <ben@xemacs.org>

	* cmdloop.el (command-error):
	If debug-on-error and noninteractive, output backtrace.

	* files.el (file-relative-name):
	Remove MSDOS references.

	* simple.el (line-number): New function, due to non-obvious
	behavior/usage of count-lines.

	* simple.el (count-lines): document non-obvious usage to get
	line number.

2000-06-11  Ben Wing  <ben@xemacs.org>

	* faces.el ((featurep 'xpm)):
	* x-faces.el (x-init-face-from-resources):
	* x-faces.el (x-init-frame-faces):
	* x-misc.el (x-init-specifier-from-resources):
	* x-misc.el (x-get-resource-and-bogosity-check):
	* x-misc.el (x-get-resource-and-maybe-bogosity-check):
	* x-mouse.el (x-init-pointer-shape):
	* x-scrollbar.el (x-init-scrollbar-from-resources):
	Add sixth argument to x-get-resource calls so as to issue warnings
	rather than errors on bogus arguments.

2000-06-05  Ben Wing  <ben@xemacs.org>

	* compat.el: new file.  provides a clean, non-intrusive way to
	define compatibility functions.

	* process.el (shell-quote-argument): temporary fix for lack
	of nt-quote-process-args.  #### I need to put back the overall
	structure of that mechanism but redo the guts of it using the
	extra intelligence in the C code.

2000-05-28  Adrian Aichner  <aichner@ecf.teradyne.com>

	* package-info.el (pi-md5sum): Calculate MD5 sum just like
	`package-get' does in package-get.el, instead of using external
	"md5sum" program.

	* package-get.el (package-get): Insert package file literally to
	make checksum calculation work.

2000-04-18  Hrvoje Niksic  <hniksic@iskon.hr>

	* code-files.el (convert-mbox-coding-system): Deleted.
	(file-coding-system-alist): Removed reference to
	convert-mbox-coding-system.

2000-05-28  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.34 is released.

2000-05-20  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* font-lock.el (font-lock-keywords): Rewrote docstring

2000-05-22  Karl M. Hegbloom  <karlheg@debian.org>

	* loadhist.el (unload-feature): handle case where x is both boundp
	and fboundp

2000-05-22  Karl M. Hegbloom  <karlheg@debian.org>

	* packages.el: It's ok to use built-in macros, but not lisp
	defined ones.

2000-05-20  Ben Wing  <ben@xemacs.org>

	* font-lock.el:
	* font-lock.el (font-lock-message-threshold):
	* font-lock.el (font-lock-mode):
	* font-lock.el (font-lock-default-fontify-buffer):
	* font-lock.el (font-lock-always-fontify-immediately):
	* font-lock.el (font-lock-old-extent): Removed.
	* font-lock.el (font-lock-old-len): Removed.
	* font-lock.el (font-lock-fontify-glumped-region): Removed.
	* font-lock.el (font-lock-pending-extent-table): New.
	* font-lock.el (font-lock-range-table): New.
	* font-lock.el (font-lock-after-change-function):
	* font-lock.el (font-lock-after-change-function-1): Removed.
	* font-lock.el (font-lock-fontify-pending-extents): New.
	* font-lock.el ('font-lock-revert-cleanup): Removed.
	* font-lock.el ('font-lock-revert-setup): Removed.
	Rewrite deferral code to handle any number of changes, merging
	them properly.  Remove hacked-up code for revert-buffer, now
	unnecessary.

	* menubar-items.el (default-menubar):
	In Options->Edit Init File, don't switch to emacs-lisp-mode
	unless necessary; doing this turns off font-lock.

2000-05-15  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* keydefs.el: Define C-x BS to backward-kill-sentence.

2000-05-15  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* files.el (hack-local-variables-prop-line): Use non-greedy
	matching to process -*-texinfo-*- -*-.

2000-05-11  Jonathan Marten <jonathan.marten@uk.sun.com>

	* minibuf.el (minibuf-directory-files): new function.
	(read-file-name-activate-callback): use minibuf-directory-files.
	(read-directory-name-internal): ditto.
	(mouse-file-display-completion-list): ditto.
	(mouse-directory-display-completion-list): ditto.
	(read-file-name-internal): remove "./" from completion list unless
	explicitly matched, for consistency.

2000-05-11  Ben Wing  <ben@xemacs.org>

	* gutter-items.el (gutter-buffers-tab):
	* gutter-items.el (add-tab-to-gutter):
	* gutter-items.el (update-tab-in-gutter):
	* gutter-items.el (remove-buffer-from-gutter-tab): Removed.
	* gutter-items.el (append-progress-display):
	* gutter-items.el (abort-progress-display):
	* gutter-items.el (raw-append-progress-display):
	Further fixes.  Use set-glyph-image not set-image-instance-property,
	to fix problems with multiple windows in a frame.

	* menubar-items.el (tutorials-menu-filter):
	Fix typo.

	* startup.el (early-error-handler):
	Display message box under windows; otherwise, message will disappear
	before it can be viewed.

	* update-elc.el:
	Fix bug in NEEDTODUMP processing.

2000-05-08  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* startup.el (lock-directory): Removed.
	(superlock-file): Ditto.
	(startup-set-paths): Remove lockdir.
	(startup-setup-paths-warning): Remove lock-directory.

	* setup-paths.el (paths-find-lock-directory): Removed.
	(paths-find-superlock-file): Ditto.

2000-05-09  Ben Wing  <ben@xemacs.org>

	* faces.el (set-face-property):
	* faces.el (set-face-font):
	* faces.el (set-face-foreground):
	* faces.el (set-face-background):
	* faces.el (set-face-background-pixmap):
	* faces.el (set-face-underline-p):
	* faces.el (set-face-strikethru-p):
	* faces.el (set-face-highlight-p):
	* faces.el (set-face-dim-p):
	* faces.el (set-face-blinking-p):
	* faces.el (set-face-reverse-p):
	doc string changes.

	* glyphs.el:
	* glyphs.el (make-image-specifier):
	* glyphs.el (glyph-property):
	* glyphs.el (set-glyph-image):
	* glyphs.el (make-glyph):
	* glyphs.el (make-pointer-glyph):
	* glyphs.el (make-icon-glyph):
	* glyphs.el (widget-image-instance-p): New.
	authorship info, lots of doc changes.  New predicate, inadvertently
	omitted.  the general principle with specifier docs is now that
	the description of instantiators should go with the make-foo-specifier
	fun's doc string, rather than in foo-specifier-p.  this follows
	conventions elsewhere in XEmacs and in general is a lot more obvious
	of a place to look.  sometimes the make-foo-specifier function needs
	to be created in the process.

	* gutter.el:
	* gutter.el (make-gutter-specifier): New.
	* gutter.el (make-gutter-size-specifier): New.
	* gutter.el (make-gutter-visible-specifier): New.
	specifier doc updates according to the conventions specified before.

	* objects.el:
	* objects.el (make-font-specifier):
	* objects.el (make-color-specifier):
	* objects.el (make-face-boolean-specifier): New.
	specifier doc updates according to the conventions specified before.

	* specifier.el:
	* specifier.el (set-specifier):
	* specifier.el (make-integer-specifier): New.
	* specifier.el (make-boolean-specifier): New.
	* specifier.el (make-natnum-specifier): New.
	* specifier.el (make-generic-specifier): New.
	* specifier.el (make-display-table-specifier): New.
	specifier doc updates according to the conventions specified before.

	* toolbar.el:
	* toolbar.el (make-toolbar-specifier): New.
	specifier doc updates according to the conventions specified before.

2000-05-09  Ben Wing  <ben@xemacs.org>

	* process.el (call-process-internal): Revert to previous version
	because Mike's change clashed with a change I did not long before.
	Changed progn to prog1 to fix the bug pointed out by Mike Alexander.
	Thanks very much Mike for pointing out the bug and submitting a
	patch!

2000-04-13  Mike Alexander  <mta@arbortext.com>

	* process.el (call-process-internal): Send the correct input buffer
	(call-process-internal): Return the exit status of the process

2000-05-07  Ben Wing  <ben@xemacs.org>

	* winnt.el:
	* winnt.el (nt-quote-args-verbatim): Removed.
	* winnt.el (nt-quote-args-prefix-quote): Removed.
	* winnt.el (nt-quote-args-backslash-quote): Removed.
	* winnt.el (nt-quote-args-double-quote): Removed.
	* winnt.el (nt-quote-args-functions-alist): Removed.
	* winnt.el (nt-quote-process-args): Removed.
	Remove all stuff for argument quoting.  We borrow the code instead
	from Emacs 20.6, which is much more careful in its quoting
	(e.g. in handling runs of the escape character) and avoids most of
	the need for this Lisp mechanism by checking to see whether we're
	running a Cygwin or normal program and doing the appropriate
	quoting.  If we end up needing such a mechanism, we should add
	it by extending the variable `mswindows-quote-process-args' so it
	can take an alist of regexps.

2000-05-07  Ben Wing  <ben@xemacs.org>

	* keydefs.el:
	Restore M-up, M-down to 21.1 state.  Put *ward-sentence on
	C-M-left, C-M-right instead.  Define C-M-up, C-M-down to scroll
	the window without moving point.

	* simple.el:
	* simple.el (scroll-up-one): New.
	* simple.el (scroll-down-one): New.
	Functions for use with C-M-up/down.

2000-05-01  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.33 is released.

2000-04-29  Martin Buchholz  <martin@xemacs.org>

	* dialog.el (yes-or-no-p-dialog-box):
	Fix docstring.
	Fix following horrible bug in X11 mode with focus-follows-mouse:
	  1. Visit two files in two different frames.
	  2. do File->Revert Buffer in one of those frames.
	  3. Dialog box appears.
	  4. Arrange things so that the mouse passes over the *other*
	     frame, then to the dialog box, and click on "Yes".
	  5. The file contents end up in the *wrong* buffer!
	Add TODO comment.

2000-04-28  Ben Wing  <ben@xemacs.org>

	* help.el (describe-installation): correct typo introduced
	in last patch: boundp -> fboundp.

	* etags.el (buffer-tag-table-list):
	canonicalize filenames to Unix format so that tag-table-alist
	searching works under Windows.

	* autoload.el:
	Bowdlerize the supposedly objectionable words
	"who couldn't quite manage to cleanly modify batch-update-autoloads".

	* gutter-items.el (set-progress-display-style):
	* gutter-items.el (search-dialog-callback):
	* gutter-items.el (make-search-dialog):
	Change to new callback-ex api.

2000-04-26  Björn Torkelsson  <torkel@hpc2n.umu.se>

	* help.el: (describe-installation): decode-coding-string is not
	defined in a non MULE environment.

2000-04-28  Ben Wing  <ben@xemacs.org>

	* gutter-items.el (buffer-list-changed-hook):
	use it, not record-buffer-hook.

	* subr.el (record-buffer-hook): Removed.

2000-04-27  Ben Wing  <ben@xemacs.org>

	* gutter-items.el (buffers-tab-switch-to-buffer): do not
	use NORECORD option.  Andy will not like this, but the existing
	gutter behavior is just wrong, as per this comment:

	;; this used to add the norecord flag to both calls below.
        ;; this is bogus because it is a pervasive assumption in XEmacs
        ;; that the current buffer is at the front of the buffers list.
        ;; for example, select an item and then do M-C-l
        ;; (switch-to-other-buffer).  Things get way confused.
        ;;
        ;; Andy, if you want to maintain the current look, you must
        ;;  *uncouple* the gutter order and buffers order.

	* loaddefs.el (completion-ignored-extensions): unfuckify.

	* bytecomp.el (batch-byte-compile-one-file): new function, used in
	xemacs.mak.

	* autoload.el (batch-update-one-directory): new function, used in
	xemacs.mak.

	* loadup.el: set gc-cons-threshold very high unless dumping --
	loadup during update-elc is much much much faster.  also do this
	when quick-building.

	add commented-out code for profiling loadup.


	* update-elc.el (preloaded-file-list): add bytecomp.el, since it
	is required in order to build xemacs.

2000-04-26  Ben Wing  <ben@xemacs.org>

	* loadup.el: don't garbage collect during loadup if quick-build
	compile-time option is set.

2000-04-23  Ben Wing  <ben@xemacs.org>

	* update-elc.el: compute whether any dumped .el or .elc files
	are newer than the dumped exe, and touch the file ../src/NEEDTODUMP
	if so.

	* update-elc.el (update-elc-files-to-compile): always change
	NOBYTECOMPILE in the src directory rather than current dir,
	so it will work under NT.

	* autoload.el (autoload-trim-file-name): canonicalize to slashes so
	the form of this file is identical between Unix and Windows.
	(autoload-target-directory): Fixed to be lisp/ not lisp/prim/.
	Added comment.
	(update-autoloads-from-directory): updated doc string.
	updated doc strings in a few other places.

2000-04-18  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* bytecomp.el (byte-force-recompile): Fix argument to
	byte-recompile-directory.

2000-04-17  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* gutter-items.el (progress-display-clear-when-idle): Use
	add-one-shot-hook.
	* gutter-items.el (clear-progress-display): Adjust number of
	arguments.

2000-04-13  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Always dump select.el.

2000-04-16  Ben Wing  <ben@xemacs.org>

	* printer.el: New file.

	* dumped-lisp.el (preloaded-file-list): Declare printer.el.

	* help.el (describe-installation): Fix decoding for Windows.

	* menubar-items.el:
	* menubar-items.el (default-menubar):
	* menubar-items.el (tutorials-menu-filter): New.
	* menubar-items.el (popup-menubar-menu):
	Add authorship.  Redo Help menu and Tutorials filter.

	* menubar.el: Correct comment.

	* modeline.el (modeline-buffer-identification): Correct doc string.

	* simple.el:
	* simple.el (printing): Removed.
	* simple.el (printer-name): Removed.
	* simple.el (generic-print-buffer): Removed.
	* simple.el (generic-print-region): Removed.
	Move generic print code to printer.el.

2000-04-15  Ben Wing  <ben@xemacs.org>

	* simple.el (generic-print-region): New.
	make this function actually work.
	(generic-print-buffer): call generic-print-region.

2000-04-14  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (make-search-dialog): avoid unnecessary futzing
	by using the new widget-callback-current-channel.
	(search-dialog-callback): ditto.

2000-04-12  Andy Piper  <andy@xemacs.org>

	* gutter.el (default-gutter-position): moved from gutter-items.el.
	(default-gutter-position-changed-hook): ditto.
	(gutter-element-visibility-changed-hook): ditto.
	(set-gutter-element): ditto.
	(remove-gutter-element): ditto.
	(set-gutter-element-visible-p): ditto.
	(gutter-element-visible-p): ditto.
	(init-gutter): ditto.

	* dialog.el (make-dialog-box): renamed and moved from
	gutter-items.el

	* gutter-items.el: move various functions elsewhere.

2000-04-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* menubar-items.el: Fixed place of parenthesis.

2000-04-12  Ben Wing  <ben@xemacs.org>

	* etags.el (find-tag-at-point): New.  Lets you do find-tag
		without constantly being prompted for the tag.
	* simple.el: Added a number of section headings, to clarify the
		organization of this file.
	* simple.el (activate-region):
	* simple.el (region-exists-p):
	* simple.el (region-active-p):
		Moved these three function down to the other side of
		the case-changing functions, so they join the rest of
		the region code.
	* simple.el (printing): New.
	* simple.el (printer-name): New.
	* simple.el (generic-print-buffer): New.
		New functions, a very simple prototype for a unified
		printing interface.

	* process.el (call-process-internal): Real fix for null BUFFER,
		other problems with BUFFER specs.

	* menubar-items.el:
		Fixed up File->Print to use new printing functions.
		Various corrections and expansions to Grep/Compile menus.
		New options for Printing.
		New options for SMTP Mail, the way to send mail under
		  MS Windows. (There's also a package patch to make SMTP
		  Mail be the default under MSWin.)

2000-04-09  Jeff Miller <jmiller@cablespeed.com>

	* menubar-items.el: Selecting Rectangle Mousing from menubar
	did not work.  Needed to quote mouse-track-rectangle-p.

2000-04-06  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* cl-compat.el (keywordp): Removed.

2000-04-05  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (progress-layout-glyph): don't initialize here.
	(progress-gauge-glyph): use dynamic sizing.
	(set-progress-display-style): new function. Set progress glyphs
	appropriately depending on the style.
	(progress-display-style): new variable. Custom version of
	set-progress-display-style.
	(progress-abort-glyph): switch to dynamic sizes.
	(search-dialog-text): make the edit field active.

2000-04-04  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (make-search-dialog): need to make the search
	dialog visible after creation.

	* menubar-items.el (default-menubar): use the search dialog for
	searching. Remove some extraneous search menu items.

	* gutter-items.el (set-gutter-element): allow glyphs to be used as
	well as strings.
	(make-gutter-only-dialog-frame): allow the user to create the
	frame unmapped. Allow the gutter spec to be given as a glyph.
	(search-dialog-direction): new variable.
	(search-dialog-text): new variable.
	(search-dialog-callback): new function. Callback for the search
	dialog action.
	(make-search-dialog): new function. Create a user-friendly search
	dialog.

2000-04-04  Hrvoje Niksic  <hniksic@iskon.hr>

	* faces.el (set-face-stipple): Use mswindows-bitmap-file-path
	under Windows.

2000-04-01  Andy Piper  <andy@xemacs.org>

	* font-lock.el (font-lock-fontify-keywords-region): Calculate
	progress more accurately.

2000-02-02  Hirokazu FUKUI  <hfukui@sannet.ne.jp>

	* finder.el (finder-compile-keywords): Process readable files only.
	Because error in process of .#finder-inf.el when compile xemacs
	with --with-clash-detection option.

2000-03-31  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (append-progress-display): don't delay after a
	successful font-lock.
	(make-gutter-only-dialog-frame): new function. Allow users to
	create gutter-only dialogs.

2000-03-27  Mike Alexander  <mta@arbortext.com>

	* process.el (call-process-internal): Handle a null BUFFER
	parameter correctly.

2000-03-28  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (abort-progress-display): put strings in the
	gutter not extents.
	(progress-layout-glyph): signal special 'quit callback.
	(progress-display-quit-function): deleted.
	(progress-display-stop-callback): deleted.
	(progress-display-dispatch-command-events): deleted.
	(append-progress-display): remove calls to
	progress-display-dispatch-command-events.
	(raw-append-progress-display): ditto.

2000-03-23  Hrvoje Niksic  <hniksic@iskon.hr>

	* faces.el (set-face-stipple): Rewrite to correctly handle PIXMAP
	being a list.  Actually define `stipple-pixmap-p' which is used as
	an error predicate.  Correctly handle PIXMAP being either relative
	or absolute file name.

2000-03-24  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (add-tab-to-gutter): use copy-sequence.
	(abort-progress-display): ditto. Don't delete the created extent.
	(raw-append-progress-display): ditto.
	(progress-display-dispatch-non-command-events): new
	function. Encapsulates what we want to do when no command input is
	required.
	(progress-display-dispatch-command-events): likewise, but disable
	for now since it causes too many problems.
	(append-progress-display): use them.
	(raw-append-progress-display): ditto.
	(default-gutter-position-changed-hook): set this rather than
	default-gutter-position-changed.
	(default-gutter-position-changed-hook): lambda with zero arguments
	rather than one.
	(raw-append-progress-display): trap errors in pending input since
	allowing them to signal will hose the gauge well and
	truly. Ideally we would like to delay these until we are more able
	to cope.
	(append-progress-display): ditto.

2000-03-20  Jeff Miller <jmiller@cablespeed.com>

	* lisp/make-docfile.el: call-process-internal is now implemented
	in process.el.

2000-03-21  Ben Wing  <ben@xemacs.org>

	* mule\mule-cmds.el (set-language-info-alist):
	Fix to correspond to new menu arrangement.

2000-03-21  Ben Wing  <ben@xemacs.org>

	* process.el:
	* process.el (call-process-internal): New.
	New implementation of call-process.  Only enabled under NT, so far.
	stderr handling not implemented yet in CVS'd C code.

2000-03-20  Ben Wing  <ben@xemacs.org>

	* lisp-mode.el:
	* lisp-mode.el (lisp-interaction-mode-menubar-menu): New.
	* lisp-mode.el (lisp-interaction-mode):
	Put back Lisp Interaction menubar for Jan V's sake.

	* simple.el:
	* simple.el (mark-ring):
	* simple.el (dont-record-current-mark): New.
	* simple.el (in-shifted-motion-command): New.
	* simple.el (mark-ring-unrecorded-commands): New.
	* simple.el (mark-ring-max):
	* simple.el (set-mark-command):
	* simple.el (push-mark):
	* simple.el (handle-pre-motion-command):
	Implement scheme for not recording unimportant marks.

	* subr.el:
	* subr.el (function-allows-args): New.
	New function function-allows-args.

2000-03-20  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.32 is released.

2000-03-20  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): force selection of the
	selected-window if required to do so.
	(buffers-tab-items): ditto.
	(add-tab-to-gutter): ditto.
	(create-frame-hook): use force-selection.
	(default-gutter-position-changed): lambdify.
	(update-tab-hook): deleted since it was only used in one place.

2000-03-18  Andy Piper  <andy@xemacs.org>

	* files.el (find-file-noselect): undo change that shouldn't have
	gone in.

2000-03-17  Andy Piper  <andy@xemacs.org>

	* buffer.el (switch-to-buffer): use last-nonminibuf-window instead
	of selected-window trickery.

	* gutter-items.el (update-tab-in-gutter): don't give dedicated
	frames tabs.
	(progress-display-stop-callback): progress -> progress-display
	(progress-display-quit-function): ditto.
	(clear-progress-display): ditto.
	(remove-progress-display): ditto.
	(append-progress-display): ditto.
	(abort-progress-display): ditto.
	(raw-append-progress-display): ditto.
	(display-progress-display): ditto.
	(current-progress-display-label): ditto.
	(current-progress-display): ditto.
	(lprogress-display): ditto and save the buffer
	(progress-display): ditto. Otherwise the buffer sometimes gets
	changed which confuses font-lock.

	* font-lock.el (font-lock-default-fontify-buffer): catch all
	errors, not just quit.
	(font-lock-mode): progress -> display-progress
	(font-lock-default-fontify-buffer): ditto.
	(font-lock-fontify-syntactically-region): ditto.
	(font-lock-fontify-keywords-region): ditto.

2000-03-14  Hrvoje Niksic  <hniksic@iskon.hr>

	* cl.el (gensym): Move to here from cl-macs.el.
	(gentemp): Ditto.

2000-03-16  Andy Piper  <andy@xemacs.org>

	* font-lock.el (font-lock-mode): use lprogress and friends for
	progress management.
	(font-lock-default-fontify-buffer): ditto.
	(font-lock-fontify-syntactically-region): ditto.
	(font-lock-fontify-keywords-region): ditto.
	(font-lock-revert-cleanup): fix reverting.
	(font-lock-revert-setup): ditto.

	* gutter-items.el (progress-use-echo-area): new variable. Use the
	echo area for progress gauges if non-nil.
	(clear-progress): remove echo area stuff and defer to
	clear-message.
	(append-progress): dispatch non-command events after each progress
	increment. Remove echo area stuff.
	(abort-progress): remove echo area stuff and defer to
	display-message.
	(raw-append-progress): ditto. Dispatch non-command events after
	gutter redisplay.
	(display-progress): defer echo area stuff to display-message.

	* gutter-items.el (clear-progress):
	(abort-progress): indentation changes.
	(display-progress): don't clear progress.
	(append-progress): compare messages with equal.
	(raw-append-progress): use dispatch-non-command-events to flush
	widget creation events.

2000-03-13  Ben Wing  <ben@xemacs.org>

	* abbrev.el:
	* abbrev.el (abbrev-string-to-be-defined): New.
	* abbrev.el (inverse-abbrev-string-to-be-defined): New.
	Changes for use with the menubar.

2000-03-12  Ben Wing  <ben@xemacs.org>

	* alist.el (vassoc): moved here from font-menu.el.

	* custom.el (defface): typo fix.

        * dialog.el (yes-or-no-p-dialog-box):
        * dialog.el (message-box):
        * files.el (save-some-buffers-1):
        Put accelerators in the button names.

        * font-lock.el (font-lock-comment-face):
        * font-lock.el (font-lock-keyword-face):
        * font-lock.el (font-lock-function-name-face):
        Fixed some of the colors under MS Windows because the existing
        default colors were hardly different from black and needed to be
        made lighter.

	* font-menu.el:
	* font-menu.el (font-menu-split-long-menu):
	* font-menu.el (font-menu-family-constructor):
	* font-menu.el (font-menu-size-constructor):
	* font-menu.el (font-menu-weight-constructor):
	* font-menu.el (font-menu-set-font):
	vassoc moved to alist.el.
	Accelerators added to all menus.
	Unused bound var new-props removed.

        * keydefs.el: I did a whole lot of rearranging to put things in a
        more consistent order and fixed a number of cases where key
        combinations involving up, down, left, right and so on were
        defined but the corresponding keypad combinations were not
        defined.

	* lisp-mode.el:
	* lisp-mode.el (lisp-interaction-mode-popup-menu):
	* lisp-mode.el (emacs-lisp-mode):
	* lisp-mode.el (lisp-interaction-mode):
	* lisp-mode.el (flet):
        Added accelerators onto the menus.
	Made all the different versions of the let function be indented
	the same way.
	Undid Steve's easy-menu-ification, because it makes it impossible
	to have the menubar and popup menus different.
	Cleaned up the menu; added items for find-function &c and some
	indenting, and removed debug-on-*.

	* list-mode.el (list-mode-hook):
	* list-mode.el (list-mode):
	* list-mode.el (completion-setup-hook):
	* list-mode.el (display-completion-list):
        Added support for the :window-height keyword, which is required
        because of other changes that I made for the file dialog box.  I
        also made the hook variables list-mode-hook and
        completion-setup-hook and also minibuffer-setup-hook in
        minibuf.el be permanent-local; see comment in list-mode.el.

	* map-ynp.el (map-y-or-n-p):
        Added accelerators to the dialog buttons.

	* menubar-items.el (menu-truncate-list):
	New internal function.
	* menubar-items.el (submenu-generate-accelerator-spec):
	* menubar-items.el (menu-item-strip-accelerator-spec):
	* menubar-items.el (menu-item-generate-accelerator-spec):
	New exported functions, for use in auto-generating accelerator specs.

	* menubar-items.el:
	* menubar-items.el (default-menubar):
	* menubar-items.el (maybe-add-init-button):
	* menubar-items.el (bookmark-menu-filter):
	* menubar-items.el (slow-format-buffers-menu-line):
	* menubar-items.el (build-buffers-menu-internal):
	* menubar-items.el (language-environment-menu-filter):
	* menubar-items.el (default-popup-menu):
	* menubar-items.el (popup-buffer-menu):
	* menubar-items.el (popup-menubar-menu):
        Did a major overhaul on this file, and in fact I'm nowhere near
        done working on the menubar, and there will be more patches to
        come.  A basic summary of what I've done:

        a) I added accelerators to all of the menu items.  For menus that
	are auto-generated, such as the buffers menu, the accelerators are
	automatically added to the beginning of each line using the
	numbers 1 through 9, then zero, and then letters starting with A,
	but omitting the letters that are already in use for the fixed
	menu items at the top of the buffers menu.  To facilitate adding
	accelerators of this kind, I created some new functions
	(*-accelerator-spec), which are also being used by other filters
	that auto generate lists of things such as ftp sites to download
	packages.  If people really don't like these accelerators
	appearing at the beginning of the menu items, a variable can be
	added to optionally turn them off, but I think this is rather
	pointless because other menu items have accelerators and many or
	most of the menu users will use the accelerators if the support is
	there.

        b) I combined the top level Tools and Apps menus into a single
        Tools menu, because the distinction between the two is not
        obvious, and the items on the menus are not used often enough that
        putting some of them onto submenus is a problem.

        c) I created two new top level menus called View and Cmds because
        there were too many items on the File and Edit menus, and I'm going
        to be adding more items to these menus.  In contrast to the Tools
        menu, the items on these menus may be used quite often during an
        editing session, and so should be available with fewer
        keystrokes.

        d) I added a number of options to the options menu, including one
        for controlling whether the alt key can be used to traverse to
        menu items using the accelerators, one for controlling behavior of
        control-k, one for controlling how the kill and yank functions
        interact with the clipboard, a few additional buffers-menu
        options, and various other things.  I also did a bit of
        rearranging, for example, combining the keyboard and mouse options
        into a single keyboard and mouse submenu to facilitate the
        accelerators on that level.

        e) I changed the variable buffers-menu-format-buffer-line-function
        to take two arguments instead of one, the second argument being
        the line number for use in creating an accelerator.  I added a
        hack to support existing functions with one argument (although I
        doubt that very many of these exist), for backward compatibility.

        f) I moved the top level mule menu to be a submenu of the edit
        menu.  I think that most of the items on this menu are fairly
        useless and there are certainly not enough frequently used items
        to justify this being its own top level menu.

	g) I combined most of the items in big-menubar.el into the main menu.
	If people think the main menu is too big, it would be possible to
	create different configurations, some smaller.

	* menubar.el (check-menu-syntax):
        Deleted some syntax checks that were no longer valid, partly
        because of changes that were already made a long time ago, and
        partly because of a change I made where I allow the name of the
        menu item to be an evaluated expression rather than just a string,
        similar to all of the other parameters of a menu item.

	* minibuf.el:
	* minibuf.el (read-file-name-1):
	* minibuf.el (mouse-read-file-name-1):
	I made a number of changes to improve the appearance
        and functioning of the file dialog box.  They include:

        a) Fixing the problem where closing the dialog box by clicking on
        the close button of the window didn't properly exit the
        minibuffer.

        b) Fixing the problem that if you typed part of a file name, and
        then clicked on a completion with the mouse, the file was not
        correctly selected.

        c) Changing the title of the dialog box to reflect the operation
        being done in accordance with user interface conventions, rather
        than the name of the dialog box buffer, which is rather useless.

        d) Remove the words "possible completions are" which didn't
        belong.

        e) Fix things so that the completions scroll off the end of the
        completions windows only to the right, rather than both to the
        right and down, which is in accordance with Windows user interface
        conventions.

	* msw-init.el (init-post-mswindows-win):
        Added a binding for meta-F4, which is the standard windows binding
        for exiting a program.

	* select.el (get-selection-no-error):
	* select.el (own-selection):
	* select.el (own-clipboard):
        Added an optional argument called append to the functions
        own-selection and own-clipboard.  This adds support for appending
        text to the existing selection and allows the function
        own-clipboard to be used as the value of the variable
        interprogram- cut-function.

	Fixed a bug in own-selection in handling zmacs-region-stays.

	* simple.el (historical-kill-line): New.

	* simple.el (kill-line):
	* simple.el (interprogram-cut-function):
	* simple.el (interprogram-paste-function):
	* simple.el (handle-pre-motion-command):
	* simple.el (next-line):
	* simple.el (previous-line):
        a) Expanded the variable kill-whole-line, so that function
        kill-line can be set to delete the entire line always, not just
        when cursor is at the beginning of the line.  This is controlled
        by setting the variable kill-whole-line to the symbol 'always.
        This behavior, as well as the existing kill-whole-line behavior,
        now only take effect when kill-line is called interactively,
        although this is a departure from a previous behavior in the case
        of setting this variable kill-whole-line to t.  It is almost
        certainly what has always been intended, and most likely the old
        way of doing things introduced bugs.  I also created a function
        called historical-kill-line, which ignores the kill-whole-line
        setting and always gives the historical behavior of only killing
        to the end of the line.  I bound this function to shift- control-k
        so that the kill to end of line behavior is available, even when
        kill-whole-line has been set to change control-k into the simple
        delete-whole-line behavior. (This can be set using the options
        menu.)

        b) I changed things so that kill and yank now interact with the
        clipboard by default under windows.  This was done by changing the
        default value of interprogram-cut- function and
        interprogram-paste-function.  You can get the old behavior by
        setting these to nil, and there is an option on the options menu
        to do this.

        c) I added support for selecting text using shifted motion keys.
        This support is on by default and can be controlled by the
        variable shifted-motion-keys-select-region.  There is also a
        variable called unshifted-motion-keys-deselect-region that
        controls more specifically how the shifted motion key behavior
        works.  I did not put an option on the options menu to turn this
        off, because I can't imagine why this would be useful.

	* simple.el (forward-block-of-lines):
	* simple.el (backward-block-of-lines):
	* simple.el (block-movement-size):
	New.

	* simple.el (uncapitalized-title-words):
	* simple.el (uncapitalized-title-word-regexp):
	* simple.el (capitalize-string-as-title):
	* simple.el (capitalize-region-as-title):
	New.


        * subr.el (add-hook):
        * subr.el (make-local-hook): New.
        * subr.el (remove-local-hook): New.
        * subr.el (add-one-shot-hook): New.
        * subr.el (add-local-one-shot-hook): New.
        Added some functions to make using hooks easier.
        These include:

        a) Functions add-local-hook and remove-local-hook to make it easy
        to use local hooks.

        b) Functions add-one-shot-hook and add-local-one-shot-hook, which
        make it possible to add a "one-shot" hook, which is to say a hook
        that runs only once, and automatically removes itself after the
        first time it has run.

2000-03-09  Andy Piper  <andy@xemacs.org>

	* files.el (auto-mode-alist): pick up jsp, jhtml and xml files.

2000-03-09  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* buff-menu.el (buffers-menu-omit-invisible-buffers):
	Moved from menubar-items.el.
	* dumped-lisp.el: Dump gutter-items regardless of menubar.

2000-03-08  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (build-buffers-tab-internal): add selected field
	to buffers tab spec.

2000-03-07  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* minibuf.el (last-exact-completion): Initialize to nil.

2000-03-07  Didier Verna  <didier@xemacs.org>

	* startup.el (command-line-1): remove unused variable
	`first-file-buffer'.

2000-02-29  Hrvoje Niksic  <hniksic@iskon.hr>

	* loaddefs.el (completion-ignored-extensions): Removed ".log",
	which is also used for Web server log files.

2000-02-03  IKEYAMA Tomonori <tomonori@suiyokai.org>

	* mule/mule-charset.el: Setup auto-fill-chars.

2000-03-02  SL Baur  <steve@beopen.com>

	* subr.el (with-string-as-buffer-contents): Reimplement using
	`with-temp-buffer'.  Fixes non-unique buffer name problem, fixes
	non-deletion of buffer after execution problem.
	(with-output-to-string): Use unique buffer name.

2000-02-29  Stephen J. Turnbull  <stephen@xemacs.org>

	* gutter-items.el (buffers-tab-sort-function):  New variable.
	(buffers-tab-items):  Funcall it to sort the buffer tab list.

2000-02-29  Stephen J. Turnbull  <stephen@xemacs.org>

	* startup.el (load-user-init-file):  Merge two `if's to one `or'.

2000-02-28  Martin Buchholz  <martin@xemacs.org>

	* menubar-items.el (maybe-add-init-button): Remove the "Load
	.emacs" button from all menubars.

2000-03-01  Didier Verna  <didier@xemacs.org>

	* rect.el (string-rectangle): depend on `pending-delete-mode' for
	region rectangle replacement (from Jan Vroonhof).
	(replace-rectangle): new function.

2000-01-05  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mule/mule-cmds.el (set-default-coding-systems): Use
	set-terminal-coding-system and set-keyboard-coding-system.
	* coding.el (set-terminal-coding-system): Use
	set-console-tty-output-coding-system.
	(set-keyboard-coding-system): Use
	set-console-tty-input-coding-system.

2000-02-21  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* minibuf.el (read-variable): Allow symbol to default argument.

2000-02-27  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-hook): new function to be used for
	hooks.
	(create-frame-hook): add update-tab-hook.
	(record-buffer-hook): ditto.
	(default-gutter-position-changed): ditto.
	(default-gutter-position): updating the buffers tab is now handled
	by a hook.
	(default-gutter-position-changed-hook): new variable.
	(gutter-element-visibility-changed-hook): ditto.
	(set-gutter-element-visible-p): call it.
	(set-gutter-element): use modify-specifier-instances. Set extents
	as duplicable before using.
	(remove-gutter-element): ditto.
	(set-gutter-element-visible-p): ditto.
	(init-gutter): new function.
	(add-tab-to-gutter): use new gutter-element functions rather than
	setting specifiers directly.
	(clear-progress): ditto.
	(abort-progress): ditto.
	(gutter-buffers-tab-visible-p): renamed from
	default-gutter-visible-p

	* specifier.el (modify-specifier-instances): new function from Jan
	Vroonhof.

	* x-init.el (init-post-x-win): call init-gutter.

	* msw-init.el (init-post-mswindows-win): call init-gutter.

	* menubar-items.el (default-menubar): Update to reflect new gutter
	variables.

2000-02-26  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (set-gutter-element): new function. Add gutter
	elements to the specified gutter.
	(remove-gutter-element): new function. Remove gutter elements from
	the specified gutter.
	(set-gutter-element-visible-p): new function. Set gutter element
	visibility for the provided gutter-visible specifier.

2000-02-23  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (add-tab-to-gutter): specify dimensions
	dynamically.

2000-02-24  Martin Buchholz  <martin@xemacs.org>

	* gutter-items.el (add-tab-to-gutter):
	* package-get.el (package-get-interactive-package-query):
	* package-ui.el (pui-directory-exists):
	(pui-install-selected-packages):
	(pui-list-packages):
	Use #'(lambda ...)  instead of '(lambda ...).

2000-02-21  Gregory Neil Shapiro <gshapiro@gshapiro.net>

	* startup.el (load-user-init-file): Check to make sure user
	  has an init-file before calling load().

2000-02-20  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* msw-glyphs.el (msgdi-device-p): Added this and 'msgdi specifier tag.

2000-02-23  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.31 is released.

2000-02-21  Mike Sperber <mike@xemacs.org>

	* loadup.el (really-early-error-handler):
	* update-elc.el:
	* make-docfile.el:
	Remove dependency on EMACSBOOTSTRAP... environment variables.

2000-02-21  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.30 is released.

2000-02-19  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-plus):
	(byte-optimize-minus):
	(byte-optimize-multiply):
	Optimize (- 0) to 0, not (-)
	Optimize (+ 5 3.0) to 8.0
        Optimize (* 5 3.0) to 15.0
	Improve readability.

2000-02-21  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* modeline.el: (modeline-scrolling-method): change modeline
	mswindows cursor appearance according to the value.

	* msw-faces.el: (mswindows-init-device-faces): Initialise 'default
	and 'gui-element face colors and 'gui-element face font to Windows
	defaults.

2000-02-09 Stef Epardaud  <stef@lunatech.com>

	* font-lock.el: Javadoc enhancements

1999-11-27  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (toplevel): Test if LDAP support has been compiled in
	(ldap-verbose): New option
	(ldap-search-entries): Renamed from the previous ldap-search
	Conditionalize message display on ldap-verbose
	(ldap-add-entries, ldap-modify-entries, ldap-delete-entries): New
	defuns
	(ldap-search): Is now defined as an obsolete wrapper calling
	ldap-search-basic or ldap-search-entries


1999-12-06  Hirokazu FUKUI  <hfukui@sannet.ne.jp>
            Shuhei KOBAYASHI <shuhei@aqua.ocn.ne.jp>
	    Jan Vroonhof  <jan@xemacs.org>

        * byte-optimize.el (byte-optimize-form-code-walker): Fixed.
        When for-effect is true, didn't call `byte-optimize-form'
        in and/or subforms without last.

1999-12-07  Jan Vroonhof  <vroonhof@math.ethz.ch>

        * package-get.el (package-get-download-sites): Use correct custom
        type.

2000-02-15  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* files.el (write-file): Ask for coding system when compiled with
	file-coding.

2000-02-16  Andy Piper  <andy@xemacs.org>

	* buffer.el (switch-to-buffer): give norecord argument to
	set-window-buffer instead of explicitly recording.

	* gutter-items.el (buffers-tab-switch-to-buffer): don't record if
	we have to pick a window.

1999-12-24  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mule/mule-cmds.el (describe-language-support): Don't add
	unexist function to help-map.
	(describe-coding-system): Don't use already assigend `C'.

2000-01-23  Björn Torkelsson  <torkel@hpc2n.umu.se>

	* info.el (Info-save-auto-generated-dir): nil -> 'never to make it
	work in custom.

2000-02-04  Kazuyuki IENAGA <kazz@imasy.or.jp>

	* about.el: Ienaga's e-mail address change.

2000-02-16  Samuel Mikes  <smikes@alumni.hmc.edu>

        * etags.el (find-tag): force new window -- even if buf already
        visible -- when other-window is t

2000-02-16  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.29 is released.

2000-02-09  Martin Buchholz  <martin@xemacs.org>

	* cl-extra.el (getf): This is now identical to `plist-get', so
	just defalias it.
	* cl-macs.el: Make getf an alias to plist-get, at the
	byte-compiler level, using define-compiler-macro.

2000-02-08  Martin Buchholz  <martin@xemacs.org>

	* cl-extra.el (cl-remprop): Remove. remprop is now in C.

2000-02-07  Kyle Jones  <kyle_jones@wonderworks.com>

	* lisp/etags.el (find-tag-internal): set exact-tagname to
	  a regular expression that matches against the tagname
	  part of the tag entry first instead of only looking in
	  the context area.

2000-01-23  Björn Torkelsson  <torkel@hpc2n.umu.se>

	* gutter-items.el: fixed typo(s) in customizing default-gutter-position
	* toobar.el: fixed typo(s) in customizing default-toolbar-position

2000-02-07  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.28 is released.

2000-02-07  Martin Buchholz  <martin@xemacs.org>

	* cl-extra.el (getf): Just call `get', never `get*'.
	Make arglist match docstring.
	Fix bug: (getf nil t t) ==> Lisp nesting exceeds `max-lisp-eval-depth'
	* cl-macs.el (get* compiler macro): Simply replace `get*' by `get'.
	* byte-optimize.el: remove references to `get*'.

2000-02-06  Martin Buchholz  <martin@xemacs.org>

	* mule/european.el: Add syntax information for Latin3 and Latin4.

2000-02-02  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el: Byte-optimize (length "foo")

2000-02-03   Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* window.el (shrink-window-if-larger-than-buffer): Rewrite full
	width check using `window-leftmost-p' and `window-rightmost-p'.

2000-02-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-match-inline): An atom never matches a
          list.

2000-01-29  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* modeline.el: Consolidated 'x and 'mswindows specification under
	'win tag.

2000-01-29  Andy Piper  <andy@xemacs.org>

	* gutter-items.el: (format-buffers-tab-line): Try and be
	intelligent about buffer naming when we have duplicates.

2000-01-29  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (gutter-visible-p): Make sure the gutter gets
	updated when it becomes visible.

2000-01-26  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* bytecomp.el (byte-compile-insert-header): Properly set coding
	system under MULE and file-coding.

2000-01-28  Martin Buchholz  <martin@xemacs.org>

	* coding.el (dontusethis-set-value-file-name-coding-system-handler):
	(dontusethis-set-value-terminal-coding-system-handler):
	(dontusethis-set-value-keyboard-coding-system-handler):
	Never undefine coding system aliases.  Emergency fix for gnus.

2000-01-26  Hrvoje Niksic  <hniksic@iskon.hr>

	* files.el (abbreviate-file-name): Use directory-sep-char instead
	of hard-coded "/".

2000-01-27  Hrvoje Niksic  <hniksic@iskon.hr>

	* startup.el (user-init-file-base-list): New variable, replacing
	user-init-file-base.
	(find-user-init-file): New function.
	(command-line-early): Use it.
	(load-user-init-file): Ditto.

2000-01-26  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* gutter-items.el (update-tab-in-gutter): Use proper locale when
	calling valid-image-instantiator-format-p

2000-01-26  Hrvoje Niksic  <hniksic@iskon.hr>

	* isearch-mode.el (isearch-mode): The variable is
	isearch-unhidden-extents, not isearch-opened-extents.

2000-01-26  Hrvoje Niksic  <hniksic@iskon.hr>

	* minibuf.el (next-history-element): Modify error message if a
	default value is available.

2000-01-26  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (byte-compile-file): Don't unconditionally write
	.elc files in binary - might contain non-Latin1.

2000-01-24  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* process.el (shell-quote-argument): Use (nt-quote-process-args)
	for windows-nt.

	* version.el:
	* startup.el (user-init-file-base):
	* process.el (call-process-region):
	* files.el (make-backup-file-name):
	(backup-file-name-p):
	(file-relative-name):
	(abbreviate-file-name):
	(set-auto-mode):
	* code-process.el (call-process-region): Removed unnecessary
	branching on 'windows-nt and 'ms-dos system types. Phased 'ms-dos
	support out of the universe.

	* process.el:
	* code-process.el:
	* bytecomp.el (byte-compile-file): Removed reference to
	buffer-file-type, and commented usage of binary-process-output
	NTEmacs variables.

2000-01-24  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* help.el (function-arglist): Add case for macro.

2000-01-22  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* cus-edit.el (custom-display): Removed "MS-DOS" and added Windows
	printers.
	(custom-display): Added a menu for printer/display tags.

	* frame.el (frame-type):
	* device.el (device-type): Added 'msprinter to the doc string, and
	removed 'pc -- it is not going to be implemented ever.
	(call-device-method): Fixed docstring typo.
	Defined specifier tags 'printer and 'display.

2000-01-22  Kyle Jones  <kyle_jones@wonderworks.com>

	* lisp/itimer.el (itimer-run-expired-timers): (consp
	  last-command-event-time) instead of (consp
	  'last-command-event-time).

2000-01-21  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* msw-glyphs.el: Removed obsolete commentary.

2000-01-21  Hrvoje Niksic  <hniksic@iskon.hr>

	* minibuf.el (read-file-name): Use abbreviate-file-name to produce
	better default value.

2000-01-21  Hrvoje Niksic  <hniksic@iskon.hr>

	* minibuf.el (read-expression): Add a DEFAULT-VALUE argument.
	(read-string): Ditto.
	(eval-minibuffer): Ditto.
	(read-command): Ditto.
	(read-function): Ditto.
	(read-variable): Ditto.
	(read-number): Ditto.
	(read-shell-command): Ditto.
	(read-number): Record history.

2000-01-20  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* etags.el (find-tag-tag): Use DEFAULT of completing-read.

2000-01-20  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* faces.el (startup-initialize-custom-faces): New function.
	Reset all faces created during auto-autoloads loading time
	by defface.
	* startup.el (command-line): Call it.

2000-01-19  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* about.el (about-hackers): Add myself to contributors list.

2000-01-12  Kirill 'Big K' Katsnelson  <kkm@dtmx.com>

	* menubar-items.el (maybe-add-init-button): Removed an argument in
	a call to load-user-init-file, as the function managed to lose its
	formal parameter a few betas ago.

2000-01-18  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.27 is released.

2000-01-18  Martin Buchholz  <martin@xemacs.org>

	* process.el (shell-command-to-string): Use the FSF docstring.
	Make shell-command-to-string the standard function, and
	exec-to-string the (deprecated) alias.

	* startup.el: typo fix.

2000-01-16  Martin Buchholz  <martin@xemacs.org>

	* mule/mule-misc.el (char-octet): Move back into mule-charset.c.

2000-01-14  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* menubar-items.el (sort-buffers-menu-alphabetically): Put invisible
	buffers	after visible buffers.
	(sort-buffers-menu-by-mode-then-alphabetically): Ditto.

2000-01-17  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* info.el (Info-extract-menu-node-name): Stop at a dot
	followed by whitespace or right parenthesis.

2000-01-15  Hrvoje Niksic  <hniksic@iskon.hr>

	* info.el (Info-directory-list): Warn against using Customize with
	Info-directory-list.

2000-01-15  Adrian Aichner  <aichner@ecf.teradyne.com>

	* minibuf.el (read-file-name): doc fix.

	* autoload.el (update-file-autoloads): doc fix.

	* about.el (about-hackers): Change my E-mail address.

2000-01-13  Martin Buchholz  <martin@xemacs.org>

	* info.el (Info-visit-file): Just use the `f' interactive spec to
	read a filename in the standard way.

2000-01-13  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (gutter-buffers-tab-orientation): new variable.
	(gutter-buffers-tab-extent): new variable.
	(update-tab-in-gutter): call add-tab-to-gutter again if the
	orientation has changed.
	(add-tab-to-gutter): cope with different orientations.

2000-01-11  Didier Verna  <didier@xemacs.org>

	* info.el (Info-following-node-name): backward-skip dots as well
	as spaces (dots at the end of a node name aren't part of it).
	(Info-extract-menu-node-name): don't skip dots. There could be
	some in the node name.
	(Info-index): allow dots to be part of a node name.

2000-01-12  Andreas Jaeger  <aj@suse.de>

	* files.el (auto-mode-alist): Added idlwave-mode.
	Patch by Carsten Dominik <dominik@astro.uva.nl>.

1999-12-22  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* info.el (Info-search): Show default value.

1999-12-20  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* info.el (Info-read-node-completion-table): New variable.
	(Info-read-node-name-1): New function.
	(Info-read-node-name): Use it.
	(Info-follow-reference): Use DEFAULT argument of completing-read.
	(Info-menu): Ditto.

1999-12-27  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* hyper-apropos.el (hyper-describe-key-briefly): Save
	window configuration.
	(hyper-describe-face): Use DEFAULT of completing-read.
	(hyper-apropos-read-variable-symbol): Ditto.
	(hyper-apropos-read-function-symbol): Ditto.

1999-12-27  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mule/mule-cmds.el (set-default-coding-system): Set
	comint-exec-hook to use coding-system-for-read and
	coding-system-for-write so that C-x RET c works.

1999-12-27  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* minibuf.el (minibuffer-confirm-incomplete): Customize.
	(previous-matching-history-element): Increment
	minibuffer-max-depth by 1.
	(next-matching-history-element): Ditto.

2000-01-11  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (buffers-tab): Create a new face for the buffers
	tab.
	(buffers-tab-face): use it.

2000-01-10  Didier Verna  <didier@xemacs.org>

	* modeline.el (modeline-scrolling-method): change modeline X
	cursor appearance according to the value.

2000-01-07  Andreas Jaeger  <aj@suse.de>

	* about.el (about-hackers): Moved my entry to contributor list.
	(xemacs-hackers): Added myself.
	(about-maintainer-info): Added description of myself.


2000-01-07  Didier Verna  <didier@xemacs.org>

	* modeline.el (modeline-scrolling-method): new variable.
	(mouse-drag-modeline): add reference to it in the docstring.
	(mouse-drag-modeline): handle it.

2000-01-08  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): remove resize-subwindow
	calls.
	(remove-buffer-from-gutter-tab): ditto.

2000-01-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cus-edit.el (custom-hook-convert-widget): Fix comment.
	(custom-face-edit): Fix grammatical error in help message.

2000-01-03  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* movemail.el: Added.

	* dumped-lisp.el (preloaded-file-list): Added movemail.el.

2000-01-03  Didier Verna  <didier@xemacs.org>

	* modeline.el (mouse-drag-modeline): remove the code related to
	the modeline horizontal scrolling facility.

1999-12-31  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.26 is released.

1999-12-28  Andy Piper  <andy@xemacs.org>

	* wid-edit.el (widget-push-button-value-create): The gui cache
	does not agree with native widgets which can only be displayed
	once per window. The reasons for caching are diminished now that
	we don't hog resources when creating buttons.
	(widget-push-button-cache) deleted.

1999-12-24  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.25 is released.

1999-12-24  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* hyper-apropos.el (hyper-apropos): Toggle
	hyper-apropos-programming-apropos correctly.
	Set REGEXP when user accepts default value.

1999-12-22  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* minibuf.el (read-from-minibuffer): Bind minibuffer-default.
	(read-file-name-2): Use DEFAULT argument of read-from-minibuffer.

1999-12-22  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mule/mule-category.el (undefined-category-designator):
	Return char instead of character.  Search for undefined one.
	(describe-category): Use with-displaying-help-buffer.

1999-12-21  Martin Buchholz  <martin@xemacs.org>

	* byte-optimize.el (byte-optimize-plus):
	Optimize (+ 1) to 1 instead of (1+ nil).

	* files.el (basic-save-buffer): Rewrite for clarity.  Use (char-before).

	* byte-optimize.el (byte-compile-butlast): Remove.  Use butlast instead.

	* byte-optimize.el (byte-optimize-char-before): New function.
	Remove performance penalty for using (char-before) instead of (char-after).

1999-12-20  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* mule/mule-category.el (char-category-list): Return character
	instead of integer.

1999-12-17  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* minibuf.el (read-buffer): Check default is buffer object.

1999-11-25  Andy Piper  <andy@xemacs.org>

	* cus-edit.el (custom-buffer-create-buttons): Use native widgets
	for buttons.

1999-12-16  Andreas Jaeger  <aj@suse.de>

	* package-get.el (package-get-maybe-save-index): Fixed typo.
	Patch by Jeff Miller <jmiller@smart.net>.

1999-12-13  Charles G Waldman  <cgw@alum.mit.edu>

	* gnuserv.el (gnuserv-process-filter):  don't call
	gnuserv-write-to-client when gnuserv-current-client is nil

1999-12-14  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.24 is released.

1999-12-12  Gunnar Evermann  <ge204@eng.cam.ac.uk>

	* about.el (about-hackers): Update my email address.

1999-12-07  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.23 is released.

1999-11-06  Jason R Mastaler  <jason@mastaler.com>

        * package-get.el (package-get-download-sites): Removed several
        defunct download sites, added many new ones, and corrected a few
        incorrect directory-on-site entries.  Added physical locations to
        site-description.

1999-11-30  Gunnar Evermann  <ge204@eng.cam.ac.uk>

	* finder.el (finder-commentary): add DOC string and fix
	interactive spec

1999-12-04  Hrvoje Niksic  <hniksic@iskon.hr>

	* help.el (describe-function): Don't forget to intern the string
	completing-read returns.
	(describe-variable): Ditto.

1999-11-16  Adrian Aichner  <adrian@xemacs.org>

	* hyper-apropos.el (hyper-apropos-this-symbol): Handle
	`hyper-apropos-help-mode' here to find symbol to customize
	irregardless of cursor position and simplify
	`hyper-apropos-set-variable', `hyper-apropos-find-function', and
	`hyper-apropos-popup-menu'.

1999-11-21  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* apropos.el (apropos-mode-map): Add return to call
	apropos-follow.
	(apropos-print): Call apropos-mode to have better
	command reference. Put keymap text-poperty to
	symbole name.

1999-11-22  Alastair Burt  <burt@dfki.de>

	* help.el: (describe-bindings-1): Added handling of keymaps for
	the extents at point.

1999-12-02  Mark Thomas  <mthomas@jprc.com>

	* gutter-items.el (buffers-tab-items): Wrap the function in a
	save-match-data

1999-12-04  Hrvoje Niksic  <hniksic@iskon.hr>

	* help.el (describe-function): Use the DEFAULT argument to
	completing-read.
	(describe-variable): Ditto.

1999-11-26  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* minibuf.el (read-from-minibuffer): Add optional argument
	DEFAULT to have better mini-buffer history support.
	(completing-read): Pass default to read-from-minibuffer.
	(read-buffer): Pass default to completing-read.

1999-12-04  Hrvoje Niksic  <hniksic@iskon.hr>

	* font-lock.el (font-lock-doc-string-face): Document the
	`font-lock-lisp-like' property.

1999-11-29  Hrvoje Niksic  <hniksic@iskon.hr>

	* lisp-mode.el: Specify `font-lock-lisp-like'.

	* font-lock.el (font-lock-lisp-like): New function.
	(font-lock-fontify-syntactically-region): Use it.

1999-11-29  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.22 is released

1999-11-28  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.21 is released.

1999-11-18  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* minibuf.el (read-coding-system): Accept symbol and
	coding-system object as	a default-coding-system.

1999-11-16  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* minibuf.el (read-coding-system): Accept symbol as
	a default-coding-system.

1999-10-06  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* apropos.el (apropos-documentation): Use insert instead
	of princ.

1999-11-07  William M. Perry  <wmperry@aventail.com>

	* gpm.el: New gpm-minor-mode to turn GPM mouse support on & off
	  for the linux console.

	* mouse.el (mouse-consolidated-yank): Allow the mouse-yanking
	  stuff to work when you are not on a window system, since the GPM
	  mouse support now allows pasting from outside of XEmacs.

1999-11-10  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.20 is released

1999-11-06  Hrvoje Niksic  <hniksic@iskon.hr>

	* setup-paths.el (paths-default-info-directories): Add
	/usr/share/info and /usr/local/share/info.

1999-10-30  Hrvoje Niksic  <hniksic@srce.hr>

	* about.el: Updated Vladimir Ivanovic's info.

11999-08-28  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* auto-show.el (auto-show-truncationp): Remove.

	* auto-show.el (auto-show-should-take-action-p): Use window-truncated-p

999-09-23  Gunnar Evermann  <ge204@eng.cam.ac.uk>

	* indent.el (indent-line-to): fix bug: spaces were not replaced
	with tab if column is multiple of tab-width
	From dhn@qedinc.com

1999-10-24  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* mule/mule-cmds.el (read-input-method-name): Accept symbols
	correctly. Patch from Mikio Nakajima <minakaji@osaka.email.ne.jp>

	* package-get.el (package-get-package-provider): Be verbose when
	interactive. Patch from Robert Pluim

1999-08-23  Mike McEwan  <mike@lotusland.demon.co.uk>

	* info.el (Info-suffix-list): Add ".info.bz2" to the recognised
	info file suffixes.

1999-08-19  Stephen Tse  <stephent@sfu.ca>

	* process.el (open-network-stream): Add a new optional parameter
 	PROTOCOL to support udp; fix a minor typo and add an explanation
 	in docstring for udp programming.

	* code-process.el (open-network-stream): Add a new optional
 	parameter PROTOCOL to support udp; fix a minor typo and add an
 	explanation in docstring for udp programming.

1999-10-18  Andy Piper  <andy@xemacs.org>

	* gui.el (make-gui-button): be more precise about how we call
 	callbacks.

	* wid-edit.el (widget-push-button-value-create): Use the new form
 	of native gui-button.

1999-10-14  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* info.el (Info-page-prev): Don't do (sit-for 0).

1999-10-13  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (progress-abort-glyph): new glyph for showing
 	abort status.
	(append-progress): dispatch-event rather than sit-for.
	(abort-progress): new function. Show the abort glyph with an
 	appropriate message.
	(raw-append-progress): dispatch-event rather than sit-for.
	(display-progress): cope with aborts.

	* gui.el (make-gui-button): Use native widgets for buttons
 	unconditionally.
	(insert-gui-button): ditto.
	(gui-button-p): ditto.

	* xbm-button.el: remove from core.

	* xpm-button.el: remove from core.

1999-10-07  Olivier Galibert  <galibert@pobox.com>

	* faces.el (init-device-faces): Don't initialize the random faces
 	on the stream device.

1999-10-06  Andy Piper  <andy@xemacs.org>

	* files.el (recover-file): Don't use ls under windows for revert buffer.

1999-09-25  Adrian Aichner  <adrian@xemacs.org>

	* package-get.el (package-get-download-menu): Make menu really
 	toggle download sites.
	(package-get-download-sites): Add autoload cookie.

1999-09-29  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el (paths-find-module-directory): Ditto.

1999-09-29  Werner Fink  <werner@suse.de>

	* setup-paths.el (paths-find-exec-directory): Add missing nil
	parameter for environment.

1999-09-27  Martin Buchholz  <martin@xemacs.org>

	* modeline.el (modeline-format):
	Only purecopy the strings.  Else
	(nsublis '(("%p" . "%P")) (default-value 'modeline-format) :test 'equal)
	barfs.

1999-08-28  Mike Woolley  <mike@bulsara.com>

	* winnt.el: Removed nt-shell-mode-hook, which was preventing the
 	user setting comint-completion-addsuffix and
 	comint-process-echoes.

1999-09-22  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): use
 	last-nonminibuf-window instead of selected-window.

1999-09-18  Andy Piper  <andy@xemacs.org>

	* gnuserv.el (gnuserv-edit-files): select frame we are going to
 	display on.

	* subr.el (record-buffer-hook): new variable so that the hook gets
 	some documentation.

1999-09-16  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): only update when the
 	gutter is visible.
	(remove-buffer-from-gutter-tab): ditto.

1999-09-17  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (do-auto-fill): Commented out part of Kinsoku
	processing.

1999-09-14  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-highlightify-region): Give the
 	highlighting extents a high priority.
	(isearch-make-extent): Give the main highlighting extent an even
	higher priority.

1999-09-13  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-compute-package-locations): Fix typo from
	-u rationalization.

1999-09-11  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el (paths-find-doc-directory): Respect value of
	`configure-doc-directory.'

	* find-paths.el (paths-find-architecture-directory): Give
 	precendence `default' argument (which typically comes from
 	configure).

1999-09-05  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* startup.el (command-line-early): Added options -user-init-file
	and -user-init-directory.

	* files.el (user-init-file): Default to NIL so we can recognize
	when it's set.

1999-08-30  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* obsolete.el (init-file-user):
	* startup.el:
	* packages.el (packages-compute-package-locations):
	* package-get.el (package-get-user-index-filename):
	* menubar-items.el (maybe-add-init-button):
	* info.el (Info-annotations-path):
	* dump-paths.el:
	Change `user-init-directory' to be an absolute path.
	Use `user-init-directory' where appropriate.
	Zap `init-file-user' and its uses.

1999-09-09  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (copy-symbol): New function.

1999-09-08  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-done): Be sure to restore invisible
 	extents in the proper buffer.
	(isearch-pre-command-hook): Set this-command to the correct value
 	in case the buffer has changed and old overriding-local-map was
 	used.
	(isearch-restore-extent): Use remprop instead of setting the
	property to nil.

1999-09-08  Hrvoje Niksic  <hniksic@srce.hr>

	* cmdloop.el (execute-extended-command): Update zmacs region
 	before the delay.
	(execute-extended-command): Make the message gettext-friendly.

1999-09-07  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (progress-gauge-glyph): renamed from
 	progress-glyph.
	(progress-text-glyph): new variable.
	(progress-layout-glyph): use layouts and text glyphs.
	(progress-area-buffer): removed.
	(progress-text-and-extent): new variable.
	(progress-displayed-p): dynamically create gutter area buffer.
	(clear-progress): ditto.
	(raw-append-progress): ditto.
	(append-progress): use new glyph names.
	(raw-append-progress): only create the extent when needed. set
 	properties more optimally.
	(progress): remove args.

1999-09-07  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-range-invisible): Use mapc instead of
 	mapcar where the return value is unused.
	(isearch-restore-invisible-extents): Ditto.
	(isearch-highlight-all-cleanup): Ditto.
	(isearch-delete-extents-in-range): Traverse the extents only once.
	(isearch-highlight-all-update): Don't start over if the search
	string has changed and more input is pending.

1999-09-07  Hrvoje Niksic  <hniksic@srce.hr>

	* packages.el (packages-find-package-data-path): Ditto.

	* cl.el: Use mapcar at top-level -- mapc is no longer a subr.

	* subr.el (mapc-internal): Don't make obsolete.

	* cl-extra.el (mapc): Resurrect.

1999-09-03  Hrvoje Niksic  <hniksic@srce.hr>

	* obsolete.el (isearch-yank-x-clipboard): Define it as an obsolete
	alias.

	* isearch-mode.el (isearch-top-state): Restore isearch-word.
	(isearch-yank-clipboard): Renamed from isearch-yank-x-clipboard.
	(isearch-yank-clipboard): Use get-clipboard instead of
 	x-get-clipboard.
	(isearch-yank-selection): Fix docstring.

1999-09-02  Martin Buchholz  <martin@xemacs.org>

	* cl-extra.el: Obsolete hash-table-type in favor of hash-table-weakness.

1999-09-02  Hrvoje Niksic  <hniksic@srce.hr>

	* cl-macs.el (extent-start-position): Fix setf method.
	(extent-end-position): Ditto.

1999-09-02  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el: End merge with FSF 20.4.

	* isearch-mode.el (search-invisible): New variable.
	(isearch-hide-immediately): Ditto.
	(isearch-unhidden-extents): Ditto.
	(isearch-range-invisible): New function.
	(isearch-unhide-extent): Ditto.
	(isearch-restore-invisible-extents): Ditto.
	(isearch-restore-extent): Ditto.

	* isearch-mode.el (isearch-ring-advance-edit): Use FSF
 	implementation.
	(isearch-ring-retreat-edit): Ditto.
	(isearch-forward): New argument NO-RECURSIVE-EDIT.
	(isearch-forward-regexp): New arguments NOT-REGEXP and
 	NO-RECURSIVE-EDIT.
	(isearch-backward): New argument NO-RECURSIVE-EDIT.
	(isearch-backward-regexp): New arguments NOT-REGEXP and
 	NO-RECURSIVE-EDIT.
	(isearch-mode): Return isearch-success.
	(isearch-update): Use unread-command-events instead of
 	unread-command-event.
	(isearch-abort): If an invalid regexp is encountered, keep popping
 	states.
	(isearch-*-char): Use FSF implementation.
	(isearch-whitespace-chars): Use the more robust FSF's
 	implementation.
	(isearch-within-brackets): New variable.
	(isearch-mode): Initialize it.
	(isearch-edit-string): Bind it.
	(isearch-search-and-update): Set it.
	(isearch-push-state): Push it.
	(isearch-top-state): Pop it.
	(isearch-search): Set it.
	(isearch-printing-char): When called by isearch-whitespace-chars,
	handle M-SPC gracefully.
	(isearch-message-prefix): New argument ELLIPSIS.
	(isearch-message-suffix): Ditto.
	(isearch-message): Use the ELLIPSIS argument when calling
	isearch-message-prefix and isearch-message-suffix.
	(isearch-message-prefix): Distinguish between "wrapped" and
	"overwrapped" search, FWIW.

1999-09-01  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-edit-string): Use the head of the
 	search ring instead of search-last-string and search-last-regexp.
	(search-highlight): Renamed from isearch-highlight.
	(isearch-exit): Use the new name.
	(isearch-highlight): Ditto.
	(isearch-dehighlight): Ditto.
	(isearch-update-ring): New function.
	(isearch-done): Call it.
	(isearch-done): New argument EDIT.
	(isearch-repeat): If search string is empty, look up at the car of
	the search ring; ignore the yank pointer.
	(isearch-abort): Call isearch-done with NOPUSH.
	(isearch-cancel): New function.
	(isearch-mode-map): Bind it to ESC ESC ESC.

	* isearch-mode.el: Begin merge with FSF 20.4.

1999-09-01  Andy Piper  <andy@xemacs.org>

	* x-select.el (x-get-clipboard): obsolete.
	(x-yank-clipboard-selection): obsolete

	* select.el (disown-selection): need to be careful to disown the
 	clipboard if we set it via selection.
	(get-clipboard): move from x-select.el
	(yank-clipboard-selection): ditto.

1999-09-01  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-exit): Bind isearch-highlight and
	isearch-highlight-all-matches to nil.
	(isearch-fixed-case): New variable.
	(isearch-mode): Initialize it.
	(isearch-edit-string): Save it.
	(isearch-toggle-case-fold): Set it.
	(isearch-fix-case): Make sure isearch-toggle-case-fold works --
	need to check isearch-fixed-case.
	(isearch-toggle-case-fold): Update highlighting of all matches
	before the pause.
	(isearch-edit-string):

1999-09-01  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-edit-string): Call isearch-message
 	before reading the event so that the prompt is displayed properly.
	(isearch-message): Use isearch-nonincremental when calling
 	isearch-message-prefix.
	(minibuffer-local-isearch-map): Bind up and down to do the same as
 	M-p and M-n respectively.
	(isearch-done): New arg NOPUSH.
	(isearch-edit-string): Use it.
	(isearch-edit-string): Don't bind isearch-string.
	(isearch-ring-adjust): Edit string, *then* push state.

1999-08-31  Hrvoje Niksic  <hniksic@srce.hr>

	* faces.el (isearch-secondary): Make isearch-secondary look
 	different than default.

1999-08-30  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-yank): Use progn instead of the inner
 	save-excursion.
	(isearch-dehighlight): Remove TOTALLY.  Simplify.
	(isearch-update): Call isearch-dehighlight without arguments.
	(isearch-done): Ditto.

	* isearch-mode.el (isearch-fix-case): If the search string has no
 	upper-case letters, allow the folding to be reenabled.
  	Previously, once disabled, the folding would remain that way until
 	the end of isearch.
	(isearch-top-state): Call isearch-fix-case.

	* isearch-mode.el (isearch-yank): Use progn instead of the inner
 	save-excursion.
	(isearch-dehighlight): Remove TOTALLY.  Simplify.

1999-08-31  Jan Vroonhof  <jan@xemacs.org>

	* xpm-button.el:
	xbm-button.el: Need to exist in core because gui.el depends on
 	them.

1999-08-31  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (buffers-tab-face): new customizable variable.
	(buffers-tab-default-buffer-line-length): new specifier for
 	maximum viewable characters.
	(progress-stack): new variable for implementing widget-based
 	progress messages.
	(progress-area-buffer): ditto.
	(progress-glyph-height): ditto.
	(progress-stop-callback): ditto.
	(progress-quit-function): new function.
	(progress-glyph): new variable.
	(progress-layout-glyph): ditto.
	(progress-displayed-p): new function, see message-displayed-p for
 	details.
	(clear-progress): ditto.
	(remove-progress): ditto.
	(append-progress): ditto.
	(raw-append-progress): ditto.
	(display-progress): ditto.
	(current-progress): ditto.
	(current-progress-label): ditto.
	(progress): ditto.
	(lprogress): ditto.


1999-08-29  Hrvoje Niksic  <hniksic@srce.hr>

	* obsolete.el (isearch-yank-x-selection): Define obsolete alias.

	* isearch-mode.el (isearch-yank-x-selection): Renamed to
 	`isearch-yank-selection'.
	(isearch-mode-map): Use it.
	(isearch-yank-selection): Use `get-selection' instead of
 	`get-x-selection'.

1999-08-29  Hrvoje Niksic  <hniksic@srce.hr>

	* faces.el (isearch-secondary): Create face here.

	* isearch-mode.el: Rewrote the "lazy highlighting" code not to use
	timers.

1999-08-27  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (buffer-string): More robust backward compatibility
	check, courtesy William Perry.

1999-08-26  Hrvoje Niksic  <hniksic@srce.hr>

	* replace.el (perform-replace): Stop the search after the search
	limit has been reached.

1999-08-23  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): call add-tab-to-gutter
 	here if we don't have one.

1999-08-15  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-coding-system): Default to nil until we get
	efficient UTF8 support
	(ldap-decode-string): Guard against `decode-coding-string' not
	being defined
	(ldap-encode-string): Guard against `encode-coding-string' not
	being defined

1999-08-23  Didier Verna  <didier@xemacs.org>

	* rect.el: Cosmetics suggested by Dave Love <d.love@dl.ac.uk>.
	Some doc strings improvements, and add a star to the `interactive'
	calls.

1999-08-18  Stef Epardaud  <stef@lunatech.com>

	* font-lock.el (java-font-lock-keywords-3): introduced new
	keywords and regexpes for javadoc syntax 1.2.

1999-08-17  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (buffers-tab-format-buffer-line-function): use
 	format-buffers-tab-line.
	(buffers-tab-max-buffer-line-length): new variable.
	(format-buffers-tab-line): new function. truncate names if over
 	buffers-tab-max-buffer-line-length.

1999-08-13  Charles G Waldman  <cgw@fnal.gov>

	* cus-start.el: Customize the variable `bell-inhibit-time'.

1999-08-16  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (remove-buffer-from-gutter-tab): take a
 	brute-force approach to deleting the last buffer.
	(buffers-tab-grouping-regexp): new customizable variable.
	(select-buffers-tab-buffers-by-mode): use it.

1999-08-13  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (remove-buffer-from-gutter-tab): fix *scratch*
 	deletion problem.

1999-07-30  Didier Verna  <didier@xemacs.org>

	* cus-edit.el (custom-save-variables): I said, use prin1 instead
	of princ to output symbols.
	(custom-save-face-internal): ditto.
	(custom-save-resets): ditto.

1999-08-09  Didier Verna  <didier@xemacs.org>

	* gutter-items.el (select-buffers-tab-buffers-by-mode): use
	`regexp-quote' to protect the major mode name for use as a regular
	expression (c++ needs this for instance).

1999-08-08  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (select-buffers-tab-buffers-by-mode): beef up to
 	cope with similar mode names.

	* gutter-items.el (buffers-tab-selection-function): new selection
 	function.
	(select-buffers-tab-buffers-by-mode): new function.
	(buffers-tab-items): use it if set to only display buffers in the
 	tab in the current buffer's group..
	(update-tab-in-gutter): use new api.
	(remove-buffer-from-gutter-tab): ditto.

	* gutter-items.el (buffers-tab-max-size): set custom selection
 	default to 6.
	(buffers-tab-switch-to-buffer): just switch window if the window is visible.
	(add-tab-to-gutter): set face as default.

1999-07-07  Jan Vroonhof  <jan@xemacs.org>

	* faces.el (frob-face-property): Merge the fall-back specifier
	with the target, not replace it.

1999-08-05  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): add frame argument for
 	buffer-items.
	(update-tab-in-gutter): use it.

	* gutter-items.el (record-buffer-hook): set.

	* buffer.el (switch-to-buffer): back out switch-to-buffer-hook
 	change.
	(switch-to-buffer-hook) deleted.

1999-08-04  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (update-tab-in-gutter): make sure this will work
 	as an argument to create-frame-hook.

1999-07-30  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el: Modified Bob and Darryl's code to use itimers
	instead of timer emulation.

1999-07-30  Darryl Okahata  <darrylo@sonic.net>

	* isearch-mode.el: Merged Bob Glickstein's <bobg@zanshin.com> GNU
 	Emacs isearch enhancements.

1999-07-28  Andy Piper  <andy@xemacs.org>

	* gutter-items.el (add-tab-to-gutter): put in specifier specs for
 	all devices that support tab controls.
	(remove-buffer-from-gutter-tab): new function. to be used as a
 	value for kill-buffer-hook.

1999-07-21  Sean MacLennan  <seanm@storm.ca>

	* auto-show.el (auto-show-truncationp): changed to match
	`window_translation_on'

1999-07-30  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.19 is released

1999-07-28  SL Baur  <steve@miho>

	* code-files.el (insert-file-contents): Fix docstring.
	revert previous change.

1999-07-26  Yoshiki Hayashi  <t90553@mail.ecc.u-tokyo.ac.jp>

	* fill.el (fill-region-as-paragraph): Change re-break-point to
	contain	word-across-newline plus one character so that filling
	Japanese and Chinese works as desired.
	* simple.el (do-auto-fill): Ditto.

1999-07-26  SL Baur  <steve@miho>

	* mule/japanese.el ("Japanese"): Do not specify a default input
	method.
	Suggested by MORIOKA Tomohiko  <tomo@etl.go.jp>

1999-07-23  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* custom.el ((not (fboundp 'defun*))): Insert autoload crap to be
	able to use cl-macs macro in early lisp.

1999-07-23  Jan Vroonhof  <jan@xemacs.org>

	* custom.el:
	* cus-face.el:
	* cus-edit.el:
		Massive custom Theme API changes.

1999-07-22  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* code-files.el (insert-file-contents): Regard
	coding-system-magic-cookie if `coding-system-for-read' is nil.

1999-07-22  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el: Add coding: local variable, to avoid
	bootstrapping problem with C locale.

1999-07-22  Andy Piper  <andy@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): guard against putting
 	gutter-items in a less than functional XEmacs.
	* gutter-items.el: put call to `add-tab-to-gutter' back in.

1999-07-18  Bob Weiner  <weiner@beopen.com>

	* fill.el (fill-context-prefix): Fixed bug that prevented the
	setting of an adaptive fill prefix when the `dont-skip-first' was
	t.

1999-07-22  SL Baur  <steve@miho>

	* gutter-items.el: remove unguarded call to `add-tab-to-gutter'.

1999-06-25  Karl M. Hegbloom  <karlheg@debian.org>

	* files.el (interpreter-mode-alist): add `make', `guile', and
	`emacs' entries. (#!/usr/bin/make -f ought to send a file into
	makefile-mode, guile is a scheme, and someday XEmacs will be
	modular enough to use as an efficient scripting tool.)

1999-07-06  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (reset-language-environment): Regard
	coding-category `utf-8' and `ucs-4' if they are available.

1999-07-06  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (set-default-coding-systems): Fix DOC-string.
	(prefer-coding-system): Fix DOC-string.

	* mule/mule-cmds.el (coding-system-change-eol-conversion): Fix
	DOC-string too.

	* mule/mule-cmds.el (mule-keymap): Change keymap name from MULE to
	Mule.
	(coding-system-change-eol-conversion): Fix DOC-string.

1999-06-30  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (mule-keymap): Use `describe-coding-system'
	instead of `list-coding-system'.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* menubar-items.el (default-menubar): `select-input-method' was
	renamed to `set-input-method'.

	* mule/mule-cmds.el (set-language-info-alist): Fix setting for
	"Set Language Environment" menu.

	* mule/mule-cmds.el (set-language-info-alist): Fix setting for
	"Describe Language Support" menu.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/chinese.el ("Chinese-GB"): Rename
	`chinese-gb-environment-setup-function' to
	`setup-chinese-gb-environment-internal'.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/korean.el: Use `define-coding-system-alias' instead of
	`copy-coding-system'.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (set-language-environment-coding-systems):
	Treat duplicated coding-categories.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/japanese.el: Use `define-coding-system-alias' instead of
	`copy-coding-system'.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/vietnamese.el: Specify `iso-8-1' as a category of
	coding-system `viscii'.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/cyrillic.el:
	- Specify `iso-8-1' as a category of coding-system `koi8-r'.
	(cyrillic-alternativnyj-decode-table): New variable.
	(cyrillic-alternativnyj-encode-table): New variable.
	- Specify `iso-8-1' as a category of coding-system
	  `alternativnyj'.
	- Abolish general Cyrillic environment.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/chinese.el:
	- Use `define-coding-system-alias' instead of `copy-coding-system'.
	- Register `chinese-gb-environment-setup-function' as a
	  `setup-function' of "Chinese-GB" environment.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (set-language-info-alist): Allow dummy
	optional argument `parents'.

	* mule/thai-xtis.el: Specify `tis-620' as `tutorial-coding-system'
	property for Thai-XTIS.

	* mule/mule-help.el (help-with-tutorial): Use property
	`tutorial-coding-system' of language-info as a coding-system to
	read tutorial file.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el: Don't setup `setup-function' and
	`exit-function'.

	* mule/mule-cmds.el (set-language-environment-coding-systems): Use
	`set-coding-category-system' to set up coding-system for
	coding-category.

	* mule/mule-cmds.el (prefer-coding-system): Use
	`set-coding-category-system' to set up coding-system for
	coding-category.

1999-06-29  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el: Specify TUTORIAL.th as the tutorial file for
	Thai-XTIS environment.

	* mule/mule-cmds.el (prefer-coding-system): Use
	`find-coding-system' instead of `coding-system-p'.

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (set-language-environment-coding-systems):
	Modify eol-type for XEmacs.

	* mule/thai-xtis.el: Delete unused local variable `category'.

	* mule/mule-cmds.el (coding-system-change-eol-conversion): New
	function.
	(prefer-coding-system): Don't call
	`update-coding-systems-internal'; use function
	`coding-category-list' instead of variable `coding-category-list';
	use `set-coding-priority-list' instead of `set-coding-priority';
	modify `eol-type' for XEmacs.

	* mule/mule-misc.el (string-width): Use `charset-width' instead of
	`charset-columns'.
	(char-width): Likewise.

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el: Specify `iso-8-1' as coding-category of
	`tis-620'.

	* mule/mule-cmds.el (set-language-environment-coding-systems): Use
	`set-coding-priority-list' instead of `set-coding-priority'; don't
	call `update-coding-systems-internal'.

	* mule/mule-misc.el (coding-system-get): New function.
	(coding-system-put): New function.
	(coding-system-category): New function.

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* dumped-lisp.el (preloaded-file-list): Load "thai-xtis-chars"
	when Mule is running; load "mule/thai-xtis" instead of "thai-xtis"
	to avoid conflict with leim/quail/thai-xtis.

	* mule/thai-xtis.el: Split definition of the charset `thai-xtis'
	to thai-xtis-chars.el.

	* mule/thai-xtis-chars.el: New file (split from
	mule/thai-xtis.el).

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el:
	- Change category for the charset `thai-xtis' to `?x' from `?T'.
	- Add syntax entries.
	- Put `preferred-coding-system' of the charset `thai-xtis' to
	  `tis-620'.

1999-06-28  TAKAHASHI Naoto  <ntakahas@etl.go.jp>

	* mule/thai-xtis.el: ccl-decode-thai-xtis and subroutines
	rewritten to use write-multibyte-character.

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	mule/mule-cmds.el (view-hello-file): Use `iso-2022-7bit' instead
	of `iso-2022-7'.
	(prefer-coding-system): Synced up with Emacs 20.3.11 but not
	ported yet.
	(read-input-method-name): Treat optional argument `default'.

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-cmds.el (set-language-info): Don't set up menus at
	all.
	(set-language-info-alist): Set up menus here.

1999-06-28  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* minibuf.el (completing-read): Add new optional argument
	`default'.
	(read-coding-system): Add new optional argument
	`default-coding-system'.

1999-06-03  Ken'ichi Handa  <handa@gnu.org>

	* mule/vietnamese.el (ccl-encode-vscii): Typo fixed
	(viet-viscii-...->viet-vscii...).

1999-05-13  Ken'ichi Handa  <handa@gnu.org>

	* mule/mule-cmds.el: Change MULE to Mule in docstrings
	and menus.

1999-04-12  Richard M. Stallman  <rms@gnu.org>

	* mule/mule-cmds.el (input-method-function): Add permanent-local
	property.

1999-03-30  Dave Love  <fx@gnu.org>

	* mule/mule-cmds.el (current-language-environment): Doc fix.

1999-02-06  Richard Stallman  <rms@gnu.org>

	* mule/european.el (setup-slovenian-environment): New function.
	("Slovenian"): New language environment.

1999-01-27  Dave Love  <fx@gnu.org>

	* mule/mule-cmds.el (current-language-environment): Provide :link,
	:type (choices) and appropriate :get.

1999-01-14  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (describe-language-environment): Don't alter
	input-method-alist.

1999-01-06  Eli Zaretskii  <eliz@gnu.org>

	* mule/mule-cmds.el (prefer-coding-system): Call
	set-coding-priority, so that the internal array of priorities is
	also updated.

1998-12-30  Eli Zaretskii  <eliz@mescaline.gnu.org>

	* mule/mule-cmds.el (prefer-coding-system): If the argument
	requires specific EOL conversion type, make the default coding
	systems use that.

1998-12-17  Eli Zaretskii  <eliz@mescaline.gnu.org>

	* mule/mule-cmds.el (set-language-environment): Pass the default
	eol-type to set-language-environment-coding-systems.
	(set-default-coding-systems): Copy the eol-type property for the
	new default values of {buffer-file,process}-coding-system from the
	old defaults.
	(set-language-environment-coding-systems): Accept an optional
	argument EOL-TYPE, and set the eol-type property of the default
	coding systems accordingly.

1998-10-26  Kenichi Handa <handa@etl.go.jp>

	* mule/chinese.el (pre-write-encode-hz): Cancel previous change,
	use generate-new-buffer instead of get-buffer-create.

1998-10-21  Kenichi Handa  <handa@etl.go.jp>

	* mule/chinese.el (pre-write-encode-hz): Use with-temp-buffer.

1998-10-16  Markus Rost  <rost@delysid.gnu.org>

	* mule/mule-cmds.el (default-input-method): Fix custom type.

1998-10-12  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* mule/mule-cmds.el (setup-specified-language-environment):
	Add apropos-inhibit property.
	(describe-specified-language-support): Likewise.

1998-09-06  Bill Richter  <richter@math.nwu.edu>

	* mule/mule-cmds.el: Doc fixes.

1998-09-02  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (register-input-method): Doc-string
	modified.

1998-09-01  Dave Love  <fx@gnu.org>

	* mule/mule-cmds.el (current-language-environment): Fix
	setter function.

1998-08-31  Paul Eggert  <eggert@twinsun.com>

	* mule/chinese.el, mule/cyrillic.el, mule/ethiopic.el,
	mule/european.el, mule/hebrew.el, mule/japanese.el,
	mule/korean.el, mule/vietnamese.el: Add coding: local variable, to
	avoid bootstrapping problem if you need to recompile all the Lisp
	files using interpreted code.

1998-08-26  Kenichi Handa  <handa@etl.go.jp>

	* mule/european.el ("Latin-1"): Modify `documentation' key value.
	("Latin-2"): Likewise.

1998-08-18  Per Starback  <starback@update.uu.se>

	* mule/european.el (setup-latin2-environment): Fix typo.

1998-08-18  Kenichi Handa  <handa@etl.go.jp>

	* mule/european.el: Give proper value of `input-method' key to all
	lang. env.

	* mule/mule-cmds.el (activate-input-method): Handle the case that
	the arg INPUT-METHOD is nil correctly.
	(read-multilingual-string): Activate the specified input method
	before calling read-string.  Afterward, activate the original
	input method.

1998-08-15  Kenichi HANDA  <handa@etl.go.jp>

	* mule/mule-cmds.el (language-info-alist): Doc-string modified.
	(set-language-info-alist): Fix typo in doc-string.

	* mule/hebrew.el ("Hebrew"): Delete describe-function key.

1998-08-09  Kenichi HANDA  <handa@etl.go.jp>

	* mule/mule-cmds.el (language-info-alist): Doc-string modified.
	(reset-language-environment): New function for the job that
	setup-english-environment used to do.
	(set-language-environment): Do more setups according to the info
	in language-info-alist.
	(read-language-name): Handle the case that the arg KEY is nil.
	(describe-language-environment): Handle input-method property.

	* mule/: All files under this directory, which related with
	specific languages (such as mule/european.el, mule/greek.el,
	mule/hebrew.el, mule/misc-lang.el), modified as below.
	(setup-XXX-environment): Just call set-language-environment.  If
	they used to do some other jobs than what done by
	set-language-environment, those jobs are done in
	setup-XXX-environment-internal now.
	("LANUGAGE-ENVIRONMENT"): Delete property setup-function or change
	the value to setup-XXX-environment-internal.  Add properties
	input-method and features.

	* mule/english.el (setup-english-environment): Just call
	reset-language-environment.

	* mule/european.el (setup-8-bit-environment): Function deleted.

1998-08-08  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* mule/mule-cmds.el (input-method-exit-on-first-char)
	(input-method-use-echo-area): Doc fixes.

1998-08-06  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (input-method-exit-on-first-char): New
	variable.
	(input-method-use-echo-area): New variable.

1998-08-01  Kenichi HANDA  <handa@etl.go.jp>

	* mule/mule-cmds.el (language-info-alist): Doc-string modified.

1998-07-30  Ken'ichi Handa  <handa@delysid.gnu.org>

	* mule/mule-cmds.el (activate-input-method): Update mode line.
	(inactivate-input-method): Likewise.

1998-07-19  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (read-multilingual-string): Don't activate an
	input method in the current buffer, but just bind
	current-input-method.

1998-07-08  Kenichi Handa  <handa@etl.go.jp>

	* mule/hebrew.el ("Hebrew"): Add coding-priority.

	* mule/misc-lang.el ("IPA"): Add coding-priority and
	coding-system.

1998-06-26  Ken'ichi Handa  <handa@melange.gnu.org>

	* mule/greek.el: Add coding-priority.

1998-05-23  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* mule/mule-cmds.el (register-input-method): Rename arg ENV to
	LANG-ENV.

1998-05-20  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* mule/mule-cmds.el (register-input-method): Fix previous change.
	(setup-specified-language-environment): Doc fix.

1998-05-19  Richard Stallman  <rms@psilocin.ai.mit.edu>

	* mule/mule-cmds.el: Several doc fixes.
	(get-language-info, set-language-info): Rename argument.
	(set-language-info-alist): Likewise.
	(register-input-method): Rename argument.
	(activate-input-method): If INPUT-METHOD is nil, deactivate.

1998-05-04  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (toggle-input-method): Use a more appropriate
	default value while reading an input method.

1998-05-01  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (universal-coding-system-argument):
	Use buffer-file-coding-system as default.

1998-04-14  Andreas Schwab  <schwab@mescaline.gnu.org>

	* mule/korean.el ("Korean"): Doc fix.

1998-04-11  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (describe-language-environment): Print the
	languge environment at the head.

1998-04-06  Kenichi Handa  <handa@etl.go.jp>

	* mule/japanese.el: Set exit-function to exit-japanese-environment
	for Japanese environment.

1998-03-20  Richard Stallman  <rms@psilocin.gnu.org>

	* mule/mule-cmds.el (set-language-environment): Doc fix.
	(current-language-environment): Use defcustom.
	(default-input-method): Specify :type.

1998-03-02  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (set-default-coding-systems): Doc-string
	modified.
	(prefer-coding-system): Doc-string modified.

1998-01-21  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (set-language-info): Doc-string
	describes `coding-priority' KEY.
	(set-language-environment-coding-systems): New function.
	(select-safe-coding-system): New function.
	(set-language-info): New optional args DESCRIBE-MAP and SETUP-MAP.
	(set-language-info-alist): New optionla arg PARENTS.  Call
	set-language-info with appropriate DESCRIBE-MAP and SETUP-MAP args.
	(set-language-environment-coding-systems): New function.

	* mule/chinese.el: Remove setting up of
	describe-chinese-environment-map and
	setup-chinese-environment-map.  Exclude them in args of calls to
	set-language-info-alist.  Register coding-priority key in
	language-info-alist.

	* mule/cyrillic.el: Remove setting up of
	describe-cyrillic-environment-map and
	setup-cyrillic-environment-map.  Exclude them in args of calls to
	set-language-info-alist.  Register coding-priority key in
	language-info-alist.

	* mule/english.el: Register coding-priority key in
	language-info-alist.

	* mule/ethiopic.el: Register coding-priority key in
	language-info-alist.

	* mule/european.el: Remove setting up of
	describe-european-environment-map and
	setup-european-environment-map.  Exclude them in args of calls to
	set-language-info-alist.  Register coding-priority key in
	language-info-alist.  Add "German" language env.
	(setup-8-bit-environment): Delete CODING-SYSTEM arg.
	(setup-german-environment): New function.

	* mule/greek.el (setup-greek-environment): For Greek lang. env.,
	change default input method to "greek-postfix".

	* mule/japanese.el, mule/korean.el, mule/vietnamese.el: Register
	coding-priority key in

1997-12-19  Stephen Eglen  <stephen@cns.ed.ac.uk>

	* mule/mule-cmds.el (set-language-info): Doc fix.
	(input-method-inactivate-hook): Doc fix.

1997-11-20  Karl Heuer  <kwzh@gnu.org>

	* mule/mule-cmds.el (set-input-method): Renamed from
	select-input-method.

1997-11-07  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (set-language-environment): Run
	exit-language-environment-hook before calling `exit-function'
	which is specified for the language environment.

1997-10-23  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (set-default-coding-systems): Doc-string
	modified.
	(prefer-coding-system): Likewise.
	(describe-language-environment): Print aliases of each coding
	system.
	(set-language-environment-hook): New variable.
	(exit-language-environment-hook): New variable.
	(set-language-environment): Call these hooks.  Before setting a
	new language environment, exit from the
	current-language-environment if necessary.
	(input-method-verbose-flag): The value can be nil, t,
	complex-only, or default.
	(input-method-highlight-flag): Doc-string augmented.
	(activate-input-method): Check if we can run the registered
	function to activate an input method.

	* mule/korean.el: Set exit-function for language environment
	"Korean" to exit-korean-environment.
	(setup-korean-environment): Moved to korea-util.el.

1997-10-21  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-cmds.el (read-multilingual-string): Use
	current-input-method prior to default-input-method.  Don't bind
	current-input-method by `let', instead, activate the specified
	input method in the current buffer temporarily.

1997-10-19  John F. Whitehead  <jfw@cisco.com>

	* mule/mule-cmds.el (describe-language-environment): Fix prompt.

1997-10-21  Kenichi Handa  <handa@etl.go.jp>

	* mule/chinese.el (post-read-decode-hz): Return the result of
	decode-hz-region.
	(pre-write-encode-hz): Do not change the value of
	last-coding-system.

1998-09-06  Bill Richter  <richter@math.nwu.edu>

	* mule/mule-ccl.el: Doc fixes.

1998-04-20  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-ccl.el (declare-ccl-program): New optional arg VECTOR.
	(check-ccl-program): New macro.

1998-01-21  Kenichi Handa  <handa@etl.go.jp>

	* mule/mule-ccl.el: Comment about CCL syntax modified.
	(ccl-command-table): Add read-multibyte-character and
	write-multibyte-character.
	(ccl-code-table): Add ex-cmd.
	(ccl-extended-code-table): New variable.
	(ccl-embed-extended-command): New function.
	(ccl-compile-read-multibyte-character,
	ccl-compile-write-multibyte-character) New functions.
	(ccl-dump-ex-cmd, ccl-dump-read-multibyte-character,
	ccl-dump-write-multibyte-character): New functions.

1999-07-22  SL Baur  <steve@miho>

	* config.el (config-value-file): config.values is installed into
	doc-directory.
	From Karl M. Hegbloom  <karlheg@cathcart.sysc.pdx.edu>

1999-07-19  Didier Verna  <didier@xemacs.org>

	* rect.el: all functions rewritten, except when noted. Below is a
	list of interface changes.
 	(apply-on-rectangle): new function. Obsoletes
	`operate-on-rectangle'. All functions that used to call this
	function now call the new one.
	(kill-rectangle): added optional prefix arg to fill lines.
	(delete-rectangle): ditto.
	(delete-extract-rectangle): ditto.
	(open-rectangle): ditto.
	(clear-rectangle): ditto.
	(delete-rectangle-line): added third arg FILL.
	(delete-extract-rectangle-line): ditto.
	(open-rectangle-line): ditto.
	(clear-rectangle-line): ditto.

1999-07-18  Andy Piper  <andy@xemacs.org>

	* menubar-items.el (default-menubar): add gutter options.

	* gutter-items.el: new file.
	(gutter): new group for custom.
	(gutter-visible-p): new variable.
	(default-gutter-position): ditto.
	(buffers-tab): new group for the buffers tab.
	(gutter-buffers-tab): widget to put in the gutter.
	(buffers-tab-max-size): max number of tabs.
	(buffers-tab-switch-to-buffer-function): function to call when a
 	tab is pressed.
	(buffers-tab-omit-function): filter buffers with this function.
	(buffers-tab-format-buffer-line-function): format buffer names for
 	inclusion in tabs.
	(buffers-tab-switch-to-buffer): like switch-to-buffer but without
	the record.
	(build-buffers-tab-internal): build a list of tab items.
	(buffers-tab-items): ditto.
	(add-tab-to-gutter): put a tab in the gutter area.
	(update-tab-in-gutter): reset the buffers in the tab.

	* dumped-lisp.el (preloaded-file-list): dump gutter-items.

	* buffer.el (switch-to-buffer): run switch-to-buffer-hooks.
	(switch-to-buffer-hooks): new hook.

	* toolbar.el (default-toolbar-position): fix typo.

1999-07-16  Andy Piper  <andy@xemacs.org>

	* gui.el (make-dialog-frame): turn off gutters for dialogs.

1999-07-15  Didier Verna  <didier@xemacs.org>

	* cus-edit.el (custom-prompt-variable): optional third arg makes
	prompt for a comment string.
	(customize-set-value): optional prefix makes this function handle
	variable comments.
	(customize-set-variable): ditto.
	(customize-save-variable): ditto.
	(customize-customized): handle custom comments.
	(customize-save-customized): ditto.
	(custom-variable-state-set): ditto.
	(custom-face-state-set): ditto.
	(customize-saved): ditto.
	(custom-variable-set): ditto.
	(custom-face-set): ditto.
	(custom-variable-save): ditto.
	(custom-face-save): ditto.
	(custom-variable-reset-saved): ditto.
	(custom-face-reset-saved): ditto.
	(custom-variable-reset-standard): ditto.
	(custom-face-reset-standard): ditto.
	(custom-comment-face): new face.
	(custom-comment-tag-face): ditto.
	(custom-comment): new widget.
	(custom-comment-create): new function.
	(custom-comment-delete): ditto.
	(custom-comment-value-set): ditto.
	(custom-comment-show): ditto.
	(custom-comment-invisible-p): ditto.
	(custom-variable-value-create): create a comment field widget.
	(custom-face-value-create): ditto.
	(custom-variable-menu): new entry for adding a custom comment.
	(custom-face-menu): ditto.
	(custom-save-variables): possibly save custom comments.
	(custom-save-faces): ditto.

	* cus-face.el (custom-set-faces): the arguments can now have a
	custom comment as fourth argument.

	* custom.el (custom-set-variables): the arguments can now have a
	custom comment as fifth element.

1999-07-13  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.18 is released

1999-07-13  SL Baur  <steve@miho>

	* lib-complete.el (read-library-name): Revert previous change.
	(read-library): Ditto.

1999-06-24  Karl M. Hegbloom  <karlheg@debian.org>

	* packages.el (packages-package-list): Capitalize docstring.

	* packages.el (packages-find-package-library-path): Use #'nconc
	rather than #'append to reduce consing -- #'mapcar uses Flist,
	which returns a freshly consed list.  #'append would create yet
	another fresh list, using Fmake_list in concat.

	* packages.el (package-provide): Use setq with remassq like it
	says in its docstring.

1999-07-06  SL Baur  <steve@miho.m17n.org>

	* lib-complete.el (progn-with-message): Fix typo.

1999-07-06  SL Baur  <steve@miho.m17n.org>

	* mule/mule-misc.el (char-octet): Make function match docstring.
	From Katsumi Yamaoka <yamaoka@jpl.org>

1999-06-15  Karl M. Hegbloom  <karlheg@debian.org>

	* wid-edit.el (widget-documentation): corrected spelling error.

1999-06-23  Jonathan Marten <jonathan.marten@uk.sun.com>

	* x-win-sun.el (x-win-init-sun): Don't rebind Find and Sh-find
	keys if already bound

1999-07-06  SL Baur  <steve@miho.m17n.org>

	* lib-complete.el (progn-with-message): Revert previous changes.

1999-06-24  Bob Weiner  <weiner@beopen.com>

	* lib-complete.el (find-library):
	(find-library-other-window):
	(find-library-other-frame): Completely rewrote
	so that these functions actually work when called non-interactively.
	Also made them handle LIBRARY arguments which end with .el or .elc.

1999-06-24  Bob Weiner  <weiner@beopen.com>

	* simple.el (indent-new-comment-line): Locally bound
	`block-comment-start' to `comstart' or else when this is called
	from do-auto-fill, e.g. in Lisp mode, it will insert any non-nil
	`block-comment-start' value, ignoring any existing spacing after a
	comment prefix in the previous line and producing ugly comments.

1999-06-23  Bob Weiner  <weiner@beopen.com>

	* list-mode.el (mouse-choose-completion):
	(choose-completion):
	(completion-switch-to-minibuffer): Added.
	([Tab]): [Tab] previously switched to the minibuffer
	but since [space] does that and since most applications in the
	world use [Tab] to select the next item in a list, do that in the
	*Completions* buffer too.  This will cause the least confusion
	among the largest population of users.  -- Bob Weiner, BeOpen.com,
	06/23/1999.

1999-06-22  Bob Weiner  <weiner@beopen.com>

	* help.el (help-buffer-name): Added support for a null value
	of `help-buffer-prefix-string' since some buffers require no
	prefix.

1999-06-20  Bob Weiner  <weiner@beopen.com>

	* list-mode.el (completion-list-mode-quit): Added and bound to {q}
	in the completion-list-mode-map to bury the completions buffer
	even when the minibuffer is no longer active.

1999-06-20  Bob Weiner  <weiner@beopen.com>

	* list-mode.el (list-mode): It is visually disconcerting to have
	the text cursor disappear within list buffers, especially when
	moving from window to window, so leave it visible.

1999-07-01  SL Baur  <steve@miho.m17n.org>

	* menubar-items.el (default-menubar): Conditionalize the bug
	report menu item (which may not be possible in this XEmacs).
	Reported by: Ken'ichi Handa <handa@etl.go.jp>

1999-06-30  SL Baur  <steve@miho.m17n.org>

	* subr.el (with-current-buffer): DOC string fix.
	Suggested by Bob Weiner <weiner@altrasoft.com>

1999-06-25  Charles G Waldman <cgw@fnal.gov>

        * cus-face.el (custom-face-italic): insert missing args

1999-06-24  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (package-locations): Changed default early package
	hierarchies to ~/.xemacs/mule-packages and
	~/.xemacs/xemacs-packages.

1999-06-23  SL Baur  <steve@miho.m17n.org>

	* mule/mule-category.el (Top Level): ASCII is also latin-1.

1999-06-15  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (package-locations): Changed default early package
	hierarchy to ~/.xemacs/packages.
	(package-locations): Removed `packages' as a possible name for a
	late package hierarchy.

1999-06-20  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/mule-category.el (word-combining-categories): Set up new
	variable.
	(word-separating-categories): Likewise.

1999-06-22  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.17 is released

1999-06-17  Robert Pluim  <rpluim@bigfoot.com>

	* font-menu.el (font-menu-set-font): allow for nil specification
	of font size.

1999-06-16  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el: Specify `columns' of the charset `thai-xtis'
	is 1.

1999-06-12  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/cyrillic.el (cyrillic-koi8-r-decode-table): Use NBSP of ISO
	8859-5 instead of ISO 8859-1.

1999-06-15  SL Baur  <steve@steve1.m17n.org>

	* mule/vietnamese.el (viet-vscii-encode-table): Use split-char.
	(viet-viscii-encode-table): Ditto.

	* mule/mule-misc.el: Delete split-char & split-char-or-char-int.
	Make obsolete definition of char-octet.

1999-06-14  SL Baur  <steve@steve1.m17n.org>

	* subr.el: Move no-Mule make-char ...
	* help-nomule.el (make-char): To here.
	(string-width): Make Mule compatibility alias.

1999-06-15  Andy Piper  <andy@xemacs.org>

	* select.el (get-selection-no-error): really make there be no-error.
	(get-selection): revert to original.

1999-06-11  Andy Piper  <andy@xemacs.org>

	* select.el (selection-sets-clipboard): renamed.
	(own-selection): use it.

1999-06-11  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.16 is released

1999-06-09  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/cyrillic.el (cyrillic-koi8-r-decode-table): Set 32 for
 	missing characters to avoid crash.

1999-06-09  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* coding.el (set-terminal-coding-system): Only set the console
	coding system on the selected console if it is a tty.

1999-06-10  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* cus-face.el:
	* cus-edit.el:
	* faces.el:
	(custom):
	(face-spec-set):
	* faces.el (frob-face-property):
	* font-menu.el (font-menu-set-font):
	          Actually apply changes from 1999-03-17

1999-06-10  Andy Piper  <andy@xemacs.org>

	* select.el (get-selection): abstract out non error-signalling
 	part.
	(get-selection-no-error): get-selection without signalling an
 	error.
	(selection-is-clipboard-p): new variable. controls whether the
 	selection sets the clipboard.
	(own-selection): use it.

	* mouse.el (insert-selection): fallback to clipboard after trying
 	primary selection and cutbuffer.

1999-06-05  Andy Piper  <andy@xemacs.org>

	* x-select.el (xselect-kill-buffer-hook-1): use generalised
 	selection functions.

1999-06-04  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* code-files.el (buffer-file-coding-system): Use `raw-text' as
	default value.
	(load): Use `raw-text' instead of `no-conversion'.
	(insert-file-contents): Likewise.

	* bytecomp.el (byte-compile-insert-header): Use `raw-text' instead
	of `no-conversion'.

1999-06-03  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* coding.el: Don't copy `no-conversion' to `raw-text'.

1999-06-07  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (make-char): Define it if Mule is not around.

1999-06-07  SL Baur  <steve@steve1.m17n.org>

	* mule/mule-help.el: Add trailing newline.  Use mule keyword.

	* x-select.el (x-disown-selection-internal): Restore symbol as an
	obsolete alias.
	(xselect-kill-buffer-hook-1): Use disown-selection-internal.

1999-06-04  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.15 is released

1999-06-02  Oscar Figueiredo  <oscar@xemacs.org>

	* subr.el (split-string): Avoid infinite looping

1999-05-30  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-ignore-attribute-codings): New variable
	(ldap-default-attribute-decoder): New variable
	(ldap-coding-system): New variable
	(ldap-attribute-syntax-encoders): New variable
	(ldap-attribute-syntax-decoders): New variable
	(ldap-attribute-syntaxes-alist): New variable
	(ldap-encode-boolean): New function
	(ldap-decode-boolean): New function
	(ldap-encode-country-string): New function
	(ldap-decode-string): New function
	(ldap-decode-address): New function
	(ldap-encode-address): New function
	(ldap-decode-attribute): New function
	(ldap-search): Use some of these

1999-05-25  Jan Vroonhof  <jan@xemacs.org>

	* version.el (emacs-version): Make the patch level/beta come
	before the XEmacs qualifier so that it gets into (funcall
	emacs-version) and thus in the bug reports.
	(emacs-version>=): Support patch levels.

1999-06-03  SL Baur  <steve@xemacs.org>

	* version.el: implement x.y.z version number
	From Jan Vroonhof <vroonhof@math.ethz.ch>

1999-05-27  Yoshiki Hayashi <g740685@komaba.ecc.u-tokyo.ac.jp>

	* mule/mule-cmds.el (read-input-method-name): set input-method properly.

1999-05-22  Vin Shelton <acs@xemacs.org>

	* startup.el: Document -private and break out non-standard X options.

1999-05-26  SL Baur  <steve@gneiss.etl.go.jp>

	* mule/mule-charset.el (charset-after): New function.
	(charset-direction): Synch with Mule, update docstring.
	(get-charset-property): New function.
	(put-charset-property): New function.
	(charset-plist): New function.

	* mule/mule-charset.el (compose-region):
	(decompose-region): remove;  these functions (which don't work
	since we don't do composite characters) have been moved to
	mule-util.el.
	(toplevel): follow coding standards

1999-05-26  SL Baur  <steve@gneiss.etl.go.jp>

	* dumped-lisp.el (preloaded-file-list): mule-files.el does not
	exist any more.

	* code-files.el: Fix commentary to follow coding standards.  Move
	the single line left in mule-files.el to here.

	* mule/mule-files.el: delete.

1999-05-24  SL Baur  <steve@gneiss.etl.go.jp>

	* info.el (Info-scroll-prev): Use event functions instead of the
	old emacs 19 interface.

1999-06-02  Andy Piper  <andy@xemacs.org>

	* x-font-menu.el (x-font-menu-load-font):
 	font-menu-registry-encoding -> x-font-menu-registry-encoding type.

1999-05-31  Andy Piper  <andy@xemacs.org>

	* font-menu.el (font-menu-ignore-scaled-fonts): move to font-menu
 	group.
	(font-menu-this-frame-only-p): ditto.
	(font-menu-max-items): reinstate, from Jan Vroonhof
 	<vroonhof@math.ethz.ch>
	(font-menu-submenu-name-format): ditto.
	(font-menu-split-long-menu): ditto, for use by the family
 	constructor.
	(font-menu-family-constructor): use it.

1999-05-30  Andy Piper  <andy@xemacs.org>

	* msw-faces.el (mswindows-font-regexp): new font matching regexp
 	for use by the font menu.

	* msw-font-menu.el: new file implementing mswindows specific
 	font-menu behaviour.
 	(mswindows-font-menu-registry-encoding): new function mirroring x version.
	(mswindows-font-menu-junk-families): ditto.
	(hack-font-truename): ditto.
	(mswindows-font-regexp-ascii): ditto.
	(mswindows-reset-device-font-menus): ditto.
	(mswindows-font-menu-font-data): ditto.
	(mswindows-font-menu-load-font): ditto.

	* x-font-menu.el (x-reset-device-font-menus): made device specific.
	(x-font-menu-font-data): ditto.
	(x-font-menu-load-font): ditto.

	* font-menu.el: new file implementing generic font menu behaviour.
 	(font-menu-ignore-scaled-fonts): copied from x-font-menu.el and
 	made device independent.
	(font-menu-this-frame-only-p): ditto.
	(font-menu-preferred-resolution): ditto.
	(font-menu-size-scaling): new variable used to determine whether
 	sizes are in points or tenths of a point.
	(vassoc): moved from x-font-menu.el.
	(device-fonts-cache): ditto.
	(device-fonts-cache): ditto.
	(flush-device-fonts-cache): ditto.
	(reset-device-font-menus): copied from x-font-menu.el and made
 	device independent. Most functionality deferred to
 	device-dependent versions.
	(font-menu-family-constructor): copied from x-font-menu.el and
 	made device independent.
	(font-menu-size-constructor): ditto.
	(font-menu-weight-constructor): ditto.
	(font-menu-set-font): ditto.
	(font-menu-change-face): ditto.
	(font-menu-load-font): new device method.
	(font-menu-font-data): ditto.

	* x-font-menu.el: The above functions deleted.

1999-05-26  Andy Piper  <andy@xemacs.org>

	* update-elc.el:
	* make-docfile.el:
	* loadup.el: rehash expand-file-name usage to not use default-directory.

1999-05-21  Andy Piper  <andy@xemacs.org>

	* x-select.el (x-select-convert-to-text):
	(x-selected-text-type):
	(x-get-selection):
	(xselect-convert-to-string):
	(xselect-convert-to-compound-text):
	(xselect-convert-to-length):
	(xselect-convert-to-targets):
	(xselect-convert-to-delete):
	(xselect-convert-to-filename):
	(xselect-convert-to-charpos):
	(xselect-convert-to-lineno):
	(xselect-convert-to-colno):
	(xselect-convert-to-sourceloc):
	(xselect-convert-to-os):
	(xselect-convert-to-host):
	(xselect-convert-to-user):
	(xselect-convert-to-class):
	(xselect-convert-to-name):
	(xselect-convert-to-integer):
	(xselect-convert-to-atom):
	(xselect-convert-to-identity): functions renamed from x-* and
 	moved to select.el.
	(x-get-secondary-selection): use rename get-selection.
	(x-get-clipboard): ditto.
	(x-own-selection): moved to select.el.
	(x-valid-simple-selection-p): ditto.
	(x-dehilight-selection): ditto.
	(x-own-clipboard): ditto.
	(x-disown-selection): ditto.

	* x-mouse.el (x-yank-function): moved to mouse.el.
	(x-insert-selection): ditto.
	(x-set-point-and-move-selection): use renamed function.

	* select.el (selected-text-type): moved and renamed from
 	x-select.el.
	(selection-owner-p): moved to C.
	(selection-exists-p): ditto.
	(get-cutbuffer): new device method.
	(get-selection): generalised and moved from x-select.el.
	(own-selection): moved x-own-selection functionality into here.
	(dehilight-selection): renamed and moved from x-select.el.
	(own-clipboard): functionality moved from x-select.el using new
 	generic C builtins.
	(disown-clipboard): ditto.
	(select-convert-to-text):
	(select-convert-to-string):
	(select-convert-to-compound-text):
	(select-convert-to-length):
	(select-convert-to-targets):
	(select-convert-to-delete):
	(select-convert-to-filename):
	(select-convert-to-charpos):
	(select-convert-to-lineno):
	(select-convert-to-colno):
	(select-convert-to-sourceloc):
	(select-convert-to-os):
	(select-convert-to-host):
	(select-convert-to-user):
	(select-convert-to-class):
	(select-convert-to-name):
	(select-convert-to-integer):
	(select-convert-to-atom):
	(select-convert-to-identity): new functions renamed from x-* and
 	moved from x-select.el.

	* mouse.el (mouse-consolidated-yank): subsume x-yank-function
 	into here and use as the default window-system mouse yank.
	(insert-selection): generalised and moved from x-mouse.el.
	(own-clipboard): moved to C.

	* msw-select.el	(mswindows-selection-owned-p): deleted.
	(mswindows-own-selection): generalised and moved to select.el.
	(mswindows-disown-selection): generalised and moved to C.
	(mswindows-selection-owner-p): ditto.

1999-05-14  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.14 is released

1999-05-13  SL Baur  <steve@gneiss.etl.go.jp>

        * about.el: update contact info for jason and slb.

1999-05-13  SL Baur  <steve@gneiss.etl.go.jp>

	* mule/european.el (setup-romanian-environment): Add Romanian
	support from Emacs/Mule romanian.el.

1999-03-17  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* cus-face.el: Label all custom changes with the 'custom' tag.

	* cus-edit.el: idem ditto.

	* faces.el: Added suport for adding device tags to various functions.
	(custom): New device tag.
	(face-spec-set): Call reset face with tags argument. No longer do
	x-init-global-faces hack.

	* faces.el (frob-face-property): Use an anonymous specifier to map
	frob-face-property-1 over.

	* x-font-menu.el (font-menu-set-font): Always specify all
	properties to custom.

1999-05-12  SL Baur  <steve@gneiss.etl.go.jp>

	* mule/european.el (setup-czech-environment): Add czech support.
	From David Sauer <davids@orfinet.cz>

1999-03-15  SL Baur  <steve@xemacs.org>

	* check-features.el: Turn hard errors into warnings.

1999-03-21  SL Baur  <steve@xemacs.org>

	* simple.el (delete-key-deletes-forward): As per discussion on
	xemacs-beta, default to t.

1999-05-11  Hrvoje Niksic  <hniksic@srce.hr>

	* loadup.el: Define Installation-string before loading anything.

1999-05-06  Gunnar Evermann  <ge204@eng.cam.ac.uk>

	* files.el (auto-mode-alist): fix typo in regex for .bash_* files
	From Anders Stenman <stenman@isy.liu.se>

1999-05-03  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-glyph-find): Ditto.

	* packages.el (locate-library): Ditto.

	* loadup.el (really-early-error-handler): Ditto.

	* lib-complete.el (read-library): Ditto.

	* faces.el (set-face-stipple): Ditto.

	* code-files.el (load): Use new calling style of locate-file.

1999-05-03  Hrvoje Niksic  <hniksic@srce.hr>

	* packages.el (packages-unbytecompiled-lisp): Installation.el is
 	dead.

1999-05-03  Hrvoje Niksic  <hniksic@srce.hr>

	* dumped-lisp.el (preloaded-file-list): Don't load
 	Installation.el.

	* loadup.el (Installation-string): Define it here.

1999-05-03  Hrvoje Niksic  <hniksic@srce.hr>

	* dumped-lisp.el (preloaded-file-list): Revert previous change --
 	Installation.el needs to be loaded before `dump-paths', otherwise
	the dumping process won't find it.

1999-03-13  Adrian Aichner  <adrian@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Load Installation.el after
	subr so that we can use `replace-in-string' in Installation.el to
	get rid of C-m chars under the native Windows build.

1999-04-29  Andy Piper  <andy@xemacs.org>

	* make-docfile.el: canonicalize file and directory names.

	* device.el (call-device-method): new function for calling device
 	specific methods.
	(define-device-method): new function for defining device methods.
	(define-device-method*): ditto.

1999-04-27  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (buffer-string): Support new FSFmacs 20.4 stuff.

1999-04-08  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/cyrillic.el (cyrillic-koi8-r-decode-table): New variable.
	(cyrillic-koi8-r-encode-table): Likewise.
	(ccl-decode-koi8): Use `cyrillic-koi8-r-decode-table'.
	(ccl-encode-koi8): Use `cyrillic-koi8-r-encode-table'.

	* mule/mule-misc.el (split-char-or-char-int): New function [moved
	from vietnamese.el].

	* mule/vietnamese.el: Move function `split-char-or-char-int' to
	mule/mule-misc.el.

1999-04-08  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/thai-xtis.el:
	- Change font registry name from "Thai94x94-0" to "xtis-0".
	- Change mnemonic of coding-system `tis-620' to "TIS620".

1999-04-06  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* mule/ethiopic.el: fixed.

1999-03-30  MORIOKA Tomohiko  <tomo@etl.go.jp>

	* dumped-lisp.el: Add ethiopic, thai-xtis and vietnamese.

	* mule/thai-xtis.el: New file.

	* mule/vietnamese.el: New file.

	* mule/ethiopic.el: New file.

1999-04-22  Hrvoje Niksic  <hniksic@srce.hr>

	* bytecomp.el (byte-compile-close-variables): Leave
	debug-issue-ebola-notices alone.

1999-04-11  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-host-parameters-alist): Make `Search Base' appear
 	at the top of the buffer since it is the most important thing to
 	customize
	(ldap-get-host-parameter): New defun
	(ldap-search): Add a new parameter `withdn' to retrieve the
 	distinguished names of entries

1999-04-22  Kai Haberzettl  <khaberz@synnet.de>

	* startup.el (splash-frame-body): Date and spelling fixes.

1999-03-16  Colin Rafferty  <colin@xemacs.org>

	* view-less.el (toggle-truncate-lines): add autoload tag

1999-04-19  Hrvoje Niksic  <hniksic@srce.hr>

	* format.el (format-alist): Disable image stuff.

1999-04-17  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-glyph-find): Search by directories, then by
 	suffixes rather than the other way around.
	(widget-image-conversion): Renamed to
 	`widget-image-file-name-suffixes'.

1999-04-16  Olivier Galibert  <galibert@pobox.com>

	* mule/mule-charset.el: Made old functions obsolete, remove the
 	unspeakably evil (and inexistant in fsf's) charset-leading-byte.
 	(charset-iso-graphic-plane): Rename from charset-graphic.
	(charset-iso-final-char): Rename from charset-final.
	(charset-width): Rename from charset-columns.
	(charset-bytes): Added from fsf compatibility, returns always 1.

	* mule/mule-misc.el: Move charset-doc-string alias to
 	mule-charset.el

1999-04-14  Colin Rafferty  <colin@xemacs.org>

	* x-faces.el (x-make-font-bold-italic): honor
	*try-oblique-before-italic-fonts*

1999-04-14  Hrvoje Niksic  <hniksic@srce.hr>

	* cl-extra.el (coerce): Coerce numbers to characters correctly.

1998-12-02  Hrvoje Niksic  <hniksic@srce.hr>

	* x-faces.el (try-oblique-before-italic-fonts): Use the right
 	name.

1999-04-14  Dave Gillesipe  <daveg@synaptics.com>

	* cl-extra.el (equalp): Would bug out for lists.

1999-03-12  Charles G Waldman  <cgw@fnal.gov>

	* about.el (about-hackers):  Change cgw's email address

1999-03-12  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.13 is released

1999-03-12  SL Baur  <steve@xemacs.org>

	* simple.el (delete-key-deletes-forward): Revert to previous
	behavior.

1999-01-18  Didier Verna  <didier@xemacs.org>

	* menubar-items.el (xemacs-splash-buffer): handle the case of
	multiple elements in the splash buffer body.

	* startup.el (splash-frame-timeout): new constant: interval
	between splash buffer elements.
	(command-line-1): handle splash buffer with multiple elements (use
	a timeout).
	(splash-frame-body): Originally `startup-splash-frame-body'.
	Rewrote a cleaner and more readable version. This can now be array,
	in which case each element is displayed in turn in the splash buffer.
	(splash-frame-static-body): new constant. Persistent information
	across all splash buffer elements (preserves the possibility to give
	it in different	languages.
	(circulate-splash-frame-elements): new function. Used as a timeout
	to circulate through all splash frame elements and display them in
	sequence.
	(display-splash-frame): originally `startup-splash-frame'. Handle
	the case of multiple elements in the splash buffer body. Now
	returns a timeout id if multiple elements to display, or nil.

1999-02-19  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* x-faces.el (x-init-global-faces): Add default tag to specifiers,
	so they can be overridden by x-init-face-from-resources.
	Additionally specify the font name also with an x tag.

1999-03-08  Andy Piper  <andy@xemacs.org>

	* package-get.el (package-get-base): autoload.

	* menubar-items.el (default-menubar): add update menu item. Fix
	custom menu to only be activated when package-base is available.

	* package-get.el (package-get-custom): don't load
	package-get-custom as it is auto-generated. Fix group definition.

1999-03-05  Didier Verna  <didier@xemacs.org>

	* cus-dep.el (Custom-make-dependencies): use `prin1-to-string'
	instead of `symbol-name' (Thanks Kyle).

	* cus-edit.el (custom-save-variables): use `prin1' instead of
	princ to write symbols.

1999-03-05  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.12 is released

1999-03-05  SL Baur  <steve@xemacs.org>

	* menubar-items.el (default-menubar): Add kfm browsing support.
	From Neal Becker <nbecker@fred.net>

1999-03-03  Steven Baur  <steve@gneiss.etl.go.jp>

	* font-lock.el (font-lock-revert-cleanup): Null out to avoid repeated
	calls to font-lock during buffer reversion.

1999-02-12  Didier Verna  <didier@xemacs.org>

	* info.el (Info-build-node-completions): unconditionally widen the
	tag table buffer.

1999-02-19  Paul Stodghill  <stodghil@cs.cornell.edu>

	* x-faces.el (x-init-face-from-resources):
	Only set fonts in the 'x locale.

1999-03-04  Adrian Aichner  <adrian@xemacs.org>

	* package-ui.el (pui-install-selected-packages): Don't throw on
	`package-admin-delete-binary-package' returning nil since it's
	normal.  Reindent function.
	(pui-add-required-packages): Handle case where packages selected
	for installation have never been installed.

1999-03-03  Martin Buchholz  <martin@xemacs.org>

	* menubar-items.el (default-menubar):
	Implement the ``Mule->Set coding system of process'' menu item.

1999-02-18  Martin Buchholz  <martin@xemacs.org>

	* files.el (auto-mode-alist): Use c-mode for *.i pre-processed cpp
	files
	- Change some `if's to `when's

1999-03-01  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.11 is released

1999-02-22  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* userlock.el (ask-user-about-supersession-threat-dbox): Guard
	against window close (Fix Bug #460).
	(ask-user-about-lock-dbox): Idem.

1999-02-25  SL Baur  <steve@xemacs.org>

	* mule/mule-charset.el (charset-leading-byte): New function.
	From Kazuyuki IENAGA <ienaga@jsys.co.jp>

1999-02-12  Andy Piper  <andy@xemacs.org>

	* about.el (xemacs-hackers): change andy's email address.
	(about-url-alist): change andy's web page address.
	(about-xemacs): add piper.

1999-02-16  SL Baur  <steve@xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Core mule files moved out
	of mule-base into lisp/mule.

1999-02-16  SL Baur  <steve@xemacs.org>

	* mule/arabic.el:
	mule/canna-leim.el:
	mule/chinese.el:
	mule/cyrillic.el:
	mule/english.el:
	mule/european.el:
	mule/greek.el:
	mule/hebrew.el:
	mule/japanese.el:
	mule/kinsoku.el:
	mule/korean.el:
	mule/misc-lang.el:
	mule/mule-category.el:
	mule/mule-ccl.el:
	mule/mule-charset.el:
	mule/mule-cmds.el:
	mule/mule-coding.el:
	mule/mule-files.el:
	mule/mule-help.el:
	mule/mule-init.el:
	mule/mule-misc.el:
	mule/mule-tty-init.el:
	mule/mule-x-init.el:
	mule/viet-chars.el:  Remerge from mule-base.

	* dumped-lisp.el (preloaded-file-list): Core mule files moved out
	of mule-base into lisp/mule.

1999-02-10  Adrian Aichner  <adrian@xemacs.org>

	* process.el (exec-to-string): Use `shell-command-switch' in place
	of hard-wired "-c" (for WindowsNT).

1999-02-08  Charles G Waldman  <cgw@pgt.com>

	* menubar-items.el (default-menubar):  Remove obsolete
	"Gopher" item

1999-02-06  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-admin.el (package-admin-get-install-dir): First fall
	back to the location of xemacs-base for non-mule packages.

1999-02-15  Martin Buchholz  <martin@xemacs.org>

	* paths.el:
	- improved automounter tmp directory support.
	- support 4 (!) empirically discovered automounter conventions

1999-02-12  SL Baur  <steve@xemacs.org>

	* etags.el (pop-tag-mark): autoload to match key binding.

1999-02-05  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.10 is released

1999-02-02  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-get.el (package-get-remote-filename): Don't bug out for
	a local file name in the search entry.

1999-02-02  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.9 is released

1999-01-19  Didier Verna  <didier@xemacs.org>

	* replace.el (replace-search-function): new variable containing a
	function to perform a search-forward.
	(replace-re-search-function): new variable containing a function
	to perform a re-search-forward.
	(perform-replace): use them.

1999-01-25  Didier Verna  <didier@xemacs.org>

	* select.el (selection-owner-p): use the name `XEmacs'.
	(cut-copy-clear-internal): ditto.

1999-01-18  Andy Piper  <andy@xemacs.org>

	* about.el (about-url-alist): Update my entry.
	(xemacs-hackers): Ditto.

1999-01-14  Adrian Aichner  <adrian@xemacs.org>

	* buffer.el (switch-to-buffer): Fixing documentation.
	* minibuf.el (minibuffer-completion-table): ditto.
	* cl-macs.el (return-from): ditto.

1999-01-04  Didier Verna  <didier@xemacs.org>

	* replace.el (delete-non-matching-lines): temporarily disable
	case-folding when called interactively with a regexp containing
	uppercase characters.
	(delete-matching-lines): ditto.
	(count-matches): ditto.
	(list-matching-lines): ditto.

1999-01-07  Colin Rafferty  <colin@xemacs.org>

	* window.el (shrink-window-if-larger-than-buffer): Clean up.  Only
 	abort if current window is split horizontally, not if others are
 	split.  Got rid of unnecessary minibuffer checking.  Also, add
 	some comments (it's still complex).

1999-01-12  Robert Pluim  <rpluim@BayNetworks.com>

	* package-get.el: changed address for doc.ic.ac.uk to
 	sunsite.doc.ic.ac.uk

1999-01-09  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (toplevel): Remove requires so that the file compiles
	with a non LDAP-enabled XEmacs binary.  Provide `ldap'.

1999-01-10  J. Kean Johnston  <jkj@sco.com>

	* dump-paths.el: Calculate module-directory and set
	module-load-path to the load path for modules.

	* loadup.el: Get bootstrap value of module-load-path from the
	environment variable EMACSBOOTSTRAPMODULEPATH.
	- Display the module load path if we're debugging paths.

	* setup-paths.el: Added function paths-find-site-module-directory.
	- Added function paths-find-module-directory.
	- Added function paths-construct-module-load-path.  Uses new
	environment variable EMACSMODULEPATH.

1998-12-30  Martin Buchholz  <martin@xemacs.org>

	* font.el (font-default-object-for-device):
	Oops! This `or' can't be replaced by `unless'.
	Fixed inability to run w3, among other things.

1998-12-17  Charles G. Waldman <cgw@pgt.com>

	* package-admin.el: Change initialization of
	  package-admin-install-function dependent on system type.
	  Change package-admin-install-function-mswindows to use
	  "minitar".

1998-12-23  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (default-mouse-motion-handler): Disable help echo while
	in the minibuffer.

1998-12-28  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.8 is released.

1998-12-24  Martin Buchholz <martin@xemacs.org>

	* XEmacs 21.2.7 is released.

1998-12-07  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-ui.el (pui-list-packages): Set truncate-lines.

	* package-get.el (package-get-download-menu): Use
	`package-ui-add-site'. Add a a toggle to indicate it is in the list.

	* package-ui.el (pui-help): Ditch in favor of `describe-mode'
	(pui-help-string): idem.
	(list-packages-mode): New major mode.
	(pui-list-packages): Use 'list-packages-mode' in the package buffer.
	(pui-install-selected-packages): Add suport for removing packages.
	(pui-toggle-package-delete-key): New function.
	(pui-popup-context-sensitive): New kludge.
	(pui-list-packages): Add warning when `package-get-remote' is nil.
	(package-ui-add-site): New function.

1998-12-01  Didier Verna  <didier@xemacs.org>

	* hyper-apropos.el (hyper-where-is): added the missing autoload.

1998-11-29  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el: Custom-ized
	(toplevel): Do not provide `ldap' which is provided by C level
	LDAP code
	(ldap-search): Docstring and stylistic fixes as suggested by Hrvoje

1998-12-05  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-mode): Really fix keymap lossage.

1998-12-17  Andy Piper  <andy@xemacs.org>

	* sound.el (sound-load-list): name changed from sound-load-alist.
	(sound-extension-list): name changed from sound-ext-list.
	(load-default-sounds): use new names.
	(load-sound-file): use new names.

1998-12-16  Andy Piper  <andy@xemacs.org>

	* XEmacs 21.2.6 is released

1998-11-30  Hrvoje Niksic  <hniksic@srce.hr>

	* cus-dep.el (Custom-make-dependencies): Be smarter about trapping
	errors.

1998-12-04  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-echo-this-extent): Set
	help-echo-owns-message to t.

1998-11-30  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get-download-menu): use toggles for
	  each site in the download site menu.

1998-12-01  Jan Vroonhof <vroonhof@math.ethz.ch>

	* package-get.el (package-get): If we cannot find a package
	  because package-get-remote is not set, give a more helpful
	  error message.

1998-11-30  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get-remote-filename): use an EFS path
	with user anonymous if no user is specified.

1998-12-10  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* faces.el (face-spec-set): Re-init fallfacks for default after
	calling reset-face on the default face.

1998-12-10  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-admin.el (package-admin-default-install-function):
	Behave as advertised.  Make sure the pkg-dir is proper for
	default-directory.
	(package-admin-add-binary-package): Make sure the pkg-dir is
	proper for default-directory.
	(package-admin-install-function-mswindows): Make sure the pkg-dir
	is proper for default-directory.

1998-12-05  XEmacs Build Bot <builds@cvs.xemacs.org>

	* XEmacs 21.2.5 is released

1998-12-05  SL Baur  <steve@altair.xemacs.org>

	* files.el (binary-file-regexps): regexp-opt is not available at
	bytecompile time.

1998-11-30  Martin Buchholz  <martin@xemacs.org>

	* x-win-xfree86.el:
	* x-win-sun.el (x-win-init-sun):
	* x-win-sun.el:
	* x-mouse.el (mouse-track-and-copy-to-cutbuffer):
	* x-iso8859-1.el:
	* x-init.el (init-post-x-win):
	* x-init.el (init-pre-x-win):
	* x-init.el (x-initialize-compose):
	* x-init.el:
	* x-compose.el:
	* winnt.el:
	* widget.el:
	* wid-edit.el (widget-glyph-click):
	* wid-edit.el (widget-glyph-find):
	* wid-edit.el (widget-type):
	* view-less.el (view-buffer-other-window):
	* very-early-lisp.el:
	* version.el:
	* toolbar.el:
	* toolbar-items.el:
	* term/sun.el (suntool-map):
	* term/sun-mouse.el:
	* term/internal.el:
	* syntax.el (modify-syntax-entry):
	* symbol-syntax.el:
	* subr.el:
	* startup.el (lock-directory):
	* simple.el (set-comment-column):
	* simple.el (backward-delete-char-untabify):
	* shadow.el (find-emacs-lisp-shadows):
	* shadow.el:
	* setup-paths.el (paths-construct-info-path):
	* select.el (cut-copy-clear-internal):
	* process.el (call-process-region):
	* process.el (start-process-shell-command):
	* process.el:
	* paths.el (rmail-spool-directory):
	* paragraphs.el (use-hard-newlines):
	* package-get.el (package-get-dependencies):
	* package-admin.el (package-admin-delete-binary-package):
	* obsolete.el (truncate-string):
	* obsolete.el (store-substring):
	* mouse.el (default-mouse-track-maybe-own-selection):
	* mouse.el (mouse-yank-at-point):
	* modeline.el:
	* modeline.el (mouse-drag-modeline):
	* minibuf.el (read-directory-name-internal):
	* minibuf.el (read-file-name-internal):
	* minibuf.el (read-file-name-internal-1):
	* minibuf.el (read-file-name-2):
	* minibuf.el (exact-minibuffer-completion-p):
	* minibuf.el (read-from-minibuffer):
	* minibuf.el:
	* menubar.el (check-menu-syntax):
	* map-ynp.el (map-y-or-n-p):
	* make-docfile.el (docfile-out-of-date):
	* loadup.el ((member "run-temacs" command-line-args)):
	* loadup.el ((member "no-site-file" command-line-args)):
	* loadup.el (really-early-error-handler):
	* loadup.el:
	* loadhist.el:
	* loaddefs.el:
	* lisp-mnt.el (lm-verify):
	* lib-complete.el (lib-complete:cache-completions):
	* lib-complete.el (library-all-completions):
	* itimer.el (itimer-run-expired-timers):
	* info.el (Info-mode):
	* info.el (Info-insert-file-contents):
	* info.el (Info-rebuild-dir):
	* info.el (Info-build-dir-anew):
	* info.el (Info-parse-dir-entries):
	* info.el (Info-dir-outdated-p):
	* info.el (Info-insert-dir):
	* info.el (info-xref):
	* info.el:
	* hyper-apropos.el (hyper-apropos-get-doc):
	* hyper-apropos.el (hyper-describe-face):
	* hyper-apropos.el (hyper-apropos-mode):
	* hyper-apropos.el:
	* help.el (list-processes):
	* help.el:
	* gnuserv.el:
	* font.el (mswindows-font-create-name):
	* font.el (font-default-font-for-device):
	* font.el (x-font-create-object):
	* font.el (font-registry):
	* font.el:
	* font-lock.el (font-lock-keywords):
	* font-lock.el:
	* finder.el (finder-compile-keywords):
	* find-paths.el (paths-find-recursive-path):
	* fill.el (set-justification-center):
	* fill.el (fill-region-as-paragraph):
	* files.el (insert-directory):
	* files.el (wildcard-to-regexp):
	* files.el (recover-file):
	* files.el (basic-save-buffer):
	* files.el (delete-auto-save-file-if-necessary):
	* files.el (file-relative-name):
	* files.el (backup-extract-version):
	* files.el (backup-buffer):
	* files.el (set-visited-file-name):
	* files.el (set-auto-mode):
	* files.el (interpreter-mode-alist):
	* files.el:
	* files.el (find-file-noselect):
	* files.el (abbreviate-file-name):
	* files.el (parse-colon-path):
	* files.el (directory-abbrev-alist):
	* etags.el (visit-tags-table-buffer):
	* easymenu.el (easy-menu-define):
	* dragdrop.el (experimental-dragdrop-drag):
	* dragdrop.el (dragdrop-drop-do-functions):
	* dragdrop.el (dragdrop-drop-at-point):
	* disass.el (disassemble-1):
	* disass.el (disassemble-internal):
	* disass.el (disassemble):
	* disass.el:
	* derived.el (derived-mode-init-mode-variables):
	* derived.el (define-derived-mode):
	* custom.el (defgroup):
	* cus-edit.el (custom-quote):
	* config.el:
	* code-process.el (open-network-stream):
	* code-process.el (start-process):
	* code-process.el (call-process-region):
	* code-process.el (call-process):
	* code-process.el:
	* code-files.el (insert-file-contents):
	* code-files.el:
	* code-files.el (buffer-file-coding-system-for-read):
	* cmdloop.el (yes-or-no-p-minibuf):
	* cl.el:
	* cl-macs.el:
	* cl-extra.el:
	* callers-of-rpt.el (make-caller-report):
	* callers-of-rpt.el:
	* bytecomp.el (batch-byte-recompile-directory):
	* bytecomp.el (batch-byte-compile-1):
	* bytecomp.el (batch-byte-compile):
	* bytecomp.el (display-call-tree):
	* bytecomp.el (byte-compile-insert):
	* bytecomp.el (byte-compile-two-args-19->20):
	* bytecomp.el (byte-compile-variable-ref):
	* bytecomp.el (byte-compile-form):
	* bytecomp.el (byte-compile-top-level-body):
	* bytecomp.el (byte-compile-out-toplevel):
	* bytecomp.el (byte-compile-byte-code-maker):
	* bytecomp.el (byte-compile-file-form-defmumble):
	* bytecomp.el (byte-compile-file-form):
	* bytecomp.el (byte-compile-keep-pending):
	* bytecomp.el (byte-compile-insert-header):
	* bytecomp.el (byte-compile-from-buffer):
	* bytecomp.el (byte-compile-file):
	* bytecomp.el (byte-recompile-file):
	* bytecomp.el (byte-compile-close-variables):
	* bytecomp.el (byte-compile-warn-about-unused-variables):
	* bytecomp.el (byte-compile-warn-about-unresolved-functions):
	* bytecomp.el (byte-compiler-legal-options):
	* bytecomp.el (byte-compile-lapcode):
	* bytecomp.el (byte-optimize-log):
	* bytecomp.el ((fboundp 'defsubst)):
	* bytecomp.el:
	* bytecomp-runtime.el:
	* byte-optimize.el (byte-optimize-apply):
	* byte-optimize.el (car):
	* byte-optimize.el (byte-optimize-form):
	* byte-optimize.el (byte-optimize-form-code-walker):
	* byte-optimize.el:
	* build-report.el (build-report-insert-installation-file):
	* build-report.el (build-report):
	* auto-show.el:
	* apropos.el (apropos-documentation):
	- mega patch
	- clean up byte-compile warnings
	- remove unused variables
	- Use common lisp style hashtable functions
	- byte compiler cleanup
	- use #'(lambda ...) instead of '(lambda ...) or (function (lambda ...))
	- remove old backquote syntax usage
	- move some cl functionality into C for speed.
	- remove last remaining VMS support
	- spelling fixes
	- implement last, butlast, nbutlast, copy-list in C.
	- new macro ignore-file-errors, similar to ignore-errors
	  (ignore-file-errors (delete-file "foo"))
	- get frequent garbage collection during loadup.el by tweaking
	  gc-cons-threshold, rather than explicitly calling garbage-collect
	- default delete-key-deletes-forward to `t'.

1998-11-28  SL Baur  <steve@altair.xemacs.org>

	* XEmacs 21.2-beta4 is released.

1998-11-27  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* easymenu.el (easy-menu-add-item): Wraper around add-menu-btton.
	(easy-menu-item-present-p): Wrapper around find-menu-item.
	(easy-menu-remove-item): Wrapper around delete-menu-item.

	* menubar.el (delete-menu-item): Add 'from-menu' argument.
	(add-menu-button): Add 'in-menu' argument.
	(add-menu-item-1): Add in-menu support to helper function.

1998-11-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* isearch-mode.el (isearch-mode): Fix keymap lossage.

1998-11-26  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* faces.el (get-custom-frame-properties): Revert Hrvoje Niksic change
	of Dec 4, 1997.

1998-11-25  Hrvoje Niksic  <hniksic@srce.hr>

	* process.el (shell-command-on-region): Report if the command
	succeeded or failed.

1998-11-24  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (buffer-substring-no-properties): Comment out.

1998-11-07  Adrian Aichner  <adrian@xemacs.org>

	* msw-faces.el (mswindows-find-smaller-font): Turning font names
	  into font instances first, like `x-frob-font-size' does.
	  (mswindows-find-larger-font): ditto

1998-11-04  Greg Klanderman  <greg@alphatech.com>

	* package-ui.el (pui-install-selected-packages): fix args in call
	to `package-get'.

1998-10-29  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-get.el (host-name): New widget type.
	(package-get-remote): Better customization using new type.
	(package-get-download-sites): idem dito.

	(package-get-custom): Do not use package-get-all untill we have
	runtime dependencies.

	(package-get-remove-copy): Default to 't' we no longer need this
	kludge as we do not currently use depenencies.

	(package-get-was-current): New variable.
	(package-get-require-base): New 'force-current' argument.
	(package-get-update-base): idem
	(package-get-package-provider):  idem
	(package-get-locate-index-file): New 'no-remote' argument.
	(package-get-locate-file): idem.

	(package-get-maybe-save-index): New function.
	(package-get-update-base): Use it.

1998-10-28 Greg Klanderman <greg@alphatech.com>

	* package-get.el (package-get-remote): default to nil; by default,
	don't go out to the net via EFS.  They must select a download site.
	(package-get-download-sites): new variable.
	(package-get-download-menu): new function.
	(package-get-locate-index-file): new function.
	(package-get-update-base): use it.

	* menubar-items.el (default-menubar): add "Update Package Index"
	and "Add Download Site" menus under Options | Manage Packages.

1998-10-19  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get): bugfix code checking installed version
	for case where package is not currently installed.
	(package-get-require-signed-base-updates): new variable.
	(package-get-update-base-from-buffer): remove REMOTE-SOURCE arg, it was
	deemed not a goot thing.  Use the variable
	package-get-allow-unsigned-base-updates instead.

1998-10-16 Greg Klanderman <greg@alphatech.com>

	* package-get.el (package-get): Don't install an older version than
	we already have unless explicitly told to.  Issue a warning.

	* package-ui.el (pui-add-required-packages): when adding
	dependencies, don't add packages that are up to date.
	(pui-package-symbol-char):  Don't consider a package out of date
	if you have a newer version installed than the latest version in
	package-get-base.

	* package-get.el (package-get-base-filename): document that it may
	be a path relative to package-get-remote;  new default value.
	(package-get-locate-file): new function.
	(package-get-update-base): use it to expand package-get-base-filename.
	(package-get-save-base): new function to save the package-get database
	to file.
	(package-get-update-base-from-buffer): add REMOTE-SOURCE argument.
	(package-get-update-base): pass the REMOTE-SOURCE arg.
	(package-get-update-base-entry): call package-get-custom-add-entry.
	(package-get-file-installed-p): removed; no longer needed.
	(package-get-create-custom): ditto.
	(toplevel): remove code to build and load package-get-custom.el
	(package-get-custom-add-entry): new function.

1998-10-12  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-button-click): Don't switch window.

1998-10-22  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* cus-face.el (custom-set-face-update-spec): Add autoload cookie

1998-10-20  Malcolm Box  <malcolm@brownale.demon.co.uk>

	* etags.el (find-tag-default): Run find-tag-hook using
	run-hooks rather than funcall

1998-10-19  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-mode): Set the current minor mode maps
	and the current local map as the parents to isearch-mode-map.

1998-10-15  SL Baur  <steve@altair.xemacs.org>

	* XEmacs 21.2-beta3 is released.

1998-10-15  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get-update-base): use
	insert-file-contents-internal, not insert-file-contents-literally.

1998-10-14  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* auto-save.el: expand-file 'auto-save-*-dir' at runtime not at
	dump time.

1998-10-15  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get-update-base-entry): new function.
	(package-get-update-base): renamed; was `package-get-load-base'.
	cleanup, and use package-get-update-base-from-buffer.
	(package-get-update-base-from-buffer): new function.
	(package-get-update-base-entries): new; helper for above.
	Do not eval lisp grabbed over ftp; parse it from new format.

1998-10-15  Greg Klanderman  <greg@alphatech.com>

	* files.el (set-auto-mode): Don't play games loading package-get
	database; package-get-package-provider will handle it all.

1998-10-14  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get-base-filename): new variable.
	(package-get-require-base): new function.
	(package-get-pgp-signed-begin-line): new variable.
	(package-get-pgp-signature-begin-line): ditto.
	(package-get-pgp-signature-end-line):  ditto.
	(package-get-load-base): new function.
	(package-get-interactive-package-query):
	(package-get-update-all):
	(package-get-dependencies):
	(package-get-package-provider):
	(package-get-custom): use package-get-require-base.
	[package-get-custom loading]: disable for now.

	* package-ui.el (pui-list-packages): use (package-get-require-base)

1998-10-14  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-ui.el: Correct obvious thinko in choosing extent face.

1998-10-12  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* menubar-items.el (default-menubar): pui-list-package has nothing
	to with Customize. Move all the package stuff to a new Item in Options.

	* package-ui.el (pui-menu): Add menu and Popup menu.

	* package-get.el (package-get): Use new
	package-admin-get-install-dir.

	* package-admin.el (package-admin-get-install-dir): New syntax.
	Conserve package location and put mule packages where mule-base is.

	* package-get.el : Customized

	* package-ui.el (pui): Customized
	(pui-package-install-dest-dir): New variable.
	(pui-install-selected-packages): Use it

1998-10-12  SL Baur  <steve@altair.xemacs.org>

	* package-get.el (package-get-interactive-package-query): Move
	dependency on package-get-base to run-time.
	(package-get-update-all): Ditto.
	(package-get-dependencies): Ditto.
	(package-get-package-provider): Ditto.
	(package-get-custom): Ditto.

1998-10-11  Glynn Clements  <glynn@sensei.co.uk>

	* events.el: Remove 'ascii-character property from 'backspace
	and 'delete symbols

1998-10-11  SL Baur  <steve@altair.xemacs.org>

	* package-get-base.el: removed.

1998-09-23  Didier Verna  <didier@xemacs.org>

	* simple.el (search-caps-disable-folding): moved from isearch-mode.el
	(no-upper-case-p): new function.
	(with-search-caps-disable-folding): new macro.
	(with-interactive-search-caps-disable-folding): new macro.
	(zap-to-char): In interactive mode, do a case-sensitive search if
	the character is uppercase.
	(zap-up-to-char): ditto.

	* replace.el (perform-replace): use the function no-upper-case-p.

	* isearch-mode.el (isearch-fix-case): ditto.
	make obsolete `with-caps-disable-folding' and
	`isearch-no-upper-case-p'.

	* etags.el (find-tag-internal): use `with-search-caps-disable-folding'.
	(tags-search): ditto.
	(tags-query-replace): ditto.

	* info.el (Info-search): ditto.

1998-10-07  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* x-font-menu.el (font-menu-set-font): Respect font-menu-frame-local

1998-10-07  Greg Klanderman  <greg@alphatech.com>

	* package-admin.el (package-admin-rmtree): rewritten.  need to
	check for "." and ".." before symlink check.  expand files and
	directories with respect to DIRECTORY, not default-directory.

1998-10-04  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get-all): add INSTALL-DIR argument.

1998-10-06  Greg Klanderman  <greg@alphatech.com>

	* package-ui.el (pui-add-required-packages): new function, select
	dependent packages.
	(pui-display-keymap): bind it.
	(pui-help-string): document it.
	(pui-install-selected-packages): package-get-all -> package-get.

	* package-get.el (package-get-dependencies): new function.

1998-10-04  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-done): Use regexp-search-ring-max for
	regexps.

1998-10-05  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (default-mouse-track-point-at-opening-quote-p): New
	function.
	(default-mouse-track-normalize-point): Use it.

1998-09-30  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-admin.el (package-admin-delete-binary-package):
		General cleanup. Remove unnessary use of progn and
	save-excursion.
	(package-admin-delete-binary-package): Do NOT mess with file
	modes. That is evil.
	(package-admin-delete-binary-package): Wrap all deleting in
	condition-case. The data in MANIFEST is untrustworthy.
	(package-admin-delete-binary-package): Let the OS worry about non
	empty directories.

1998-10-09  SL Baur  <steve@altair.xemacs.org>

	* lisp-mnt.el (lm-commentary): Fix InfoDock-style comment
	processing.
	(lm-report-bug): Fix mail address to send bug reports to.

1998-09-29  SL Baur  <steve@altair.xemacs.org>

	* XEmacs 21.2-beta2 is released.

1998-08-14  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* files.el (auto-mode-alist): Enhanced regexp for perl-mode

1998-09-22  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* info.el (Info-mode): Document page turning by double clicks in
	docstring so `M-x describe-mode' will display it.

1998-09-20  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* info.el (Info-mouse-track-double-click-hook): Use character
	widths to calculate a border region where double clicking does
	page turning, and return `nil' by default so other hooks, such as
	region highlighting, will be run.

1998-09-29  Colin Rafferty   <colin@xemacs.org>

	* sound.el (default-sound-directory-list): Initialize with all the
	"sounds" directories in `data-directory-list'.  It used to just be
	the first one.

	* packages.el (locate-data-directory-list): Created.  This gives
	the list of matching directories, unlike `locate-data-directory',
	which just gives the first one.

1998-09-26  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* minibuf.el (read-from-minibuffer): No longer bind help-form but
	make a binding in the local keymap until help-char handling is
	improved.

	* help.el (help-keymap-with-help-key): Provide keymap with help
	binding.
	(help-print-help-form): New helper function.

1998-09-23  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-highlight): set-extent-endpoints can
	move extent to another buffer; no need to create a new extent.
	(isearch-fix-case): New function.
	(isearch-search-and-update): Use it.

1998-09-22  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-mode): Use overriding-local-map to set
	the keymap, not minor-mode-map-alist.
	(isearch-done): Restore overriding-local-map.

1998-09-21  Martin Buchholz  <martin@xemacs.org>

	* bytecomp.el (byte-compile-buffer-substring):
	Fix for: (byte-compile (defun f () (buffer-substring)))
	==>   ** buffer-substring called with 3 args, but requires 0-3
	- new code not only works, but is more readable, too.

1998-09-20  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* msw-faces.el (mswindows-init-device-faces): Don't try to
	  specify a default font at this late stage. Do try to force
	  creation of the default face font so that if it fails we get
	  an error now instead of a crash at frame creation.

	  mswindows-font-canonicalize-name, mswindows-make-font-unbold,
	  mswindows-make-font-unitalic: Canonical default weight
	  changed from "Normal" to "Regular".

	  mswindows-make-font-bold / -bold-italic: Supplied device was
	  not being passed into call to mswindows-find-smaller-font.

1998-09-10  Björn Torkelsson  <torkel@hpc2n.umu.se>

	* package-get.el (package-get-remote): Fix the path where to find
	  the packages on xemacs.org.

1998-09-08  Hrvoje Niksic  <hniksic@srce.hr>

	* about.el (about-maintainer-info): Update Ben's entry.

1998-09-24  Martin Buchholz  <martin@xemacs.org>

	* lisp/shadow.el (find-emacs-lisp-shadows):
	- `member' was being called on lists of length 2000!
	- Replace with hashtables.
	- Replace hand-coded loops with (dolist)
	- Fix comment typo

1998-09-20  Darryl Okahata  <darrylo@sr.hp.com>

	* packages.el: Added new function, `package-delete-name', to
	  delete existing packages from the installed package database
 	  (`packages-package-list').  Also added the "pkginfo" directory
 	  to `packages-special-base-regexp', so that the pkginfo directory
 	  would not get added to `late-packages'.

	* package-admin.el: Added ability to delete an installed package
	  (added low-level function, `package-admin-delete-package').
  	  Understands how to use the pkginfo/MANIFEST.<package> file to
 	  delete the package.  When installing a package, will also
 	  create a MANIFEST.* file if one is not provided by the
 	  package.  If the MANIFEST.* doesn't exist when deleting a
 	  package, the functions will fall back to attempting to delete
 	  any package-specific lisp directory.

	* package-get.el: Moved some functions to package-admin.el.
	  Added interactive function `package-get-delete-package', for
	  use by users for deleting a package.

	  Also modified to not require the presence of efs.

1998-09-22  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (find-file-noselect): Handle all signals, kill the
	buffer and resignal.

1998-09-23  SL Baur  <steve@altair.xemacs.org>

	* cl-macs.el (glyph-image): Add setf method.

1998-09-06  Darryl Okahata  <darrylo@sr.hp.com>

	* package-get.el: Fixed broken EFS downloading.  Also, look for
	  .tar.gz files first, in preference over .tgz files.

	* package-ui.el: Fix display of package version numbers.

1998-08-27  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* x-font-menu.el (font-menu-set-font):  Add "pt" units to size
	argument.

1998-09-03  Darryl Okahata  <darrylo@sr.hp.com>

	* list-mode.el: `display-completion-list': added new/optional
	  keyword `:completion-string', which allows the programmer to
	  change the "Possible completions are:" prompt.

	* menubar-items.el: Added new pulldown menu-pick to start up the
	  visual package browser/installer:

		Options->Customize->List Packages

	* package-admin.el: Added hooks for installing under both Unix
	  and MS Windows.  Does additional error checking.  No longer
	  calls "add-big-package.sh" to install packages under Unix; now
	  calls gunzip & tar directly.

	* package-get.el: Added ability to install packages from files
	  on a local disk/CDROM.  Now deletes any existing package lisp
	  directory.  Does completion on available packages when
	  querying for package names.  Will also search for .tgz files
	  in addition for .tar.gz files.  Tries to reload
	  auto-autoloads, as a convenience when loading new packages,
	  and also tries to add any new package paths to `load-path'.
 	  Changed all occurences of `concat' to use `expand-file-name'.

	* package-ui.el: New file which implements the main visual
	  package browser/installer, which is started via a menu pick or
	  M-x pui-list packages.

1998-09-03  Hrvoje Niksic  <hniksic@srce.hr>

	* startup.el (load-init-file): spelling fix.

1998-09-02  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* startup.el (normal-top-level): Load auto-autoload files
	covariantly with their precedence.

1998-08-26  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* menubar-items.el (default-menubar): Remove "Font Weight"
	option, there is currently no custom equivalent.. Customize-faces
	is "Edit faces".

	* x-font-menu.el (font-menu-set-font): Use customize to set
	default face.

	* faces.el (face-spec-update-all-matching): New function.

	* cus-face.el (custom-set-face-update-spec): New function.
	Interface to customize faces from elisp.

	(custom-face-value-create): Show the customized settings if set
	but not saved.

1998-08-26  Jan Vroonhof  <vroonhof@math.ethz.ch>

	(custom-face-value-create): Show the customized settings if set
	but not saved.

1998-08-31  Hrvoje Niksic  <hniksic@srce.hr>

	* keydefs.el (global-map): Add FSF 20.3 binding of
	query-replace-regexp.

1998-08-21  Greg Klanderman  <greg@alphatech.com>

	* minibuf.el (read-file-name-internal-1): use
	user-name-completion-1 instead of user-name-completion.

1998-08-19  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* loadup.el:
	* make-docfile.el:
	* update-elc.el: Don't set `source-directory' (now defunct as a
	global variable) no more.

	* packages.el (packages-list-autoloads): Made `source-directory'
	(now defunct as a global variable) a parameter.

1998-08-13  Carsten Leonhardt  <leo@arioch.oche.de>

	* about.el (about-hackers): new email

1998-08-16  SL Baur  <steve@altair.xemacs.org>

	* lisp-mode.el (with-string-as-buffer-contents): Set indentation.

1998-07-17  Didier Verna  <didier@xemacs.org>

	* faces.el (set-face-property):
	(set-face-dim-p):
	(face-dim-p): updated the doc strings now that the dim property isn't
	tty-specific.
	(face-equal): the dim property is now a common one.

	* cus-face.el (custom-face-attributes): New face attribute: `dim'
	Renamed the `stipple' attribute to `background-pixmap'.
	(custom-face-background-pixmap): make custom-face-stipple an
	obsolete alias for this.

1998-08-11  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* find-paths.el (paths-file-readable-directory-p): Created and
	used.

	* loadup.el: Don't set inhibit-... flags from run-temacs.

1998-08-06  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-data-path-depth): Added and used.

1998-08-05  Charles G. Waldman <cgw@pgt.com>

	* about.el:
	- Change .xpm to .png, delete "zcat" section.
	- cosmetic fix in the 'marcpa' entry.

	* etc/photos
	- convert all .xpm.Z to .png
	- rename mrb to martin
	- rename mcook-m to mcookm

1998-07-31  Martin Buchholz  <martin@xemacs.org>

	* x-init.el (x-initialize-compose): Add support for
	dead-circumflex as YET ANOTHER NAME for that dead key.

1998-08-05  Colin Rafferty <colin@xemacs.org>

	* setup-paths.el (paths-construct-exec-path): Made the
	last-packages really be last.
	(paths-construct-data-directory-list): Ditto.

1998-08-01  Kai Haberzettl  <khaberz@synnet.de>

	* startup.el(startup-splash-frame-body):
	Update Copyright notice in splash screen

1998-07-20  Greg Klanderman  <greg@alphatech.com>

	* minibuf.el (read-file-name-internal-1): do ~user completion.

1998-07-22  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* font-lock.el (font-lock-fontify-glumped-region): Add guard
	aginst destroyed extents

1998-07-24  Greg Klanderman  <greg@alphatech.com>

	* package-get.el (package-get): add `install-dir' argument.

1998-07-20  John Jones  <jj@asu.edu>

	* package-get.el: calls to package-get-update-all will only
	  update packages which are already installed.

1998-07-23  SL Baur  <steve@altair.xemacs.org>

	* autoload.el (update-file-autoloads): Ensure autoloads buffer is
	writable.

1998-07-20  Colin Rafferty   <colin@xemacs.org>

	* about.el (about-hackers): Correct my email.

1998-07-20  Kai Haberzettl  <khaberz@synnet.de>

	* about.el (about-hackers): new email-address.

1998-07-25  SL Baur  <steve@altair.xemacs.org>

	* minibuf.el (read-number): Don't let `input-error' condition
	escape.

1998-07-20  Greg Klanderman  <greg@alphatech.com>

	* about.el (about-hackers): use my `email-for-life' address.

1998-07-19  SL Baur  <steve@altair.xemacs.org>

	* XEmacs 21.2-beta1 is released.

1998-07-12  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-search): Doc string change

1998-07-16  Colin Rafferty   <colin@xemacs.org>

	* menubar-items.el (default-menubar): Removed references to
	`data-directory', and use `locate-data-file' instead, and made
	then greyed out if they don't exist.

1998-07-14  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* keymap.el (events-to-keys): Use `format' instead of `concat'
	since the latter does not accept integer args anymore

1998-07-15  SL Baur  <steve@altair.xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Usage of Lisp read-time
	macros replaced.

1998-07-14  SL Baur  <steve@altair.xemacs.org>

	* make-docfile.el: Get first initialization from very-early-lisp.el
	* update-elc.el: Ditto.
	* loadup.el (really-early-error-handler): Ditto.

	* packages.el (packages-unbytecompiled-lisp): Add new file,
	very-early-lisp.el.

	* very-early-lisp.el: New file.

1998-07-14  SL Baur  <steve@altair.xemacs.org>

	* Symbols that have been obsolete for at least 3 years removed (II).

	* obsolete.el (eval-current-buffer): Make compatible.
	(byte-code-function-p): Ditto.
	(send-string): Removed.
	(send-region): Removed.
	(screen-scrollbar-width): Removed.
	(set-screen-scrollbar-width): Removed.
	(set-screen-left-margin-width): Removed.
	(set-screen-right-margin-width): Removed.
	(screen-left-margin-width): Removed.
	(screen-right-margin-width): Removed.
	(set-buffer-left-margin-width): Removed.
	(set-buffer-right-margin-width): Removed.
	(buffer-left-margin-width): Removed.
	(buffer-right-margin-width): Removed.
	(x-set-frame-icon-pixmap): Removed.
	(x-set-screen-icon-pixmap): Removed.
	(pixel-name): Removed.
	(make-pixmap): Removed.
	(make-cursor): Removed.
	(pixmap-width): Removed.
	(pixmap-contributes-to-line-height-p): Removed.
	(set-pixmap-contributes-to-line-height): Removed.

1998-07-13  SL Baur  <steve@altair.xemacs.org>

	* obsolete.el (popup-menu-up-p): removed.
	(read-no-blanks-input): Removed.
	(wholenump): Removed.
	(ring-mod): Removed (what was ring-mod?).
	(current-time-seconds): Removed.
	(run-special-hook-with-args): Removed.
	(dot): Removed.
	(dot-marker): Removed.
	(dot-min): Removed.
	(dot-max): Removed.
	(window-dot): Removed.
	(set-window-dot): Removed.

	* bytecomp.el: Remove bytecompiler support for `dot', `dot-max' and
	`dot-min'.

	* minibuf.el: (read-no-blanks-input): remove commented-out copy.

	* code-files.el (insert-file-contents): Rename
	run-special-hook-with-args to run-hook-with-args-until-success.
	(write-region): Ditto.

1998-07-12  SL Baur  <steve@altair.xemacs.org>

	* about.el: Fix typos, update release date.

	* Symbols that have been obsolete for at least 3 years removed.

	* cl-macs.el (cl-parse-loop-clause): Delete obsolete references to
	screen- functions.
	(toplevel): remove setf methods for screen functions.
	* cl-macs.el (extent-data): defsetf removed.
	* obsolete.el (lisp-indent-hook): Make compatible, it's used too
	many places to remove.
	(comment-indent-hook): Ditto.
	* obsolete.el (get-screen-for-buffer-default-screen-name): Remove.
	(buffer-dedicated-screen): Ditto.
	(deiconify-screen): Ditto.
	(delete-screen): Ditto.
	(event-screen): Ditto.
	(find-file-other-screen): Ditto.
	(find-file-read-only-other-screen): Ditto.
	(live-screen-p): Ditto.
	(screen-height): Ditto.
	(screen-iconified-p): Ditto.
	(screen-list): Ditto.
	(screen-live-p): Ditto.
	(screen-name): Ditto.
	(screen-parameters): Ditto.
	(screen-pixel-height): Ditto.
	(screen-pixel-width): Ditto.
	(screen-root-window): Ditto.
	(screen-selected-window): Ditto.
	(screen-totally-visible-p): Ditto.
	(screen-visible-p): Ditto.
	(screen-width): Ditto.
	(screenp): Ditto.
	(get-screen-for-buffer): Ditto.
	(get-screen-for-buffer-noselect): Ditto.
	(get-other-screen): Ditto.
	(iconify-screen): Ditto.
	(lower-screen): Ditto.
	(mail-other-screen): Ditto.
	(make-screen): Ditto.
	(make-screen-invisible): Ditto.
	(make-screen-visible): Ditto.
	(modify-screen-parameters): Ditto.
	(new-screen): Ditto.
	(next-screen): Ditto.
	(next-multiscreen-window): Ditto.
	(other-screen): Ditto.
	(previous-screen): Ditto.
	(previous-multiscreen-window): Ditto.
	(raise-screen): Ditto.
	(redraw-screen): Ditto.
	(select-screen): Ditto.
	(selected-screen): Ditto.
	(set-buffer-dedicated-screen): Ditto.
	(set-screen-height): Ditto.
	(set-screen-position): Ditto.
	(set-screen-size): Ditto.
	(set-screen-width): Ditto.
	(show-temp-buffer-in-current-screen): Ditto.
	(switch-to-buffer-other-screen): Ditto.
	(visible-screen-list): Ditto.
	(window-screen): Ditto.
	(x-set-screen-pointer): Ditto.
	(x-set-frame-pointer): Ditto.
	(screen-title-format): Ditto.
	(screen-icon-title-format): Ditto.
	(terminal-screen): Ditto.
	(delete-screen-hook): Ditto.
	(create-screen-hook): Ditto.
	(mouse-enter-screen-hook): Ditto.
	(mouse-leave-screen-hook): Ditto.
	(map-screen-hook): Ditto.
	(unmap-screen-hook): Ditto.
	(default-screen-alist): Ditto.
	(default-screen-name): Ditto.
	(x-screen-defaults): Ditto.
	(x-create-screen): Ditto.
	* obsolete.el: meta-flag removed.
	baud-rate removed.
	sleep-for-millisecs removed.
	extent-data removed.
	set-extent-data removed.
	set-extent-attribute removed.
	extent-glyph removed.
	extent-layout removed.
	set-extent-layout removed.
	list-faces-display removed.
	list-faces removed.
	trim-versions-without-asking removed.
	after-write-file-hooks removed.
	truename removed.
	auto-fill-hook removed.
	blink-paren-hook removed.
	select-screen-hook, deselect-screen-hook removed.
	auto-raise-screen, auto-lower-screen removed.

	* msw-mouse.el: Global change resource -> mswindows-resource.

	* XEmacs 21.0-pre5 is released.

1998-07-11  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Credits update.

1998-07-11  Hrvoje Niksic  <hniksic@srce.hr>

	* register.el (insert-register): Don't activate the region.

1998-07-10  SL Baur  <steve@altair.xemacs.org>

	* select.el: Restore x-* symbols for backwards compatibility:
	x-copy-primary-selection, x-kill-primary-selection,
	x-delete-primary-selection, x-select-make-extent-for-selection,
	x-valid-simple-selection-, x-cut-copy-clear-internal.

1998-07-09  SL Baur  <steve@altair.xemacs.org>

	* XEmacs 21.0-pre4 is released.

1998-06-28  Hrvoje Niksic  <hniksic@srce.hr>

	* menubar-items.el (default-menubar): Use `report-emacs-bug' for
	reporting bugs.
	(maybe-add-init-button): Fix semantics under Windows.  Use
	`expand-file-name' rather than `concat'.

	* help.el (print-messages): New function.

1998-07-05  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-host-parameters-alist): Docstring fixes

1998-07-04  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* about.el: Tweaked my entry in about-hackers.

	* find-paths.el (paths-emacs-root-p):
	  Relaxed emacs-root checking of an in-place installation to
	  also accommodate the flat layout used on MS Windows.

1998-06-29  John Jones  <jj@asu.edu>

	* package-get.el: calls to package-get-update-all will only
	  update packages which are already installed.

1998-07-05  Andy Piper  <andyp@parallax.co.uk>

	* faces.el (xpm-color-symbols): remove hardcoded defaults these
 	are handled by the gui-element face fallbacks now.

	* x-faces.el: default gui-element face to "background" as well as
 	the default face.

	* msw-faces.el (mswindows-init-device-faces): remove gui-element
 	and default face settings since these are set as fallbacks now in
 	the appropriate domain.

1998-07-02  SL Baur  <steve@altair.xemacs.org>

	* text-mode.el (text-mode): Reorder regexp so the OR part
	corresponding to `page-delim' goes first and the hack in
	`forward-paragraph' will work.
	With bug analysis from Bob Weiner <weiner@altrasoft.com>

1998-06-29  Kyle Jones  <kyle_jones@wonderworks.com>

	* subr.el (remove-hook): When checking the hook value
	  with functionp, don't apply car to it.

1998-06-24  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* package-get.el (package-get-remote-filename):
	  Don't use file-name-as-directory because the local directory
	  separator conventions might not be the same as ftp's.

1998-06-27  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-host-parameters-alist): New name of
	`ldap-host-parameters-plist'

1998-06-26  Adrian Aichner  <adrian@xemacs.org>

	* package-get.el: Using (require 'package-get-base), now that it
	provides itself.  Consequently removed all instances of (load
	"package-get-base.el").

1998-06-29  Kyle Jones  <kyle_jones@wonderworks.com>

	* subr.el (remove-hook): Don't treat the hook value as a
	  list unless it is both consp and not functionp.

1998-06-29  SL Baur  <steve@altair.xemacs.org>

	* about.el: Email address for Ben Wing is ben@xemacs.org.
	* auto-show.el: Ditto.
	* bytecomp.el: Ditto.
	* faces.el: Ditto.
	* x-scrollbar.el: Ditto.
	* x-misc.el: Ditto.
	* tty-init.el: Ditto.
	* toolbar-items.el: Ditto.
	* symbol-syntax.el: Ditto.
	* specifier.el: Ditto.
	* objects.el: Ditto.
	* hyper-apropos.el: Ditto.
	* glyphs.el: Ditto.

1998-06-27  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (drag-window-divider): vertical-divider-draggable-p ->
	vertical-divider-always-visible-p.
	(default-mouse-motion-handler): Ditto.

1998-06-21  Hrvoje Niksic  <hniksic@srce.hr>

	* scrollbar.el (scrollbars-visible-p): Simplify.  Always set the
	global value.

1998-06-21  Oliver Graf <ograf@fga.de>

	* build-reports.el: changed receiver to xemacs-build-reports list

1998-06-19  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* font.el: Split font-family-mappings into X and
	  mswindows-specific versions.
	  mswindows-font-create-[object|name]: Treat supplied size
	  as a pointsize. Added underline and strikethru handling.

	* msw-faces.el: changed default mswindows charset to western.

	* msw-glyphs.el: removed space in border-glyph font string that
	  was inserted to get round bugs in the mswindows C font code.

1998-06-27  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Credits update.

	* help-nomule.el (tutorial-supported-languages): Add Romanian
	TUTORIAL.

	* code-files.el (file-coding-system-alist): Hardwire TUTORIAL.ro
	to ISO-8859-2.

1998-06-19  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* font.el: Split font-family-mappings into X and
	  mswindows-specific versions.
	  mswindows-font-create-[object|name]: Treat supplied size
	  as a pointsize. Added underline and strikethru handling.

	* msw-faces.el: changed default mswindows charset to western.

	* msw-glyphs.el: removed space in border-glyph font string that
	  was inserted to get round bugs in the mswindows C font code.

1998-06-15  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* minibuf.el: make read-color-completion-table call
	  (mswindows-color-list for mswindows devices.

1998-06-18  Sam Mikes  <smikes@alumni.hmc.edu>

	* lisp/font-lock.el
	(font-lock-match-c++-style-declaration-item-and-skip-to-next):
	Let declaration items contain non-word symbol characters.

1998-06-15  Adrian Aichner  <adrian@xemacs.org>

	* package-get.el (package-get-package-provider): Added autoload
	cookie.  Loading "package-get-base.el" in ALL functions that use
	it.  Fixed some (interactive ...) with multiple argument specs
	again.  Cosmetic indentation changes.

1998-05-27  Glynn Clements  <glynn@sensei.co.uk>

	* info.el (Info-insert-dir): Don't use nreverse on variables
	that you want to use later.

1998-06-17  Glynn Clements  <glynn@sensei.co.uk>

	* x-mouse.el (x-set-point-and-move-selection): Replace call
	to x-kill-primary-selection with kill-primary-selection

1998-06-12  Martin Buchholz  <martin@xemacs.org>

	* simple.el (what-cursor-position): Make cursor position reported
	use value of column-number-start-at-one

1998-06-17  SL Baur  <steve@altair.xemacs.org>

	* about.el (xemacs-hackers): Fix Jareth's email address.

1998-06-16  SL Baur  <steve@altair.xemacs.org>

	* startup.el (startup-splash-frame): Remove
	`xemacs-startup-logo-function'.

1998-06-15  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Update credits list.

1998-06-06  Jeff Miller <jmiller@smart.net>

	* lisp/sound.el: Update sound-ext to allow filenames with
	  extensions to be found by load-sound-file

1998-06-14  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* info.el (Info-rebuild-outdated-dir): Removed variable
	(Info-auto-generate-directory): New variable
	(Info-save-auto-generated-dir): New variable
	(Info-maybe-update-dir): Use `Info-auto-generate-directory'
	(Info-build-dir-anew): Second parameter removed.  Use
	`Info-save-auto-generated-dir'
	(Info-rebuild-dir): Ditto

1998-06-02  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* list-mode.el (next-list-mode-item): Would not recognize
	border between directly neighbored items.

1998-06-12  Andy Piper  <andyp@parallax.co.uk>

	* package-get.el: add autoloads for some functions.

1998-06-10  Hrvoje Niksic  <hniksic@srce.hr>

	* specifier.el (let-specifier): Tiny docfixes.

1998-06-12  Andy Piper  <andyp@parallax.co.uk>

	* msw-mouse.el: set selection-pointer-glyph to Normal.

1998-06-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* wid-edit.el (widget-specify-secret): New function.
	(widget-after-change): Use it.
	(widget-specify-field): Use it.

1998-06-08  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (drag-window-divider): Use `(not done)' instead of
	`doit'; reuse result of `window-pixel-edges'.

	* modeline.el (drag-modeline-event-lag): Rename to
	drag-divider-event-lag.

1998-06-07  Hrvoje Niksic  <hniksic@srce.hr>

	* specifier.el (let-specifier): Rewritten not to generate needless
	`let's; clarified documentation; support TAG-SET and HOW-TO-ADD
	arguments.

1998-05-28  Hrvoje Niksic  <hniksic@srce.hr>

	* minibuf.el (read-file-name-1): Setup buffer-local value of
	`completion-ignore-case' in completions buffer under Windows.

1998-06-06  Kirill M. Katsnelson  <kkm@kis.ru>

	* about.el (about-maintainer-glyph): Fix support for not
	compressed images.

1998-06-04  Kirill M. Katsnelson  <kkm@kis.ru>

	* cmdloop.el (cancel-mode-internal): Defined this do-nothing function.

	* mouse.el (mouse-track): Cancel selection if misc-user event with
	`cancel-mode-internal' function is fetched.

1998-06-03  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (save-some-buffers-1): Fixed return value.

1998-06-01  Oliver Graf <ograf@fga.de>

	* dragdrop.el: added experimental

1998-05-26  Stephen J. Turnbull  <turnbull@sk.tsukuba.ac.jp>

	* startup.el (after-init-hook, init-file-user,
	user-init-directory, load-user-init-file):  Purge references
	to "~/.xemacs/init.el" from docstrings.

	(load-user-init-file) Use paths-construct-path to construct
	paths to user init files.  Go directly to ~/.emacs, do not
	search ~/.xemacs/, do not load `default-custom-file'.

1998-06-03  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (interpreter-mode-alist): Catch wish and tclsh before
	general	*sh.
	(inhibit-first-line-modes-regexps): Added `.tar.gz'.

1998-06-03  Andy Piper  <andyp@parallax.co.uk>

	* menubar-items.el (default-menubar): add Update Packages to customize
	menu.

1998-06-02  Andy Piper  <andyp@parallax.co.uk>

	* faces.el: use toolbar face as a fallback for toolbar properties
	in xpm-color-symbols instead of default.

	* msw-faces.el: rename 3d-object -> gui-element face.

1998-06-06  SL Baur  <steve@altair.xemacs.org>

	* startup.el (xemacs-startup-logo-function): New variable.
	(startup-splash-frame): Use it.

1998-06-02  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (save-some-buffers): Would wait 1 second.
	(save-some-buffers-1): Delete other windows here instead of in
	`save-some-buffers'.
	(save-some-buffers): Force redisplay only if windows were deleted.

1998-06-02  Didier Verna  <didier@xemacs.org>

	* cus-face.el (custom-face-attributes): generalized the use of
	toggle buttons for boolean attributes.
	Re-ordered the items a bit.

1998-06-01  SL Baur  <steve@altair.xemacs.org>

	* sound.el (default-sound-directory): Use `locate-data-directory'
	to find the sounds directory.

1998-05-29  Andy Piper  <andyp@parallax.co.uk>

	* sound.el: default sound-ext to .wav under mswindows, .au
	otherwise. load-default sounds without extensions.

1998-05-27  Björn Torkelsson  <torkel@hpc2n.umu.se>

	* menubar-items.el (default-menubar): Dim out "Submit Bug Report"
	if send-pr is not bound.

1998-06-01  Andy Piper  <andyp@parallax.co.uk>

	* files.el: grok idl files in auto-mode-alist.
1998-06-01  Jeff Miller  <jmiller@smart.net>

	* minibuf.el (exact-minibuffer-completion-p): check for nil before
	calling `upcase'.

1998-05-30  Andy Piper  <andyp@parallax.co.uk>

	* msw-glyphs.el: add xbm to the list of image types supported.

1998-05-30  Kirill M. Katsnelson  <kkm@kis.ru>

	* msw-init.el (init-post-mswindows-win): Load InfoDock toolbar
	instead of XEmacs one when dumping InfoDock.

1998-05-30  Kirill M. Katsnelson  <kkm@kis.ru>

	* obsolete.el (has-modeline-p): Added obsolete alias `has-modeline-p'
 	for `modeline-visible-p'

	* winnt.el (nt-quote-process-args): Fix for duplicating argv[0].

1998-05-29  Andy Piper  <andyp@parallax.co.uk>

	* msw-select.el (mswindows-cut-copy-clear-clipboard): deleted
	since it's not used anymore. doc string fixes.

	* package-get.el (package-get-file-installed-p): new function. use
	instead of file-installed-p which is in an external package.

1998-05-28  Oliver Graf <ograf@fga.de>

	* dragdrop.el (dragdrop-drop-url-default): dropped pop-to-buffer in
	favor of select-window/switch-to-buffer

Wed May 27, 1998  Darryl Okahata  <darrylo@sr.hp.com>

	* startup.el: changed (getenv "HOME") to (user-home-directory)

1998-05-25  Oliver Graf <ograf@fga.de>

	* frame.el (cde-start-drag) moved to dragdrop.el
	(offix-start-drag-region) moved to dragdrop.el
	(offix-start-drag) moved to dragdrop.el
	* dragdrop.el (cde-start-drag) moved from frame.el
	(offix-start-drag-region) moved from frame.el
	(offix-start-drag) moved from frame.el
	(cde-start-drag-region) cde drag regions
	* mouse.el (mouse-drag-or-yank) will now call cde-start-drag-region

1998-05-26  Oliver Graf <ograf@fga.de>

	* dragdrop.el: created dragdrop-drag prototypes
	(cde-start-drag-region) fixed typo

1998-05-28  SL Baur  <steve@altair.xemacs.org>

	* simple.el (after-init-hook): Remove reader macro.

	* packages.el (packages-hardcoded-lisp): Get rid of reader
	macros.  Update DOC string.

1998-05-25  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (drag-window-divider): Ditto.

	* modeline.el (mouse-drag-modeline): Use it.

	* lisp-mode.el (let-specifier): Specify indentation.

	* specifier.el (let-specifier): Renamed from
	`with-specifier-instance'.

1998-05-27  Andy Piper  <andyp@parallax.co.uk>

	* x-faces.el:
	* faces.el: move definition of xpm-color-symbols from x-faces.el
	to faces. Predicate x-get-resource on the presence of x.

	* msw-faces.el: set 3d-object face rather than modeline. Specify
	faces as specfier defaults.

	* package-get.el: don't use package-admin-add-single-file-package.

1998-05-25  Hrvoje Niksic  <hniksic@srce.hr>

	* toolbar-items.el: Fixup tooltips.
	(toolbar-gnus): Don't use obsolete variable
	toolbar-news-frame-properties.
	(toolbar-news-reader): Default to `gnus' instead of
	`not-configured'.

	* files.el (auto-mode-alist): Correctly recognize `.emacs' under
	Windows.

1998-05-25  Andy Piper  <andyp@parallax.co.uk>

	* package-get.el: rename -installedp -> -installed-p.

1998-05-23  Kirill M. Katsnelson  <kkm@kis.ru>

	* glyphs.el (init-glyphs): Created `border-glyph' face, with no
	attributes, and assinged it to continuation, truncation and
	hscroll glyphs.

	* msw-glyphs.el: Assigned WinDings font to `border-glyph' face,
	and made continuation, truncation and hscroll glyphs arrow
	characters out of that font.

1998-05-22  Hrvoje Niksic  <hniksic@srce.hr>

	* minibuf.el (minibuffer-electric-separator): Play nicely with
	directory-sep-char being \.
	(minibuffer-electric-tilde): Ditto.
	(read-file-name-map): Ditto.

1998-05-22  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (default-mouse-track-maybe-own-selection): Pause only
	on X devices.
	(default-mouse-track-deal-with-down-event): Avoid
	`x-disown-selection'; use `disown-selection' instead.

1998-05-21  Andy Piper  <andyp@parallax.co.uk>

	* select.el:
	* x-select.el: selection cleanup. (x-cut-copy-clear-internal)
	moved to (cut-copy-clear-internal) in select.el. Ditto for
	(x-delete-primary-selection) (x-kill-primary-selection)
	(x-copy-primary-selection).
	(own-clipboard): new function.

	* msw-select.el: use the new kill/delete/copy/cut-copy-clear
	functions in select.el. remove old ones.
	(mswindows-own-clipboard): new function.

1998-05-21  Andy Piper  <andyp@parallax.co.uk>

	* gnuserv.el: allow connections from mswindows type devices.

1998-05-20  Andy Piper  <andyp@parallax.co.uk>

	* msw-glyphs.el: change image type used from cursor to resource.

1998-05-20  Kirill M. Katsnelson  <kkm@kis.ru>

	* x-scrollbar.el (x-init-scrollbar-from-resources): Added support
	for {top,bottom}-{left,right} values in addition to
	{top,bottom}_{left,right}.
	Use x-get-resource instead of x-get-resource-and-bogosity-check.

1998-05-20  Hrvoje Niksic  <hniksic@srce.hr>

	* cl-macs.el (specifier-instance): Undefine its setf method.

	* specifier.el (with-specifier-instance): Added docstring.

	* mouse.el (drag-window-divider): Ditto.

	* modeline.el (mouse-drag-modeline): Use it.

	* lisp-mode.el (with-specifier-instance): Define its indentation
 	level.

	* specifier.el (with-specifier-instance): New macro.

1998-05-19  Andy Piper  <andyp@parallax.co.uk>

	* package-get.el (package-get-create-custom): new function to
	auto-generate package-get-custom.el from package-get-base.el.
	* (package-get-ever-installedp): new function.
	* (package-get-custom): new function to get all packages specified
	by customize.

1998-05-19  Hrvoje Niksic  <hniksic@srce.hr>

	* cus-edit.el (custom-file): Revert to `~/.emacs'.

1998-05-23  SL Baur  <steve@altair.xemacs.org>

	* cl-extra.el: Reverse previous float change.

1998-05-17  Andy Piper  <andyp@parallax.co.uk>

	* x-faces.el:
	* faces.el (try-font-name): moved from x-faces.el since it is
	required by w3 under mswindows as well X.

1998-05-18  Kirill M. Katsnelson  <kkm@kis.ru>

	* winnt.el: Removed evil (setq completion-ignore-case t)
	clause, one more overlookef fsfism.
	(nt-quote-args-functions-alist): End sentences with double space.

1998-05-18  Kirill M. Katsnelson  <kkm@kis.ru>

	* window-xemacs.el (push-window-configuration): Remove kludgery of
	recaching default-toolbar specifier.
	(pop-window-configuration): Ditto.
	(unpop-window-configuration): Ditto.

1998-05-16  Hrvoje Niksic  <hniksic@srce.hr>

	* modeline.el (modeline-minor-mode-menu): Don't use :menu-tag.

1998-05-17  Kirill M. Katsnelson  <kkm@kis.ru>

	* winnt.el (nt-quote-args-verbatim): Added function.
	(nt-quote-args-prefix-quote): Added function.
	(nt-quote-args-backslash-quote): Added function.
	(nt-quote-args-double-quote): Added function.
	(nt-quote-args-functions-alist): New variable.
	(nt-quote-process-args): Added function. This is the main quoting
	work horse called from process-nt.c

1998-05-16  Kirill M. Katsnelson  <kkm@kis.ru>

	* winnt.el: Removed duplicate definitions for backspace,
	delete, M-backspace and C-M-backspace.
	(file-name-buffer-file-type-alist): Removed this variable.
	(find-buffer-file-type): Removed function.
	(find-file-binary):  Removed function.
	(find-file-text): Removed function.
	(find-file-not-found-set-buffer-file-type): Removed function.
	(save-to-unix-hook): Removed function.
	(revert-from-unix-hook): Removed function.
	(using-unix-filesystems): Removed function.
	(original-make-auto-save-file-name): DEFSUBR to avoid doc snarf
	warning.
	(x-set-selection): Removed function.
	(x-get-selection): Removed function.
	Removed commented FSFisms.
	Replaced copyright notice (this file is not part of GNU Emacs).
	(nt-shell-mode-hook): Moved here from a lambda expression. Added
	comint-process-echoes setting to t.

1998-05-17  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-no-package-hierarchy-regexp): Introduced
	and used following the interface change of
	`paths-find-recursive-path'.

	* find-paths.el (paths-find-recursive-path): Exclusion is now by a
	regexp instead of a list of base names.
 	(paths-version-control-filename-regexp):
	(paths-lisp-filename-regexp): (paths-no-lisp-directory-regexp):
	Introduced and used following the interface change of
	`paths-find-recursive-path'.

1998-05-16  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (delete-forward-p): Make it a defun; do X garbage only
	on X devices, rather than on all non-TTY devices.

1998-05-16  Kirill M. Katsnelson  <kkm@kis.ru>

	* msw-mouse.el: New file. Sets up cursor shapes for Windows.

	* dumped-lisp.el (preloaded-file-list): Added msw-mouse.el

1998-05-17  Adrian Aichner  <adrian@xemacs.org>

	* itimer.el (activate-itimer): Fixed usage of integers
	as argument to `concat'.

1998-05-17  Glynn Clements  <glynn@sensei.co.uk>

	* itimer.el (start-itimer): replace the use of `concat' with
	`format'

1998-05-16  SL Baur  <steve@altair.xemacs.org>

	* mode-motion.el (mode-motion-hook): Clarify docstring.
	From Bob Weiner <weiner@altrasoft.com>

	* loadhist.el (symbol-file): Supply prompt string when used
	interactively.
	From Bob Weiner <weiner@altrasoft.com>

1998-05-16  Hrvoje Niksic  <hniksic@srce.hr>

	* loadup.el (really-early-error-handler): Ditto.

	* update-elc.el: Ditto.

	* setup-paths.el (paths-construct-exec-path): Ditto.

	* make-docfile.el: Ditto.

	* find-paths.el (paths-decode-directory-path): Use split-path
	instead of decode-path.

	* files.el (parse-colon-path): Update docstring reference.

1998-05-15  Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* msw-init.el:
	* x-init.el:
	Bind cut'n'paste keys to non window-system specific functions.

	* msw-select.el: New function mswindows-clear-clipboard.
	mswindows-cut-copy-clipboard extended to handle clearing of the
	selection and renamed to mswindows-cut-copy-clear-clipboard.

	* select.el: on mswindows devices delete-primary-selection
	calls mswindows-clear-clipboard.

1998-05-15  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (quoted-insert): Inhibit quit when using read-char.

	* cmdloop.el (read-char): Don't inhibit quit.
	(read-char-exclusive): Ditto.
	(read-char): Signal quit if quit-char was pressed.
	(read-char-exclusive): Ditto.
	(read-quoted-char): Return a character, not integer.

	* menubar-items.el (default-popup-menu): Use Andy's generic
	selection code.
	(default-popup-menu): Fix code.

1998-05-14  Oliver Graf <ograf@fga.de>

	* dragdrop.el (dragdrop-function-widget): this time it's done

1998-05-13  Oliver Graf <ograf@fga.de>

	* dumped-lisp.el: dragdrop.el now based on dragdrop-api feature

1998-05-15  Kirill M. Katsnelson  <kkm@kis.ru>

	* device.el (device-pixel-width):
	(device-pixel-height):
	(device-mm-width):
	(device-mm-height):
	(device-bitplanes):
	(device-color-cells): Swapped parameters to device-system-metric
	according to the interface change.

1998-05-14  Kirill M. Katsnelson  <kkm@kis.ru>

	* mouse.el (default-mouse-motion-handler): Use new name of the
	function event-over-vertical-divider-p.
	Do not set E-W arrow cursor over the divider if
	vertical-divider-draggable-p is nil in the window.
	([top-level]): Use new name for the variable
	vertical-divider-map.
	(drag-window-divider): Respect vertical-divider-draggable-p.
	Variable name typo fixes.

1998-05-14  Hrvoje Niksic  <hniksic@srce.hr>

	* keymap.el (kbd): Define here; handle string constants and
	others...

1998-05-15  Christian Nyb <chr@mediascience.no>

	* simple.el (zap-up-to-char): New function.  Behaves like `zap-to-char'
	in Emacs 18.

1998-05-13  Didier Verna  <didier@xemacs.org>

	* mouse.el (drag-window-divider): give the vertical divider a
	pressed look when dragging it.

1998-05-13  Andy Piper  <andyp@parallax.co.uk>

	* faces.el: predicate some more face operations on x or mswindows
	not just x.

	* modeline.el: enable modeline coloring for mswindows.

1998-05-13  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* minibuf.el (minibuffer-default): Added variable; compatible with
	FSF Emacs.
	(next-history-element): Used `minibuffer-default'.

1998-05-12  Oliver Graf <ograf@fga.de>

	* dragdrop.el (dragdrop-function-widget): button and mods ok
	arguments still look a bit strange
	(dragdrop-compare-mods) created
	(dragdrop-drop-do-functions) correctly checks for buttons and
	modifiers

1998-05-14  Hrvoje Niksic  <hniksic@srce.hr>

	* setup-paths.el (paths-default-info-directories): Replace
	path-separator with directory-sep-char.

	* files.el (path-separator): Don't define it here.

1998-05-14  Hrvoje Niksic  <hniksic@srce.hr>

	* update-elc.el: Ditto.

	* setup-paths.el (paths-construct-exec-path): Ditto.

	* make-docfile.el: Ditto.

	* loadup.el (really-early-error-handler): Ditto.

	* find-paths.el (paths-decode-directory-path): Use decode-path
	instead of decode-path-internal.

	* files.el (parse-colon-path): Update docstring.

1998-05-13  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (get-buffer-window-list): Make BUFFER optional.

	* window-xemacs.el (windows-of-buffer): Defalias to
	get-buffer-window-list.

1998-05-12  Hrvoje Niksic  <hniksic@srce.hr>

	* disass.el: Fix maintainer keyword.

	* bytecomp.el (byte-compile-and-load-file): Autoload.
	(byte-compile-buffer): Ditto.

	* lisp-mode.el (eval-last-sexp): Skip ` in `variable' so that the
	value is returned, not the name.
	(lisp-imenu-generic-expression): Enable it.
	(lisp-mode-variables): Ditto.
	(lisp-indent-offset): Change defconst to defvar.
	(lisp-indent-function): Ditto.
	(lisp-body-indent): Ditto.

1998-05-12  Hrvoje Niksic  <hniksic@srce.hr>

	* modeline.el: Use zap-last-kbd-macro-event.

	* lisp-mode.el (eval-interactive): If eval-interactive-verbose is
	nil, don't attempt to do anything with messages.
	(eval-last-sexp): Use `letf' for clarity.

1998-05-12  Hrvoje Niksic  <hniksic@srce.hr>

	* startup.el: It's still `.emacs', not yet `.xemacs/init.el'.

1998-05-11  Martin Buchholz  <martin@xemacs.org>

	* buff-menu.el:
	* lisp-mode.el:
	* obsolete.el:
	Change empty docstrings into no doc strings at all.
	Fix bogus FSF-format docstrings.
	* etags.el: Fix docstring.

1998-05-11  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* package-get.el (package-get): Use internal md5

1998-05-13  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-xemacs): Correct abuse of concat.

1998-05-11  SL Baur  <steve@altair.xemacs.org>

	* info.el (Info-mode): Use easymenu.

1998-05-12  Hrvoje Niksic  <hniksic@srce.hr>

	* apropos.el (apropos): Don't use concat with integers.

	* cmdloop.el (describe-last-error): Handle the case when no error
	was seen gracefully.

	* apropos.el (apropos-print): Use with-displaying-help-buffer as
 	defun.
	(apropos-describe-plist): Ditto.

	* help.el (with-displaying-help-buffer): Revert to a defun.
	(describe-key): Use it as defun.
	(describe-mode): Ditto.
	(describe-bindings): Ditto.
	(describe-prefix-bindings): Ditto.
	(describe-installation): Ditto.
	(view-lossage): Ditto.
	(describe-function): Ditto.
	(describe-variable): Ditto.
	(describe-syntax): Ditto.

1998-05-11  Oliver Graf <ograf@fga.de>

	* dragdrop.el: changed order of require/provide
	(dragdrop-drop-mime-default) changed to new calling conventions
	(dragdrop-drop-do-functions) changed to new calling conventions
	(dragdrop-function-widget) this one needs more work...

1998-05-10  Oliver Graf <ograf@fga.de>

	* about.el: another small change in my entry
	* dragdrop.el (dragdrop-drop-log-function): logging added
	plus customizations
	changed interface to handler functions. now called with event
 	and object

1998-05-12  Kirill M. Katsnelson  <kkm@kis.ru>

	* glyphs.el (divider-pointer-glyph): Declared new glyph,
	E-W arrow pointer displayed over draggable dividers.

	* mouse.el (default-mouse-motion-handler): Show it when
	appropriate.
	(drag-window-divider): Added.
	([top-level]): Initialized window-divider-map with a keymap
	binding the above function to left button down event.

	* x-mouse.el (x-init-pointer-shape): Initialize
	divider-pointer-glyph from Cursor.dividerPointer, or use default
	E-W double arrow.

1998-04-30  Gunnar Evermann  <Gunnar.Evermann@nats.informatik.uni-hamburg.de>

	* toolbar-items.el (toolbar-compile): respect should-use-dialog-box-p

1998-05-11  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (count-words-buffer): Don't query for buffer.
	(count-lines-buffer): Ditto.

1998-05-11  Jan Vroonhof <vroonhof@math.ethz.ch>

	* help.el (where-is): add optional insert argument.

1998-05-11  Hrvoje Niksic  <hniksic@srce.hr>

	* help.el (describe-key-briefly): New argument INSERT.

	* simple.el (eval-expression): New optional argument; synch with
	FSF 20.3.

	* keydefs.el (global-map): Add new register bindings.

	* register.el: Synched with FSF 20.3.

1998-05-11  Jan Vroonhof <vroonhof@math.ethz.ch>

	* window-xemacs.el (recenter): all arguments are optional.

1998-05-10  Kirill M. Katsnelson  <kkm@kis.ru>

	* device.el: (device-pixel-width): Reflected name/parameters
	change to device-system-metric.
	(device-pixel-height): Ditto.
	(device-mm-width): Ditto.
	(device-mm-height): Ditto.
	(device-bitplanes): Ditto.
	(device-color-cells): Ditto.

1998-05-10  Hrvoje Niksic  <hniksic@srce.hr>

	* cl-extra.el (cl-float-limits): Removed; move code to top-level.

	* cl.el (most-positive-fixnum): Document.
	(most-negative-fixnum): Ditto.

	* cus-dep.el: Updated comment.

	* cus-load.el: Use most-positive-fixnum as the gc-inhibiting
	constant.

	* cus-load.el (custom-put): Removed.

	* files.el (after-find-file): Just resignal quit instead of
	signaling "canceled".

1998-05-10  Hrvoje Niksic  <hniksic@srce.hr>

	* frame.el (other-frame): Use `focus-frame' instead of
	select-frame kludges.

	* lisp-mode.el: Update lisp-indent-function for
	save-selected-frame and with-selected-frame.

	* frame.el (save-selected-frame): New macro.
	(with-selected-frame): Ditto.
	(other-frame): Use `set-frame-focus'.

1998-05-06  Oliver Graf <ograf@fga.de>

	* dragdrop.el (dragdrop-drop-dispatch): changed to new list concept
	(dragdrop-drop-url-default) default handler for URL drops created
	(dragdrop-drop-mime-default) default handler for MIME drops created
	(dragdrop-drop-functions) default custom for handling drops created
	(dragdrop-drop-do-functions) helper for drgadrop-drop-dispatch

1998-05-05  Jonathan Harris <jhar@tardis.ed.ac.uk>

	* mouse.el: Removed redundant mouse-mswindows-drop function.

1998-05-05  Oliver Graf <ograf@fga.de>

	* about.el: changed some text in my entry
	* dragdrop.el: added customs

1998-05-04  Oliver Graf <ograf@fga.de>

	* mouse.el: killed global drop key bindings
	(mouse-offix-drop) removed
	* dragdrop.el: created
	* dumped-lisp.el: inclusion of dragdrop.el for window-systems

1998-05-09  Kirill M. Katsnelson  <kkm@kis.ru>

	* x-scrollbar.el (x-init-scrollbar-from-resources): Initialize
	scrollbar-on-{left,top}-p from *scrollBarPlacement resources.

	* x-misc.el (x-get-resource-and-maybe-bogosity-check): Removed
	obsolete comment.

	* scrollbar.el (scrollbars-visible-p): Use new
	{vertical,horizontal}-scrollbar-visible-p specifiers.

1998-04-18  Kirill M. Katsnelson  <kkm@kis.ru>

	* device.el (device-pixel-height):
	(device-pixel-width):
	(device-mm-width):
	(device-mm-height):
	(device-bitplanes):
	(device-color-cells): Moved these 6 functions from device.c; they
	all use single (device-system-metrics) call.

1998-05-09  SL Baur  <steve@altair.xemacs.org>

	* dumped-lisp.el (preloaded-file-list): x-menubar.el and x-toolbar.el
	were renamed.

	* menubar-items.el:
	* toolbar-items.el: Renamed from x-menubar/x-toolbar.
	Suggested by Hrvoje Niksic <hniksic@srce.hr>

	* help.el (help-map): Remove Hyperbole keybinding logic.
	Suggested by: Michael Ernst <mernst@cs.washington.edu>

1998-05-08  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el (default-menubar): Enable 'mail-user-agent' feature.
	From SAKIYAMA Nobuo <nobuo@db3.so-net.or.jp>

1998-05-07  Andy Piper  <andyp@parallax.co.uk>

	* msw-glyphs.el: use nicer icon3 from the frame icon.

1998-05-07  SL Baur  <steve@altair.xemacs.org>

	* version.el (emacs-version): Remove InfoDock conditionals.

	* startup.el (startup-splash-frame): Change ID logo name.

1998-05-06  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (after-find-file): If the user presses C-g on
	directory-creation prompt, kill the buffer.

1998-05-06  SL Baur  <steve@altair.xemacs.org>

	* simple.el (count-words-region): Reverse previous change.

1998-05-05  Hrvoje Niksic  <hniksic@srce.hr>

	* replace.el (query-replace): Just call perform-replace.
	(query-replace-regexp): Ditto.
	(perform-replace): Move region handling here.
	(perform-replace): Use the new arg to match-data.

1998-03-08  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-init.el: Install X specific display table that
	  displays char 0240 as a space to avoid whatever it is
	  that screws up display of that character code.

1998-05-03  Hrvoje Niksic  <hniksic@srce.hr>

	* help.el (function-arglist): If no arguments are documented for a
	subr, print nothing rather than incorrect output.

1998-05-05  SL Baur  <steve@altair.xemacs.org>

	* cmdloop.el (command-error): Update bail-out error message to use
	`emacs-program-name'.

	* lib-complete.el: Remove reader macro cruft.

	* dumped-lisp.el (preloaded-file-list): Phase I:  remove InfoDock
	cruft.

	* simple.el (count-words-region): Drop interactive-p check on the
	message.

1998-05-04  Jonathan Harris <jhar@tardis.ed.ac.uk>

	* font.el
	* msw-faces.el
	Correct spelling of mswindows-font-canonicalize-name.

1998-05-03 Oscar Figueiredo <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-host-parameters-alist): Replaced with
	`ldap-host-parameters-plist'
	(ldap-search): Adapt to previous change

1998-05-02  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Update Bob Weiner bio.
	(about-maintainer-info): Ditto.

1998-05-02  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (display-warning-minimum-level): Docfix.

1998-04-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* widget.el (:default-get): New keyword.
	* wid-edit.el (default, widget-default-default-get): Define it.
	(group, widget-group-default-get): Define it.
	(menu-choice, widget-choice-default-get): Define it.
	(widget-default-get): New function.
	(widget-choice-action): Call it.
	(widget-editable-list-entry-create): Call it.

1998-05-01  Hrvoje Niksic  <hniksic@srce.hr>

	* byte-optimize.el (byte-boolean-vars): Removed.
	(byte-optimize-lapcode): Use `built-in-variable-type' instead of
	lookup through `byte-boolean-vars'.

1998-05-01  Kirill M. Katsnelson  <kkm@kis.ru>

	* x-scrollbar.el (x-init-scrollbar-from-resources): Stuff
	resource-provided values into ghost specs for scrollbar-height and
	scrollbar-width.

1998-05-01  Hrvoje Niksic  <hniksic@srce.hr>

	* byte-optimize.el: Don't attempt to optimize /=.

	* bytecomp.el (byte-compile-one-ore-more-args): New function.
	(byte-compile-/=): Ditto.

1998-05-02  SL Baur  <steve@altair.xemacs.org>

	* apropos.el: Use `with-displaying-help-buffer'.
	(apropos-print): Remove explicit mentions of "*Apropos*" buffer.
	Use `with-displaying-help-buffer'.
	(apropos-follow): Do not give special treatment to buffer cursor
	was in prior to a mouse click.
	(apropos-describe-plist): Use `with-displaying-help-buffer'.
	(apropos-print-doc): Set correct buffer for setting text
	properties.

1998-05-01  SL Baur  <steve@altair.xemacs.org>

	* help.el (help-buffer-prefix-string): New variable.
	(help-buffer-name): Use it.

	* modeline.el (modeline-minor-mode-menu): Alphabetize the minor
	mode menu.

1998-04-30  Greg Klanderman  <greg@alphatech.com>

	* frame.el (other-frame): Work even when focus-follows-mouse is true.

1998-05-01  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (find-file-noselect): Update docstring.
	(find-file-noselect): Signal an error if found an unreadable file.
	(file-chase-links): Save the match data.
	(normal-mode): Use `lwarn' and `error-message-string'.
	(interpreter-mode-alist): Change defconst to defvar.
	(inhibit-first-line-modes-regexps): Ditto.
	(inhibit-first-line-modes-regexps): Added .tgz.
	(inhibit-first-line-modes-suffixes): Change defconst to defvar.
	(change-major-mode-with-file-name): New user-option.
	(set-visited-file-name): Synched with FSF.
	(file-name-extension): New function, from FSF 20.3.
	(file-relative-name): Synched with FSF.
	(save-some-buffers): Support the C-r feature.
	(recover-session): Synched with FSF.
	(kill-some-buffers): Ditto.
	(set-auto-mode): New argument JUST-FROM-FILE-NAME.

1998-04-30  SL Baur  <steve@altair.xemacs.org>

	* files.el (insert-file): Undo previous change and reenable use of
	format.el.

1998-04-30  Hrvoje Niksic  <hniksic@srce.hr>

	* window-xemacs.el (recenter): Define.

1998-04-29  Andy Piper  <andyp@parallax.co.uk>

	* font.el (mswindows-font-create-name)
	(mswindows-font-create-object): new functions for mswindows type
	fonts.

	* msw-faces.el (mswindows-font-canicolize-name): fix so that
	strings are parsed as well as font objects.

1998-04-30  Hrvoje Niksic  <hniksic@srce.hr>

	* modeline.el (defining-kbd-macro): Restore modeline indication of
	kbd-macro being recorded.
	(add-minor-mode): Simplify docstring.
	(modeline-minor-mode-menu): Remove stuff.

1998-04-29  Andy Piper  <andyp@parallax.co.uk>

	* code-process.el (call-process): dynamically decide process
	coding type.

1998-04-29  Jim Radford  <radford@robby.caltech.edu>

	* modeline.el: Add line-number-mode, column-number-mode to
	the modeline minor-mode menu.  Button2 on the line number does
	goto-line.

1998-04-29  Andy Piper  <andyp@parallax.co.uk>

	* mouse.el: move x-selection-owner-p type things to
	selection-owner-p.

	* msw-init.el: copy zmacs stuff from x-init.el

	* msw-select.el (mswindows-own-selection)
	(mswindows-disown-selection) (mswindows-selection-owner-p): new
	functions. Very simple minded implementation of selectio
	ownership.

	* select.el (own-selection) (disown-selection)
	(activate-region-as-selection) (select-make-extent-for-selection)
	(valid-simple-selection-p): functions moved from x-select.el for
	generalized selection.

	* x-select.el: see select.el changes.

	* x-toolbar.el: use new selection functions.

1998-04-28  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-find-package-directories): Fixed bug that
	would pick up multiple site-package directories.
	(package-locations): Added "xemacs-packages" as a late package
	location.

	* find-paths.el: Now uses `emacs-program-name' and
	`emacs-program-version'.
	Additions to enforce version-specific directories in
	`paths-find-version-directory'.

1998-04-29  SL Baur  <steve@altair.xemacs.org>

	* default.el: Removed.
	* site-start.el: Removed.

1998-04-29  Didier Verna  <didier@xemacs.org>

	* minibuf.el (minibuffer-history-minimum-string-length): Default
	to nil.

1998-04-28  SL Baur  <steve@altair.xemacs.org>

	* find-paths.el (paths-program-name): Rename.
	(paths-emacs-root-p): Ditto.
	(paths-find-site-directory): Ditto.

1998-04-26  Karl M. Hegbloom  <karlheg@inetarena.com>

	* lisp-mode.el (emacs-lisp-mode-popup-menu-1): Add menu entry for
	`emacs-lisp-byte-compile-and-load'.

1998-04-26  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-search): Fixed additional parameter passing to
	`ldap-open'

1998-04-27  Andy Piper  <andyp@parallax.co.uk>

	* select.el (kill-primary-selection) (selection-owner-p)
	(copy-primary-selection) (yank-clipboard-selection)
	(selection-exists-p) (delete-primary-selection): new file and
	functions that do the right thing for the selected device.

	* x-menubar.el: use generalised selection functions.

	* dumped-lisp.el: dump select.el.

1998-04-27  SL Baur  <steve@altair.xemacs.org>

	* find-paths.el (paths-progname): New variable.
	(paths-emacs-root-p): Use it.
	(paths-find-site-directory): Ditto.

1998-04-26  SL Baur  <steve@altair.xemacs.org>

	* loadup.el ((member "dump" command-line-args)): Dump as
	`infodock' if InfoDock.

1998-04-25  SL Baur  <steve@altair.xemacs.org>

	* find-paths.el (construct-emacs-version): Simplify, include
	program	name in the return value.
	* (paths-find-version-directory): Use it.

1998-04-25  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* info.el (Info-parse-dir-entries): Fixed regexp
	(Info-build-dir-anew): Remove full suffix and capitalize info file
	name for files with no @direntry
	(Info-batch-rebuild-dir): New function
	(Info-suffixed-file): Check for regular files instead of simple
	file existence (could catch directories before)

1998-04-25  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el, find-paths.el: Removed uses of `not' which
	temacs doesn't have.

	* find-paths.el (paths-find-emacs-roots): Included exec-prefix
	into root searching.

1998-04-24  Martin Buchholz  <martin@xemacs.org>

	* subr.el: Remove definition of `not'.

Sat Apr 24 1998  Andy Piper  <andyp@parallax.co.uk>

	* msw-glyphs.el: enable graphics support.

1998-04-23  Didier Verna  <didier@xemacs.org>

	* x-menubar.el (default-menubar): restored the line-number-mode
	option.

	* misc doc string updates related to the options menu.

1998-04-24  SL Baur  <steve@altair.xemacs.org>

	* setup-paths.el (paths-construct-load-path): Fix typo.

1998-04-23  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* x-menubar.el (default-menubar): font-menu-this-frame-only-p and
	font-menu-ignore-scaled-fonts don't have to be bound now; this
	gets us one step further towards making --no-autoloads work.

	* startup.el (normal-top-level): Load auto-autoloads only if
	lisp-directory is non-nil.

	* setup-paths.el (paths-construct-load-path): Made it robust
	against nil lisp-directory.

	* startup.el (startup-setup-paths-warning): Added `lisp-directory'
	to the list of variables that cause a warning when nil.

	* toolbar.el (init-toolbar-location): Now works even when there's
	no toolbar icon directory.

1998-04-23  Hrvoje Niksic  <hniksic@srce.hr>

	* help.el (view-lossage): Recognize it.

	* simple.el (log-message): Mark multiline messages.

1998-04-22  SL Baur  <steve@altair.xemacs.org>

	* info.el (Info-exit): `toolbar-info-frame' doesn't necessarily exist.

1998-4-20  Stephen J. Turnbull  <turnbull@sk.tsukuba.ac.jp>

	* package-get.el (package-get-all):  add `\n' separator to
	interactive specification so that both variables are read

1998-04-22  Didier Verna  <didier@xemacs.org>

	* x-menubar.el: ported the options menu to Custom.
	Moved the "read only" toggle button to the buffers menu.
	Corrected some missing ;;;###autoload or defcustom.

	* scrollbar.el (scrollbars-visible-p): defcustom wrapper around
	the scrollbar-visible specifier for options menu handling.

	* toolbar.el (toolbar-visible-p)
		     (toolbar-captioned-p)
		     (default-toolbar-position): defcustom wrappers around
	the toolbar specifiers for options menu handling.

	* frame.el (get-frame-for-buffer-default-instance-limit):
	defcustom it for options menu handling.

	* font-lock.el (font-lock-mode): defcustom and autoload the variable
	font-lock-mode for options menu handling.

	* cus-start.el: added Custom properties to overwrite-mode for
	options menu handling.

Wed Apr 22 12:59:35 1998  Andy Piper  <andyp@parallax.co.uk>

	* about.el: shameless self-promotion.

1998-04-21  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (raw-append-message): Slightly optimize.
	(remove-message): Use `push' for clarity.
	(append-message): Ditto.
	(display-warning): Dito.
	(raw-append-message): Send the message to the appropriate device.

1998-04-22  SL Baur  <steve@altair.xemacs.org>

	* auto-save.el (auto-save-cyclic-hash-14): De-ebolification.
	From Sean MacLennan <Sean.MacLennan@pika.ca>

1998-04-18  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el: Changed `directory-sep-char' to
	`path-separator', following a change in GNU Emacs.

1998-04-19  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* info.el (Info-maybe-update-dir): Bug fix in `conservative' behaviour
	(Info-build-dir-anew): Add a final newline.
	(Info-build-dir-anew): Do not issue warning when rebuilding policy
	is `always'
	(Info-rebuild-dir): Ditto

	* dumped-lisp.el (preloaded-file-list): Added ldap.el

1998-04-21  SL Baur  <steve@altair.xemacs.org>

	* simple.el (count-words-buffer): Retain zmacs region.
	(count-words-region): Ditto.
	* simple.el: (what-line): Expanded line counts.
	(count-lines): New parameter to conditionalize whether collapsed
	lines get counted.
	From Bob Weiner <weiner@altrasoft.com>

1998-04-19  SL Baur  <steve@altair.xemacs.org>

	* packages.el (package-locations): infodock-packages must override
	mule-packages and packages.

1998-04-19  Jonathan Harris <jhar@tardis.ed.a.uk>

	* wid-edit.el:
	remove rude messages from widget-activation-widget-mapper
	and widget-activation-glyph-mapper

1998-04-17  Jonathan Harris <jhar@tardis.ed.ac.uk>

	* toolbar.el: Remove (featurep 'x) test from
	toolbar-make-button-list

1998-04-17  Hrvoje Niksic  <hniksic@srce.hr>

	* gnuserv.el (gnuserv-edit): Switch to the next gnuserv buffer
	only if in the same frame.

1998-04-17  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (package-locations): Added site-packages hierarchy.

	* setup-paths.el (paths-default-info-directories): Introduced and
	used.

	* packages.el, setup-paths.el: Set various path searching depths
	to 1.

	* packages.el (packages-hierarchy-depth):
	(packages-load-path-depth): Introduced and used.

	* setup-paths.el (paths-load-path-depth): Introduced and used.

	* find-paths.el (paths-find-recursive-path): Added max-depth
	parameter.

1998-04-15  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el (paths-construct-info-path): Removed
	dependency on behavior of (file-name-as-directory "").

1998-04-09  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el (ldap-search): Adapt to the new low-level API using ldap
	lisp objects

1998-04-14  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* dump-paths.el, startup.el: Added handling for --debug-paths.

1998-04-15  William M. Perry  <wmperry@aventail.com>

	* wid-edit.el: We cannot just set the help-echo or balloon-help
	  properties for an extent based on the :help-echo widget
	  property, since help-echo and balloon-help cause an EXTENT to
	  get passed in, where :help-echo functions are expecting a WIDGET

1998-04-15  Kirill M. Katsnelson  <kkm@kis.ru>

	* scrollbar.el (init-scrollbar-from-resources): Call
	mswindows-init-scrollbar-metrics when appropriate.

Thu Apr 16 12:59:35 1998  Andy Piper  <andyp@parallax.co.uk>

	* dumped-lisp.el: dump x-toolbar for window system

	* msw-init.el (init-post-mswindows-win): enable toolbars if we
	have support and xpm.

1998-04-16  SL Baur  <steve@altair.xemacs.org>

	* files.el (toggle-read-only): Fix docstring.
	From Didier Verna <didier@xemacs.org>

1998-04-14  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* startup.el (normal-top-level): Load autoload-file-name without
	specifying an extension---some people only auto-autoload.el.gz.

1998-04-06  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (backup-enable-predicate): Don't bomb on NAME being
	nil.

1998-04-13  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* find-paths.el, packages.el: Now prefers configure'd paths.
	This shouldn't cause any of the originally anticipated problems as
	the current paths architecture will not define the various
	configure-xxx variables if they're not specified on the configure
	command line.

	* find-paths.el, setup-paths.el, packages.el: Removed all
	mentionings of "/" as a path separator.
	Used paths-construct-path throughout.

	* find-paths.el (paths-construct-path): Created to assemble paths
	from directory components.

	* setup-paths.el, packages.el: Used paths-decode-directory-path
	instead of decode-path-internal.

	* find-paths.el: Removed unused (and bogus) paths-find-emacs-path
	and associates.
	(paths-decode-directory-path) Created.

	* setup-paths.el: Changed configure-exec-path to
	configure-exec-directory.

1998-04-11  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-find-packages): Fixed decoding of
	EMACSPACKAGEPATH.

	* startup.el: -no-packages -> -no-early-packages.

	(packages-load-package-lisps): Fixed loading of auto-autoload
	files.

	* startup.el (normal-top-level): Fixed loading of core
	auto-autoload.

	* obsolete.el: Un-obsoleted site-directory.  Sigh.

	* startup.el, packages.el, dump-paths.el: Added proper settings
	for site-directory and lisp-directory variables.

	* startup.el, loadup.el: Renamed inhibit-update-autoloads to
	inhibit-package-autoloads and fixed handling of it.

	* startup.el, packages.el, dump-paths.el, loadup.el: Fixed
	handling of former inhibit-package-init, now
	inhibit-early-packages, to make -vanilla etc. work.

1998-04-10  Kirill M. Katsnelson  <kkm@kis.ru>

	* code-process.el (start-process): Fallback to 'undecided instead
	of 'binary for process input coding stream.

	* process.el (start-process): Docstring fix.

1998-04-09  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* info.el (Info-insert-dir): Do not insert temporary dir files
	in Info-dir-file-attributes
	(Info-build-dir-anew): Ensure temporary buffer is not read-only
	(Info-rebuild-dir): Ditto.

1998-04-09  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* obsolete.el: Added obsoleteness declarations for
	`site-directory' and `Info-default-directory-list'.

1998-04-08  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* find-paths.el (paths-find-emacs-root): Only look at the
	executable at the end of the symlink chain for determining the
	Emacs root.

1998-04-07  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el (paths-construct-info-path): Changed construction
	to cater to gone default in configure.

	* find-paths.el (paths-uniq-append): Added.

	* packages.el: Rewritten package path construction once again.

	* dump-paths.el, startup.el: Removed package-path as a global
	variable.

	* package-admin.el (package-admin-add-single-file-package):
	(package-admin-add-binary-package): Changed package-path to
	late-packages.

	* packages.el (packages-split-path): Split path at "/" rather than
	nil according to change in emacs.c.

1998-04-06  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el (paths-construct-info-path): Changed info path
	order so that directories come out right.
	(paths-find-lock-directory): Fixed bug: It used to think
	configure-lock-directory is a path.

1998-04-06  Jeff Miller <jmiller@smart.net>

	* x-toolbar.el:  Added toolbar-vector-xxxxxx defvars.  Modified
	initial-toolbar-spec to use new toolbar-vector-xxxxxx defvars.  This
	eases the use of toolbar-add/kill-item functions.

1998-04-07  Kirill M. Katsnelson  <kkm@kis.ru>

	* code-files.el (file-coding-system-alist): Commented out
	loaddefs.el magical treatment.

1998-04-06  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* info.el (Info-rebuild-outdated-dir): Added new option
	`conservative' and made it the default
	(Info-rebuild-dir): Appropriately parse multi-line description
	strings, and multi-section dir files. Issue warning when dir
	is rebuilt as temporary
	(Info-build-dir-anew): Issue warning when dir is built as
	temporary

1998-04-04  Kirill M. Katsnelson  <kkm@kis.ru>

	* list-mode.el (list-mode-map): Bind highlight motion commands to
	standard keys left, right, C-b and C-f.

1998-03-29  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* files.el (auto-mode-alist): allow .sc for Scheme->C

1998-04-06  SL Baur  <steve@altair.xemacs.org>

	* loadup.el (pureload): Don't quote (garbage-collect).

1998-04-04  SL Baur  <steve@altair.xemacs.org>

	* package-get-base.el: Updated.

1998-04-04  Hrvoje Niksic  <hniksic@srce.hr>

	* isearch-mode.el (isearch-just-started): New variable.
	(isearch-mode): Set it.
	(isearch-repeat): Advance one character forward only if the search
	was successful, and was not just started.
	(isearch-repeat): Clear isearch-just-started.

1998-04-02  SL Baur  <steve@altair.xemacs.org>

	* finder.el (finder-compile-keywords): Don't eval new finder-inf
	if running -batch.

1998-03-26  Hrvoje Niksic  <hniksic@srce.hr>

	* subr.el (listify-key-sequence): Removed.

1998-03-31  Hrvoje Niksic  <hniksic@srce.hr>

	* bytecomp.el (byte-compile-print-gensym): New option.
	(byte-compile-output-file-form): Use it.
	(byte-compile-output-docform): Ditto.
	(byte-compile-compiled-obj-to-list): Ditto.

Sun Mar 29 1998  Andy Piper  <andyp@parallax.co.uk>

	* msw-glyphs.el: set frame icon if xpm support.

1998-03-30  Kyle Jones  <kyle_jones@wonderworks.com>

	* help.el: Code that pretty prints variable values
	  removed.

1998-04-02  SL Baur  <steve@altair.xemacs.org>

	* find-paths.el (paths-emacs-root-p): Correct test for installation
	directory.
	From Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

1998-03-30  Kyle Jones  <kyle_jones@wonderworks.com>

	* loaddefs.el: Don't set debug-ignored-errors; leave
	  its default value set to nil.

1998-03-29  Damon Lipparelli  <lipp@primus.com>

	* info.el (Info-rebuild-dir): fixed mis-spelling.

1998-03-29  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* info.el (Info-rebuild-outdated-dir): New custom var
	(Info-insert-node): Create/update dir file when needed, ie when it
	does not exist or is older than some info files in directory

1998-04-01  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el, dump-paths.el, startup.el, packages.el: Allowed
	for last packages, mainly for using a 20.4 package base.

	* packages.el (late-packages): Typo fix.  It was called
	early-packages.

	* find-paths.el (paths-find-emacs-root): Bug fix: it now chases
	relative symlinks correctly.
	(paths-find-emacs-roots): More rigorous checking for plausible
	configuration-time root.

	* startup.el (normal-top-level): Added a warning if XEmacs cannot
	find its roots.

1998-03-27  Martin Buchholz  <martin@xemacs.org>

	* faces.el: Fix docstrings.
	* glyphs.el: Fix docstrings.
	* mouse.el: Fix docstrings.

	* frame.el: Change phrase `current frame' to `selected frame'.

	* faces.el (face-spec-set-match-display): Make FRAME arg optional.

	* bytecomp.el (displaying-byte-compile-warnings): Rewrite some
	macros using backquote to make them infinitely more readable.

1998-03-30  SL Baur  <steve@altair.xemacs.org>

	* packages.el (packages-find-package-path): Hardcoded specialized
	InfoDock support until we can clean this up.

	* help.el (describe-bindings-1): Return the value of the bindings
	help buffer created.
	(describe-bindings): Ditto.

	* simple.el (set-variable): Restore previous behavior of not
	bombing if the variable to set is not boundp.

1998-03-30  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* packages.el (packages-handle-package-dumped-lisps): Allow for
	non-local files to be loaded off the package-lisp variable.

1998-03-27  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-faces.el: Global X resources should override
	  specs for all device classes (color, grayscale, mono);
	  code currently doesn't override any of them.  Fixed by
	  calling remove-specifier with '(x default) as the tag
	  set and allowing inexact matches.

1998-03-27  Kyle Jones  <kyle_jones@wonderworks.com>

	* faces.el: Separated face initializations based on
	  device classes into device type specific (tag set,
	  instantiator) pairs.

1998-03-09  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-choice-action): Remember user's explicit
	choice.
	(widget-choice-value-create): Respect it.
	From Richard Stallman <rms@gnu.org>

1998-03-26  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* setup-paths.el (paths-construct-info-path): Always append
	existing directories from configure-time info path.

	* startup.el (startup-setup-paths): Renamed misnamed info-path to
	Info-directory-list.

	* info.el: Removed Info-default-directory-list which was broken by
	design.
	Removed bogus initialization of Info-directory-list---startup.el
	can do a much better job.
	Added autoload of Info-directory-list.

	* setup-paths.el (paths-construct-load-path): Fixed a bug pointed
	out by Martin Buchholz <martin@xemacs.org>: EMACSLOADPATH used to
	be exclusive; now it's merely given precedence, just like in the
	old days.

1998-03-25  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* find-paths.el (paths-find-architecture-directory): Fix bug with
	finding; it used to default too early.

1998-03-25  Martin Buchholz <martin@xemacs.org>

	* packages.el (packages-split-path): Fix a bug; it used to fail
	for paths that weren't split.

1998-03-26  SL Baur  <steve@altair.xemacs.org>

	* finder.el (finder-compile-keywords): trap on errors.

1998-03-24  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-faces.el (remove-specifier-specs-matching-tag-set-cdrs): Pass
	  fourth argument of t so that only the specs exactly
	  matching the tag lists are removed.

1998-03-25  SL Baur  <steve@altair.xemacs.org>

	* make-docfile.el: Don't discard the BOOTSTRAPLOADPATH.

1998-03-23  SL Baur  <steve@altair.xemacs.org>

	* minibuf.el (mouse-read-file-name-1): If a default directory was
	specified, use it for generating the completions.

1998-03-23  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* update-elc.el: Now respects inhibit-package-init and
	inhibit-site-lisp.
	Now does path construction with loadup-paths.

	* startup.el (normal-top-level, startup-setup-paths): Now respects
	inhibit-package-init and inhibit-site-lisp.

	* packages.el (packages-find-package-path): Extended package path
	by version-specific hierarchies.
	(packages-find-packages): Now respects inhibit flag and
	inhibit-site-lisp.
	Moved path setup to loadup-paths.

	* make-docfile.el: Now respects inhibit-package-init and
	inhibit-site-lisp.
	Now does path construction with loadup-paths.

	* loadup.el: Now respects inhibit-package-init and
	inhibit-site-lisp.

	* dumped-lisp.el (preloaded-file-list): Added loadup-paths.

	* loadup-paths.el: New file: setup load-path to encompass
	packages.

1998-03-22  SL Baur  <steve@altair.xemacs.org>

	* auto-show.el: load-gc renamed to pureload.
	* site-load.el: Ditto.
	* packages.el (toplevel): Ditto.
	* loadup.el (really-early-error-handler): Ditto.
	* dumped-lisp.el (preloaded-file-list): Ditto.
	* cus-face.el (custom-declare-face): Ditto.

1998-03-22  Michael Sperber [Mr. Preprocessor]  <sperber@informatik.uni-tuebingen.de>

	* <Today>: The Big Path Searching Overhaul.

	* find-paths.el: New file: find and assemble paths in the
	installation hierarchy.

	* setup-paths.el: New file: global layout of paths and directories
	within the XEmacs hierarchy.

	* packages.el: Replaced everything related to path searching and
	startup by code in terms of find-paths.

	* loadup.el, make-docfile.el, update-elc.el, startup.el: Now calls
	the new path searching engine.

	* dumped-lisp.el (preloaded-file-list): Added new files find-paths
	and setup-paths.

1998-03-22  SL Baur  <steve@altair.xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Load setup-paths.elc not
	setup-paths.el.

1998-03-20  Kirill M. Katsnelson  <kkm@kis.ru>

	* msw-glyphs.el: Added check for 'mswindows feature, so the file
	compiles identically in any configuration.
	Removed irrelevant commentary.

1998-03-20  Kirill M. Katsnelson  <kkm@kis.ru>

	* simple.el (set-variable): Allow setting specifiers.

1998-03-19  SL Baur  <steve@altair.xemacs.org>

	* lisp.el (forward-sexp): Revert previous change.

1998-03-18  SL Baur  <steve@altair.xemacs.org>

	* frame.el (frame-initialize): Use `delete-console' instead of
	`delete-device' to delete the stream console to match the usage in
	Fkill_emacs.

1998-03-16  SL Baur  <steve@altair.xemacs.org>

	* files.el (cdpath-previous): New variable.
	(cd): Use it.
	From Bob Weiner <weiner@wave.altrasoft.com>

1998-03-15  Kyle Jones  <kyle_jones@wonderworks.com>

	* keydefs.el: Changed keybindings of forward-char,
	  backward, scroll-up and scroll-down to point to their
	  -command counterparts.

	* simple.el: New functions: forwarc-char-command,
	  backwrad-char-command, scroll-up-command,
	  scroll-down-command which work liek their counterparts
	  except that they honor the variable
	  signal-error-on-buffer-boundary.

	  Definition of signal-error-on-buffer-boundary received
	  from src/cmds.c.

	  defvar declaration added for word-across-newline to avoid
	  byte-compiler warning about the free variable reference.

1998-03-14  Kirill M. Katsnelson  <kkm@kis.ru>

	* winnt.el: Removed "%t" from the beginning of
	modeline-format. From now on, there's no nt-specifics in the modeline.

1998-03-14  SL Baur  <steve@altair.xemacs.org>

	* setup-paths.el (paths-setup-paths-warning): Replace occurrences
	of `when' with `if'.

1998-03-03  Kirill M. Katsnelson  <kkm@kis.ru>

	* msw-glyphs.el: New file. Defines TTY-style glyphs for
	mswindows. Must be reworked along with glyphs.el, or
	merged into it, after there is images support.

	* dumped-lisp.el (preloaded-file-list): Dump msw-glyphs.el when
	'mswindows.

1998-03-13  SL Baur  <steve@altair.xemacs.org>

	* faces.el: fix for text cursor initialization.
	Suggested by Kyle Jones <kyle_jones@wonderworks.com>
	From Andy Piper <andyp@parallax.co.uk>

1998-03-11  Pete Ware  <ware@cis.ohio-state.edu>

	* files.el (set-auto-mode): If a mode is not fboundp, check to see
	if there is an existing package that handles it and warn the user
	about that mode.

1998-03-02  Kirill M. Katsnelson  <kkm@kis.ru>

	* x-menubar.el (default-menubar): Greyed out "Help / Basics /
	Installation" menu item when Installation-string is not bound.

1998-03-11  SL Baur  <steve@altair.xemacs.org>

	* lisp.el (forward-sexp): Fix for test for balanced sexp.
	From Jeremiah W. James <jerry@cs.ucsb.edu>

1998-03-10  Kyle Jones  <kyle_jones@wonderworks.com>

	* msw-faces.el:
	* faces.el: Fix face initialization.

1998-03-10  Glynn Clements  <glynn@sensei.co.uk>

	* files.el (backup-enable-predicate): fix breakage introduced
	by TMPDIR patch.

1998-03-09  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-faces.el (x-init-face-from-resources): The
	  TTY face property retrieval functions don't return
	  specifiers, so use face-property instead.

1998-03-09  SL Baur  <steve@altair.xemacs.org>

	* mwheel.el (mwheel-install): Use portable keysyms and syntax.

1998-03-09  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-menubar.el: Expanded documentation for
	  option-save-faces.  Changed Options -> Browse Faces
	  menu entry to invoke customize-face.

1998-03-09  Kyle Jones  <kyle_jones@wonderworks.com>

	* faces.el: Most face initialization moved out of
	  init-other-random-faces to the top level so that the
	  initialization happens before XEmacs is dumped.  Much
	  of the fascist "face-differs-from-default-p or FROB!"
	  code has been retired in favor of letting the user do
	  what they want to do.  Face initialization code changed
	  to use `default' specifier tag so that the settings can
	  be overridden later if the user wishes it.

1998-03-08  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Update contributors list.

1998-03-07  Kyle Jones  <kyle_jones@wonderworks.com>

	* specifier.el: Define new specifier tag `default'.

	* modeline.el: Initialize faces using `default' tag.

	* x-faces.el (x-init-face-from-resources): Remove
	  specifier specs containing the `default' tag before
	  adding new specs.

1998-03-02  John Jones  <jj@asu.edu>

	* package-get.el (package-get-all): fixed arguments on call to
	package-admin-add-single-file-package.
	* package-get.el (package-get-installedp): fixed to match
	advertised behavior.
	* package-get.el: added function package-get-update-all which
	installs newest versions of all the current packages (if they are
	not already installed).

1998-03-04  Jens-Ulrik Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* files.el (find-file-noselect): Uncommented `truename' binding in
	`let*' and use it later to set `buffer-file-truename' iff it's
	still nil, as happens for example when finding a compressed
	file with "jka-compr".

Wed Mar 04 08:55:12 1998  Andy Piper  <andyp@parallax.co.uk>

	* faces.el: in make-face-* type functions do the operation for all
	window systems, not just the first one found.

	* font.el: call mswindows-list-fonts for mswindows.

1998-03-02  Glynn Clements  <glynn@sensei.co.uk>

	* code-process.el (call-process-region):
	* process.el (call-process-region):
	* package-get.el (package-get-dir):
	* files.el (backup-enable-predicate):
	* gnuserv.el (gnuserv-temp-file-regexp):
	Use temp-directory in place of `/tmp'.

Fri Feb 20 21:22:34 1998  Darryl Okahata  <darrylo@sr.hp.com>

	* "Fast" dired-in-C enhancements for Windows 95/NT:

	* files.el: Added function, `wildcard-to-regexp', from GNU
 	  Emacs.

	* files.el (insert-directory): Modified to use special
	  dired-in-C enhancements if present.

Mon Mar 02 11:37:36 1998  Andy Piper  <andyp@parallax.co.uk>

	* code-files.el: make default coding no-conversion.

1998-03-02  SL Baur  <steve@altair.xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Find Installation.el from
	the load-path.

	* update-elc.el: Strip directory when testing for files not to
	bytecompile.

1998-03-02  Aki Vehtari  <Aki.Vehtari@hut.fi>

	* lisp-mode.el: Use recommended form for menus.

	* info.el (Info-construct-menu): Use recommended form for menus.

	* gnuserv.el (gnuserv-edit-files): Use recommended form for menu
	entry.

1998-02-28  Kyle Jones  <kyle_jones@wonderworks.com>

	* frame.el: Resurrect get-frame-for-buffer-default-to-current.
	  (get-frame-for-buffer-noselect): Always return frames
	  in the not-this-window-p cond clause.

1998-02-27  SL Baur  <steve@altair.xemacs.org>

	* help.el (describe-installation): New function.

	* x-menubar.el (default-menubar): Add describe-installation to
	Help menu.

	* packages.el (packages-unbytecompiled-lisp): Installation.el
	should not be bytecompiled.

	* dumped-lisp.el (preloaded-file-list): Dump Installation with
	XEmacs.

	* x-menubar.el (default-menubar): Use correct guard for VM menu
	entry.

	* coding.el: Add coding systems for iso-8859-[12] for No-Mule + file
	coding.
	From Andy Piper <andyp@parallax.co.uk>

1998-02-26  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* ldap.el: Do not require ldap-internal at compile time.

Tue Feb 17 12:50:37 1998  Andy Piper  <andyp@parallax.co.uk>

	* code-files.el: new file. a virtual copy of mule-files.el
 	but without charset
 	dependencies. (toggle-buffer-file-ocding-system) new function for
 	changing the eol type for the current buffer.

	* code-process.el: new file. a copy of
 	mule-process.el. mule-process.el will disappear when things have
 	settled.

	* coding.el: new file. a virtual copy of mule-files.el but
 	without charset dependencies. (coding-system-base) new function
 	for getting the parent coding system of a coding system with eol
	type set.

	* dumped-lisp.el: add above files for the non-mule case.

1998-02-25  Kyle Jones  <kyle_jones@wonderworks.com>

	* window-xemacs.el (display-buffer): If no explicit
	  frame is specified, search for a window that displays
	  the buffer on the currently selected frame, before
	  searching other frames.

1998-02-25  Kyle Jones  <kyle_jones@wonderworks.com>

	* frame.el (get-frame-for-buffer): If not-this-window-p
	  is non-nil, use window on the selected frame if it is not
	  also the selected window.  When defaulting, search for
	  windows on the currently selected fgrame before searching
	  other frames.

1998-02-25  Didier Verna  <didier@xemacs.org>

	* modeline.el (modeline-swap-buffers): originally named
	`mouse-release-modeline'. Whether to actually swap the buffers is
	decided in `mouse-drag-modeline'.
	(mouse-drag-modeline): A button release event is considered a
	mouse click is both X (modeline scroll) and Y (modeline drag) pos
	stay unchanged.

1998-02-25  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el: Put redo on the menubar.
	From Aki Vehtari <Aki.Vehtari@hut.fi>

1998-02-22  Greg Klanderman  <greg@alphatech.com>

	* bytecomp.el (displaying-byte-compile-warnings): if
	temp-buffer-show-function is set, use it to display current set of
	warnings in the "*Compile-Log-Show*" buffer.

	* simple.el (display-warning-buffer): if temp-buffer-show-function
	is set, use it to display current set of warnings in the
	"*Warnings-Show*" buffer.

1998-02-20  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* cl-extra.el (equalp): Make (equalp ?A ?a) return t as in
	Common Lisp.

1998-02-23  Aki Vehtari  <Aki.Vehtari@hut.fi>

	* menubar.el: Allow button descriptors at least 2 long.

	* x-menubar.el (default-menubar): Use recommended forms.
	(file-menu-filter): Remove.
	(edit-menu-filter): Remove.

1998-02-24  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Updated.

1998-02-22  Greg Klanderman  <greg@alphatech.com>

	* help.el (help-max-help-buffers): new variable
	(help-register-and-maybe-prune-excess): new function
	(help-buffer-name): use help-max-help-buffers.
	(with-displaying-help-buffer): use
	help-register-and-maybe-prune-excess.

	* help.el (help-maybe-pretty-print-value): if the value fits on
	one line, let it.

1998-02-21  Greg Klanderman  <greg@alphatech.com>

	* (with-displaying-help-buffer): there is no need to kill the buffer
	if it exists, because with-output-to-temp-buffer will clear it.
	further, killing the buffer violates the rule that
	temp-buffer-show-function, if set, has the full responsibility of
	showing the temp buffer.  killing the buffer fucks with the window
	configuration, hosing temp-buffer-show-function.


1998-02-23  Didier Verna  <didier@xemacs.org>

	* modeline.el (mouse-drag-modeline):
	- Always scroll the modeline that was originally clicked on.
	- Use x pixels instead of x characters (which doesn't work anyway)
	as horizontal reference for modeline dragging. This allows us to
	keep on dragging the modeline even if the motion event occurs in
	another window.

1998-02-23  Didier Verna  <didier@xemacs.org>

	* x-mouse.el (x-init-pointer-shape): use a crossed-arrows cursor
	glyph on the modeline to indicate that dragging the mouse has an
	effect both horizontally and vertically.

1998-02-24  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-xemacs): Get rid of redundant visible version
	number.

1998-02-19  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Update credits.

1997-12-22  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* prim/register.el (view-register): Show register type file-query.

1998-02-17  Kyle Jones  <kyle_jones@wonderworks.com>

	* mode-motion.el (mode-motion-highlight-internal):
	  save-excursion inside save-window-exucrsion form to
	  hide buffer point changes from save-window-excursion.
	  Prevents display flickering when the mouse pointer
	  moves.

1998-02-17  Didier Verna  <didier@xemacs.org>

	* mouse.el (default-mouse-track-set-point-in-window): rewrote this
	function to handle correctly the case of a toolbar one side of the
	window: scrolling will not necessarily happen.

1998-02-17  Kyle Jones  <kyle_jones@wonderworks.com>

	* files.el (after-find-file): Restore missing argument
	  to format that provides filename for "... consider M-x
	  recover-file" message.  Also call `message' with "%s"
	  as the first arg instead of an arbitrary string.

1998-02-18  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Various additions.

1998-02-15  SL Baur  <steve@altair.xemacs.org>

	* autoload.el (generate-file-autoloads-1): Don't force an extra
	line out when copying on-the-same line autoloads.

	* x-menubar.el (default-menubar): Add Sokoban to the menubar if it
	is installed.

1998-02-14  Martin Buchholz  <martin@xemacs.org>

	* x11/x-win-xfree86.el (x-win-init-xfree86):
	* x11/x-win-sun.el (x-win-init-sun):
	* x11/x-init.el (x-initialize-compose):
	* prim/simple.el:
	(backward-or-forward-kill-sexp):
	(backward-or-forward-kill-sentence):
	(backward-or-forward-kill-word):
	(backward-or-forward-delete-char):
	* prim/isearch-mode.el (isearch-help-or-delete-char):
	Use x-keysym-on-keyboard-sans-modifiers-p instead of
	x-keysym-on-keyboard-p to detect backspace.
	Use symbols instead of strings (now deprecated) with x-keysym-*-p.
	Clean up symbols used with dead keys, checking Linux and solaris
	keysyms.
	Simplify x-win-*.el using above methods.
	Change documentation for x-keysym-*-p functions.

1998-02-14  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): Restore entries for Michael Sperber and
	Vinnie Shelton.
	From Vinnie Shelton <acs@acm.org>

1998-02-14  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (count-words-region): Ditto.

1998-02-12  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (count-words-buffer): Document.  Don't print anything
	if non-interactive.

1998-02-12  SL Baur  <steve@altair.xemacs.org>

	* packages.el (packages-hardcoded-lisp): easymenu.el is in
	multiple files in InfoDock.

1998-02-11  SL Baur  <steve@altair.xemacs.org>

	* packages.el (packages-hardcoded-lisp): id-vers.elc is loaded
	from version.el in InfoDock.

	* dumped-lisp.el (preloaded-file-list): Don't treat InfoDock
	specially.

1998-02-09  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* bytecomp-runtime.el (proclaim-inline): Single quotes around
	variable name in docstring.

1998-02-10  Andreas Jaeger  <aj@arthur.rhein-neckar.de>

	* menubar.h: Include "gui.h".

1998-02-10  SL Baur  <steve@altair.xemacs.org>

	* site-load.el: Fix documentation.

1998-02-09  SL Baur  <steve@altair.xemacs.org>

	* package-get-base.el (package-get-base): Updated.

	* keymap.el: PC-ize.

1998-02-08  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* hyper-apropos.el (hyper-apropos-get-doc): Print the `loaded
	from' on a fresh line.

1998-02-08  Hrvoje Niksic  <hniksic@srce.hr>

	* help.el (help-maybe-pretty-print-value): prin1, not princ the
	object.

1998-02-09  SL Baur  <steve@altair.xemacs.org>

	* undo-stack.el: PC-ize.

	* cmdloop.el: PC-ize.

1998-02-08  SL Baur  <steve@altair.xemacs.org>

	* bytecomp-runtime.el: PC-ize.

	* byte-optimize.el: Prolog fixup.  PC-ize.

	* cus-dep.el: Spelling fix.

	* text-mode.el: Synch with Emacs 20.2.  (Original ChangeLog
	entries follow).

1997-08-29  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* text-mode.el (text-mode-hook-identify): New function,
	put on text-mode-hook.  Set text-mode-variant here.
	(text-mode): Don't set it here.

1997-08-27  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* text-mode.el (text-mode-hook): New defvar.
	(text-mode-variant): New variable.
	(text-mode): Set that variable locally.
	(toggle-text-mode-auto-fill): New command.

1997-06-15  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* text-mode.el (text-mode): Let all-white lines separate paragraphs.

1997-06-11  Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	* text-mode.el (paragraph-indent-text-mode):
	Renamed from spaced-text-mode.
	(text-mode-map): Bind TAB to indent-relative.
	(indented-text-mode-map): Variable deleted.
	(indented-text-mode): Now an alias for text-mode.

1998-02-05  SL Baur  <steve@altair.xemacs.org>

	* loadup.el: test-atoms debugging stuffs removed.

1998-02-03  Martin Buchholz  <Martin Buchholz <martin@xemacs.org>

	* lisp/loaddefs.el (completion-ignored-extensions): Add ".class"

1997-12-30  Colin Rafferty  <colin@xemacs.org>

	* help.el (describe-beta): Made it use `locate-data-file'.
	(describe-distribution): Ditto.
	(describe-copying): Ditto.
	(describe-project): Ditto.
	(view-emacs-news): Ditto.

	* help-nomule.el (help-with-tutorial): Made it use
 	`locate-data-file' to find tutorial.

1998-01-28  Jonathon Harris  <jhar@tardis.ed.ac.uk>

	* about.el: Corrected my email address.

	* mouse.el: Added 'mouse-mswindows-drop' similar to
	'mouse-offix-drop'.

1998-01-27  SL Baur  <steve@altair.xemacs.org>

	* loadup.el (running-xemacs): Spelling fix.

1998-01-26  Colin Rafferty  <colin@xemacs.org>

	* packages.el (packages-find-packages-1): Don't allow a backwards
	compatible lisp tree to overwrite `preloaded-file-list'.

1998-01-26  SL Baur  <steve@altair.xemacs.org>

	* loadup.el: Don't delete "xemacs" prior to dumping.

1998-01-24  SL Baur  <steve@altair.xemacs.org>

	* package-info.el (pi-last-mod-date): New function.
	(pi-author-version): New function.
	(batch-update-package-info): Use them.

1998-01-23  Colin Rafferty  <colin@xemacs.org>

	* frame.el (get-frame-for-buffer-default-to-current): Create.
	(get-frame-for-buffer-noselect): Allow user to use current frame
	with `get-frame-for-buffer-default-to-current'.

1998-01-22  Hrvoje Niksic  <hniksic@srce.hr>

	* bytecomp.el (byte-compile-output-file-form): Set print-gensym.
	(byte-compile-output-docform): Ditto.
	(byte-compile-compiled-obj-to-list): Ditto.

1998-01-22  Kyle Jones  <kyle_jones@wonderworks.com>

	* startup.el (command-line-1): Removed code that ran
	  buffer-menu.

1998-01-21  Hrvoje Niksic  <hniksic@srce.hr>

	* help-macro.el (make-help-screen): Bind `help-read-key' via flet.

1998-01-17  Hrvoje Niksic  <hniksic@srce.hr>

	* frame.el (suspend-emacs-or-iconify-frame): Check using
	`device-on-window-system-p' instead of explicitly checking for X,
	so that the same logic works for MS Windows.
	(suspend-or-iconify-emacs): Ditto.

1998-01-14  Hrvoje Niksic  <hniksic@srce.hr>

	* about.el (about-maintainer-info): Andy Piper is back.
	(xemacs-hackers): Updated Andy Piper's email address.
	(about-hackers): Added Jonathan Harris.
	(about-hackers): Updated Tibor Polgar's email address.

1998-01-18  SL Baur  <steve@altair.xemacs.org>

	* about.el: Add xemacs.org email manager.

	* package-get-base.el (package-get-base): Updated with most recent
	package updates.

1998-01-14  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (function-arglist): Use `indirect-function' instead of
	`symbol-function' so that aliases are treated correctly.

1998-01-13  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (help-map): Add f1 binding to `help-for-help'.
	Suggested by Karl M. Hegbloom <karlheg@inetarena.com>.
	(describe-key-briefly): Use `princ' "%s" to print object.
	(with-displaying-help-buffer): Kill buffer if it exists, again.
	(describe-key): Use `princ' "%s" to print object.
	(describe-function-1): Use `princ' "%s" to print object.
	Commented out alias lines removed.
	(help-pretty-print-limit): New variable to control pretty-printing
	of variable values.
	(help-maybe-pretty-print-value): Steve wins!  Renamed back from
	`help-pretty-print-value' again.  Only print-print when OBJECT is
	list of length less than `help-pretty-print-limit'.
	(describe-variable): Use `help-maybe-pretty-print-value' again.

1998-01-18  SL Baur  <steve@altair.xemacs.org>

	* simple.el (blink-matching-open): Remove C++ kludge.
	Suggested by Bob Weiner <weiner@wave.altrasoft.com>

1998-01-14  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* info.el (Info-default-directory-list): Made the documentation
	more explanitory.

1998-01-13  Martin Buchholz  <martin@xemacs.org>

	* lisp/packages.el:
	* lisp/package-admin.el:
	* lisp/build-report.el:
	Fix typos.

1998-01-14  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* Patches/font-lock.el (java-font-lock-keywords-*): Would produce
	warnings in Java buffers without final newline and editing the
	last line.

1998-01-17  SL Baur  <steve@altair.xemacs.org>

	* packages.el (packages-find-packages-1): Don't allow a backwards
	compatible lisp tree to overwrite `preloaded-file-list'.
	Suggested by Colin Rafferty  <colin@xemacs.org>

	* mouse.el (mouse-offix-drop): Set undo-boundary.
	From Oliver Graf <ograf@fga.de>

1998-01-13  SL Baur  <steve@altair.xemacs.org>

	* loadup.el (load-gc): rewrite as defun.
	Print something sensical if a required dump-time file isn't found.

1998-01-12  SL Baur  <steve@altair.xemacs.org>

	* menubar.el (check-menu-syntax): Emergency dirty fix -- the 0 plist
	bug strikes a menudescriptor.

	* package-get-base.el (package-get-base): Updated.

	* package-info.el (batch-update-package-info): Derive REQUIRES
	from the Makefile.

1998-01-13  Hrvoje Niksic  <hniksic@srce.hr>

	* files.el (save-some-buffers): Don't play games with deleting
	other windows if we are in the minibuffer window.

1998-01-08  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* modeline.el (modeline-minor-mode-menu): Add support for :active
	(add-minor-mode): Document :active property to TOGGLE.

1998-01-07  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* modeline.el (modeline-minor-mode-menu): Add support for an
 	`:included' predicate in the `toggle-sym' plist.
	(add-minor-mode): Document the :included property, format
 	docstring some more.
	(modeline-minor-mode-menu): Documentation string added.

1998-01-02  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* modeline.el (modeline-minor-mode-menu): genmenlab the menu
 	labels from the symbol-names by thwacking off the overly redundant
 	and overused "mode", parenthesizing "minor", and capitalizing the
 	resultant strings.  Also shortened the menu's title by eliminating
 	the redundant buffer name.
	(add-minor-mode): Beautified the docstring, added mention of the
 	`:menu-tag' property of TOGGLE.
	(modeline-minor-mode-menu): Frinked the `:menu-tag' property on
 	`toggle-sym' to beatify the mode-life menus.
	* (abbrev-mode):  (put)'ed a `:menu-tag' on it and
	`auto-fill-function'.

1998-01-02  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* modeline.el (modeline-minor-mode-menu): Changed the string-only
	menus to :style 'toggle.

1997-12-10  Markus Linnala  <maage@cs.tut.fi>

	* simple.el: Use mh-user-agent-compose as mh-e-user-agent.

1997-12-11  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* packages/hyper-apropos.el (hyper-apropos-insert-face): Would
	only recognize first hyperlink.
	(hyper-apropos-highlightify): Deletia, this is already done by
 	`hyper-apropos-insert-face'.
	(hyper-apropos-help-mode): Don't call `hyper-apropos-highlightify.

1998-01-09  SL Baur  <steve@altair.xemacs.org>

	* x-toolbar.el (toolbar-ispell-internal): Use ispell-message for
	mail.
	(toolbar-mail-reader): Add support for `send'.
	From Jonathan Marten <jonathan.marten@UK.Sun.COM>

1998-01-05  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* info.el (Info-emacs-info-file-name): Add defvar for
 	`Info-emacs-info-file-name' so that `Info-goto-emacs-command-node'
 	will function properly.

1998-01-05  Gary D. Foster  <gfoster@ragesoft.com>

	* simple.el: make the backwards delete function called by
	`backward-or-forward-delete-char' user configurable.

1998-01-09  Karl M. Hegbloom  <karlheg@bittersweet.inetarena.com>

	* hyper-apropos.el (hyper-apropos-get-doc): Print where a byte
 	compiled function got loaded from.

1998-01-09  SL Baur  <steve@altair.xemacs.org>

	* term/apollo.el: Synched up with InfoDock 3.6.2.

1998-01-08  SL Baur  <steve@altair.xemacs.org>

	* startup.el (load-init-file): Load autoloads earlier.
	(startup-splash-frame): Handle InfoDock logo.

	* x-init.el (init-post-x-win): Don't call init-x-toolbar in
	InfoDock.
	(x-init-toolbar-from-resources): Move from x-toolbar.el.

	* toolbar.el (init-toolbar-from-resources): InfoDock x-toolbar.el
	doesn't have this function.

	* packages.el (locate-data-file): Fix to call `locate-file'.

1998-01-07  SL Baur  <steve@altair.xemacs.org>

	* dumped-lisp.el (preloaded-file-list): InfoDock uses its own
	version of version.el.
	(preloaded-file-list): Ditto for x-menubar.el and x-toolbar.el.

	* x-menubar.el (default-menubar): Guard reference to
	`gnuserv-frame'.
	(default-menubar): Guard references to `font-lock-mode'.
	(default-menubar): Guard references to font-menu-this-frame-only-p'.
	(default-menubar): Guard references to `font-menu-ignore-scaled-fonts'.

	* make-docfile.el: Don't snarf doc strings from autoloads.

	* startup.el (load-init-file): Use algorithm from loaddefs.el for
	loading auto-autoloads files.

	* loaddefs.el: Disable dumping autoloads.

1998-01-05  SL Baur  <steve@altair.xemacs.org>

	* lisp-mnt.el: Synch to Emacs 20.2.

	* help.el: Remove manual autoload of `finder-by-keyword'.

	* finder.el (finder-by-keyword): Autoload.

	* help.el: Conditionalize hyperbole setup.

1998-01-04  SL Baur  <steve@altair.xemacs.org>

	* packages.el (package-require): Update to reflect new data format.

1998-01-02  Didier Verna  <didier@xemacs.org>

	* x-menubar.el (default-menubar): make the tutorials available
	through the menubar. (Plus some compilation warnings cleanup).

1998-01-04  SL Baur  <steve@altair.xemacs.org>

	* check-features.el: New file.  Perform sanity check after build.

	* dumped-lisp.el (preloaded-file-list): Move tooltalk dumped lisp
	files to tooltalk package.
	(preloaded-file-list): Moved sparcworks dumped lisp files to Sun
	package.

	* package-admin.el (package-admin-xemacs): Use better default for
	location of XEmacs binary.

1998-01-03  Aki Vehtari  <Aki.Vehtari@hut.fi>

	* x-menubar.el (buffers-menu-submenus-for-groups-p): Replace const
	tag with sexp and add value tag with value `t'.

1998-01-03  SL Baur  <steve@altair.xemacs.org>

	* package-get.el: Changes to work with real data.
	From Pete Ware <ware@cis.ohio-state.edu>

	* packages.el (packages-reload-autoloads): Guard load for the time
	being.

	* update-elc.el ("packages.el"): Force loading packages.el instead
	of possibly out-of-date packges.elc.
	* make-docfile.el ("packages.el"): Ditto.

1998-01-02  Colin Rafferty  <colin@xemacs.org>

	* build-report.el (build-report-delete-regexp): Added a rule for
	the main tarball shadowing anything past it.

1998-01-02  SL Baur  <steve@altair.xemacs.org>

	* packages.el (package-provide): Delete a previous provide.

	* package-info.el: New file.

	* package-get.el: New file.
	From Pete Ware <ware@cis.ohio-state.edu>
	(package-get): Fix md5 computation to work with Mule.

1997-12-11  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* simple.el (log-message-*): Quote symbols in docstrings properly.

1998-01-01  SL Baur  <steve@altair.xemacs.org>

	* packages.el (packages-new-autoloads): Ignore symbolic links.

	* cus-face.el (face-custom-attributes-get): Fix typo.
	From Jens-Ulrik Holger Petersen <petersen@kurims.kyoto-u.ac.jp>

1997-12-31  SL Baur  <steve@altair.xemacs.org>

	* startup.el (load-init-file): Reload new or changed autoloads
	unless inhibited.  Reload modified dumped lisp (stubbed).

	* packages.el (packages-new-autoloads): New function.
	(packages-reload-autoloads): New function.
	(packages-reload-dumped-lisp): New (stub) function.

	* loadup.el: Inhibit reloading dumped files when running temacs.

	* loadhist.el (file-provides): Extend to handle variant
	extensions.

	* replace.el (query-replace): Fix typo.

1997-12-30  SL Baur  <steve@altair.xemacs.org>

	* make-docfile.el: list-autoloads-path has been renamed.
	* update-elc.el: list-autoloads has been renamed.

	* packages.el (packages-list-autoloads): Renamed.
	(packages-list-autoloads-path): Ditto.

1997-12-29  Colin Rafferty  <colin@xemacs.org>

	* packages.el (packages-find-packages-1): Made it signal a warning
	for an error in an auto-autoload.el file.

1997-12-30  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el (buffers-menu-submenus-for-groups-p): Replace sexp
	tag with const.
	From Aki Vehtari <Aki.Vehtari@hut.fi>

	* dumped-lisp.el (preloaded-file-list): Dump loadhist with XEmacs.

	* loadhist.el (unload-feature): Remove autoload.

1997-12-28  SL Baur  <steve@altair.xemacs.org>

	* loadhist.el: Unpackaged.

	* help.el (describe-symbol-find-file): Rename
	`describe-function-find-file' and make old name obsolete.
	(describe-function-1): Use it.
	(describe-function-1): Guard reference to
	`compiled-function-annotation'.

1997-12-27  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (help-mode-bury): Now a call to `help-mode-quit' with
 	argument.
	(help-mode-quit): New optional arg to control whether it kills or
	buries.  Tidied up.
	(with-displaying-help-buffer): Don't kill buffer initially, even
	if it exists: it is erased by `with-output-to-temp-buffer' anyway.
	(help-pretty-print-value): Rename back from
	`help-maybe-pretty-print-value'!  If `pp-internal' is available
	use it, otherwise use dumped `cl-prettyprint'.
	(describe-variable): Use `help-pretty-print-value' again.
	(find-func): Removed reference to "find-func" at end.

1997-12-26  Kirill M. Katsnelson  <kkm@kis.ru>

	* dumped-lisp.el: x-menubar.el dumped along with mswindows native
	  GUI XEmacs. Rename? x-menubar is rather window system
	  independant, except for a couple of items.

1997-12-26  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el (default-menubar): Remove hyperbole and oobr
	entries as they will no longer be distributed with XEmacs.

	* format.el (format-alist): Fix image/tiff regexps.
	From P. E. Jareth Hein <jareth@camelot-soft.com>

	* help.el (help-maybe-pretty-print-value): Rename.
	(describe-variable): Use it.
	(describe-variable): Add trailing linefeed.

1997-12-26  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (describe-function-1): Don't output anything for
	  arglist of autoload functions.

1997-12-26  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (describe-function-1): Don't output anything for
	  arglist of autoload functions.

1997-12-26  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (help-mode-map): New bindings for `help-mode-bury',
 	`describe-function-at-point', `describe-variable-at-point',
 	`Info-elisp-ref', `customize-variable', `help-next-section' and
 	`help-prev-section'.
	(help-next-section): New function.
	(help-prev-section): New function.
	(help-mode-quit): Changed to kill the help buffer.
	(help-mode-bury): Formerly `help-mode-quit'.  Bury buffer
 	correctly.
	(help-buffer-name): New function to generate the name of help
 	buffers.
	(with-displaying-help-buffer): Is now a macro.  Takes an new first
 	argument giving the name of the help buffer.
	(describe-key): Use `with-displaying-help-buffer' with name.
	(describe-mode): Ditto.
	(describe-bindings): Ditto.
	(describe-prefix-bindings): Ditto.
	(view-lossage): Ditto.
	(with-syntax-table): New macro.
	(function-called-at-point): Use `ignore-errors' and
 	`with-syntax-table'.
	(function-at-point): Ditto.
	(describe-function): Use `with-displaying-help-buffer' with name.
	(function-arglist): Extracted from `describe-function-1'.  Returns
 	function's arglist as string.
	(function-documentation): Extracted from `describe-function-1'.
  	Returns function's docstring.
	(describe-function-1): Remove all the "stream" garbage, including
	the stream argument.  Use `function-arglist' and
	`function-documentation'.
	(describe-function-arglist): Just use `function-arglist'.
	(variable-at-point): Use `ignore-errors' and `with-syntax-table'.
	(help-pretty-print-value): New function to help with
	pretty-printing variable values.  Knows about `#<...>'.  Needs
	`pp-internal'.
	(describe-variable): Use `with-displaying-help-buffer' with name.
	Formatting improved.  Display file where variable is defined, if
	known.  Use `help-pretty-print-value'.
	(describe-syntax): Use `with-displaying-help-buffer' with name.
	(list-processes): Remove "stream" garbage.

1997-12-25  SL Baur  <steve@altair.xemacs.org>

	* x-init.el (x-initialize-keyboard): Don't load x-win*.el files,
	call a dumped routine instead.

	* x-win-xfree86.el: Wrap file in defun.
	* x-win-sun.el: Ditto.

1997-12-23  SL Baur  <steve@altair.xemacs.org>

	* help.el (view-emacs-news): Remove usage of outl-mouse which
	advises functions and does other evil things.

1997-12-22  SL Baur  <steve@altair.xemacs.org>

	* format.el (format-alist): Add `image/tiff'.
	From P. E. Jareth Hein <jareth@camelot-soft.com>

1997-12-21  SL Baur  <steve@altair.xemacs.org>

	* about.el (about-hackers): More names added.

	* make-docfile.el: Remove superfluous package path search.

	* loaddefs.el: Commentary changes.  Removal of VM autoloads.

1997-12-20  SL Baur  <steve@altair.xemacs.org>

	* shadow.el (find-emacs-lisp-shadows): Add _pkg to the list of
	ignored shadows.

1997-12-18  SL Baur  <steve@altair.xemacs.org>

	* startup.el (set-default-load-path): Make sure lisp and site-lisp
	get trailing slashes when added to the load-path.

	* x-init.el (init-x-win): Locate where XEmacs X localization files
	are.

1997-12-18  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-faces.el: Added support for foregroundToolBarColor
	  to xpm-color-symbols.

1997-12-17  Hrvoje Niksic  <hniksic@srce.hr>

	* etags.el (tags-remove-duplicates): Removed.
	(buffer-tag-table-list): Use `delete-duplicates'.

	* cl-extra.el (coerce): Coerce to bit-vector and weak-list
 	correctly.
	(get*): Defalias to `get'.

	* cl.el (eql): Compare integers with `eq'.
	(cl-map-extents): Check for `map-extents' first.

1997-12-17  Didier Verna  <didier@xemacs.org>

	* leim/quail/latin-pre.el ("french-prefix"): doc string cleanup +
 	added the 'numero', 'copyright' and 'trademark' symbols.

	* leim/quail/latin-post.el ("french-postfix"): see above.

1997-12-15  Hrvoje Niksic  <hniksic@srce.hr>

	* widget.el (define-widget): Check the arguments.

	* cus-edit.el (customize-face): Use `check-argument-type'.
	(custom-variable-value-create): Use `signal' to signal error.
	(custom-variable-reset-saved): Ditto.
	(custom-variable-reset-standard): Ditto.
	(custom-face-reset-saved): Ditto.

	* wid-edit.el (widget-prompt-value): Use `signal' to signal error.
	(widget-default-format-handler): Ditto.
	(widget-checklist-add-item): Ditto.
	(widget-radio-add-item): Ditto.
	(widget-editable-list-entry-create): Ditto.
	(widget-sexp-prompt-value): Ditto.

	* custom.el (custom-declare-variable): Signal errors better.
	(custom-handle-keyword): Ditto.
	(custom-declare-group): Ditto.

	* window-xemacs.el (windows): Ditto.

	* menubar.el (menu): Ditto.

	* keydefs.el (keyboard): Ditto.

	* minibuf.el (minibuffer): Ditto.

	* process.el (execute): Ditto.

	* fill.el (fill): Ditto.

	* modeline.el (modeline): Ditto.

	* help.el (help): Ditto.

	* faces.el (faces): Ditto.

	* files.el (files): Ditto.

	* x-init.el (x): Ditto.

	* lisp-mode.el (lisp): Ditto.

	* process.el (processes): Ditto.

	* mouse.el (mouse): Ditto.

	* abbrev.el (abbrev): Moved from cus-edit.

	* font-lock.el (lisp-font-lock-keywords-1): Recognize `defcustom'
	as variable declaration.

1997-12-15  Hrvoje Niksic  <hniksic@srce.hr>

	* menubar.el (find-menu-item): Use `check-argument-type'.
	(find-menu-item): Cosmetic changes.

1997-12-18  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el (default-menubar): Guard usage of lpr-switches.

1997-12-17  SL Baur  <steve@altair.xemacs.org>

	* startup.el (set-default-load-path): Only search package-path
	when not running temacs.

	* dumped-lisp.el (preloaded-file-list): Remove Egg/Its dumped lisp
	files.

	* loadup.el: Correct commentary.  Reformatting.
	(really-early-error-handler): Use absolute path to the
	first dumped-lisp.el file.
	(really-early-error-handler): Print full path name of
	each dumped lisp file (inherited from InfoDock).

	* shadow.el (find-emacs-lisp-shadows): Ignore multiple
	dumped-lisp.el files.

	* make-docfile.el (preloaded-file-list): Reorder when the
	package-path is searched.
	* update-elc.el: Ditto.

	* lisp-mode.el (call-with-condition-handler): Treat the same as
	`condition-case' for indentation.

	* about.el (about-xemacs): Update release date.

1997-12-17  Hrvoje Niksic  <hniksic@srce.hr>

	* cl-macs.el (case): Signal error if `t' or `otherwise' are seen
	anywhere but at the last clause.
	(ecase): Disallow `t' and `otherwise'.

1997-12-16  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* cus-edit.el (custom-buffer-create-buttons): New function
	from stuff moved out of `custom-buffer-create-internal'.
	(custom-novice): New variable.  Default t.
	(custom-display-global-buttons): Ditto.  Default `top'.
	(custom-buffer-create-internal): Only display help if
	`custom-novice' is non-nil.  Display global buttons according to
	`custom-display-global-buttons'.

1997-12-15  Hrvoje Niksic  <hniksic@srce.hr>

	* menubar.el (find-menu-item): Use `check-argument-type'.
	(find-menu-item): Cosmetic changes.

1997-12-15  Hrvoje Niksic  <hniksic@srce.hr>

	* modeline.el (mouse-drag-modeline): Give the modeline a "pressed"
	look.

1997-12-16  Oscar Figueiredo <Oscar.Figueiredo@di.epfl.ch>

	* format.el (format-deannotate-region):  Bug fix.
	Deannotating a region containing unknown tags would fail
	(causing decoding of text/enriched to fail at user level)

1997-12-16  Kyle Jones  <kyle_jones@wonderworks.com>

	* minibuf.el (read-directory-name): Support sixth
	  arg, HISTORY, as already documented.

1997-12-17  Hrvoje Niksic  <hniksic@srce.hr>

	* etags.el (get-tag-table-buffer): Use explicit lists as arguments
	to `ecase'.

1997-12-14  SL Baur  <steve@altair.xemacs.org>

	* skk/skk-leim.el (skk-auto-fill-activate): Synch with
	skk-activate.

1997-12-13  SL Baur  <steve@altair.xemacs.org>

	* dumped-lisp.el (preloaded-file-list): Remove debugging statement.

1997-12-13  SL Baur  <steve@altair.xemacs.org>

	* help.el (describe-function-arglist): Restore.
	(describe-function-1): Correct typo.
	From Jamie Zawinski <jwz@netscape.com>

1997-12-13  Hrvoje Niksic  <hniksic@srce.hr>

	* cus-dep.el (Custom-make-dependencies): Cut a newline.

	* cus-edit.el (customize-changed-options): Handle output more nicely.
	(customize-changed-options): Mention `:version' instead of `:new'.
	(customize-changed-options): Use `push'.

1997-12-12  Colin Rafferty  <colin@xemacs.org>

	* window.el (shrink-window-if-larger-than-buffer): Modified the
	algorithm so that is calculates the amount it can shrink the
	buffer by shrinking the buffer itself first.

1997-12-10  Hrvoje Niksic  <hniksic@srce.hr>

	* undo-stack.el (trunc-stack-bottom): Don't terminate error
	message with a period.

	* cus-start.el: Synch quoter with `custom-quote'.

	* custom.el (custom-add-load): Update custom-group-hash-table.

1997-12-12  Hrvoje Niksic  <hniksic@srce.hr>

	* mouse.el (mouse-track-run-hook): Understand `make-local-hook'
 	convention.

	* custom.el (custom-add-version): New function, from FSF.
	(custom-handle-keyword): Use it.

	* cus-edit.el (custom-variable-prompt): Require match.
	(customize-changed-options): New function, from FSF.
	(customize-version-lessp): Ditto.

	* cus-edit.el (custom-quote): Defalias to `quote-maybe'.
	(customize-set-variable): Use `quote-maybe'.
	(customize-save-variable): Ditto.
	(custom-variable-value-create): Ditto.
	(custom-variable-set): Ditto.
	(custom-variable-save): Ditto.

	* cus-start.el: Use `quote-maybe'.

1997-12-11  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (fsf:do-auto-fill): Comment out.

	* simple.el (set-goal-column): Be careful about the format
	argument to message.

	* cl-macs.el: New setf methods for: buffer-dedicated-frame,
 	console-type-image-conversion-list, default-toolbar-position,
 	device-class, extent-begin-glyph, extent-begin-glyph-layout,
 	extent-end-glyph, extent-end-glyph-layout, extent-keymap,
 	extent-parent, extent-properties, frame-selected-window,
 	itimer-function, itimer-function-arguments, itimer-is-idle,
 	itimer-recorded-run-time, itimer-restart, itimer-uses-arguments,
 	itimer-value, keymap-parents, marker-insertion-type,
 	mouse-pixel-position, trunc-stack-length, trunc-stack-stack,
 	undoable-stack-max and weak-list-list.

1997-12-12  SL Baur  <steve@altair.xemacs.org>

	* keydefs.el (global-map): Import C-x M-: keybinding for
	`repeat-complex-command' from Emacs 20.

1997-12-11  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* mule/mule-debug.el (list-charsets): Make it work.  Better
	formatting.

1997-12-11  SL Baur  <steve@altair.xemacs.org>

	* files.el (insert-file): Don't use format.el settings.

	* format.el (format-decode): Update docstring.

1997-12-09  SL Baur  <steve@altair.xemacs.org>

	* make-docfile.el (package-path): Set load-path from package path
	before collecting the files to dump.
	* update-elc.el (package-path): Ditto.

	* loadup.el: Comment changes, cleanup.

1997-12-09  Hrvoje Niksic  <hniksic@srce.hr>

	* etags.el (tags-loop-continue): Avoid giant `progn' in while test.
	(next-file): Use `pop'.

1997-12-08  Hrvoje Niksic  <hniksic@srce.hr>

	* etags.el (find-tag-internal): Set the initial fuzz offset to 100
 	instead of 1000.
	(find-tag-internal): Use `letf'.
	(tags-delete): Removed -- was unused.
	(set-buffer-tag-table): Use `expand-file-name'.
	(get-tag-table-buffer): Use `ecase'.
	(add-to-tag-completion-table): Mark the filename messages with
 	progress.
	(add-to-tag-completion-table): Use `char-after' instead of
 	`following-char'.
	(add-to-tag-completion-table): Use `match-string'.
	(complete-symbol): Use `error' instead of message+ding.
	(complete-symbol): Use `skip-syntax-forward'.
	(tag-complete-symbol): Autoload.
	(pop-mark-from-stack): Use `buffer-live-p'.
	(pop-tag-mark): Autoload the `M-*' binding.
	(list-tags): Made it work.

1997-12-09  SL Baur  <steve@altair.xemacs.org>

	* x-toolbar.el (toolbar-news): Fix typo.

1997-12-06  Jonathan Harris <jhar@tardis.ed.ac.uk>

	* dumped-lisp.el, emacs.c, symsinit.h, msw-init.el, 	  nt/xemacs.mak
	  Created files: msw-select.el, select-msw.c
	  Copy and paste 8-bit text to/from mswindows clipboard.

	* msw-faces.el: mswindows-make-font-bold[-italic]
	  Try to make the bold font the same width as the non-bold font.

1997-12-07  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el (widget-prettyprint-to-string): Nix cl-prettyprint's
	newlines.

1997-12-06  Hrvoje Niksic  <hniksic@srce.hr>

	* x-toolbar.el (toolbar-not-configured): Use `error'.
	(toolbar-compile): Restore `toolbar-already-run' feature from
	19.15.
	(toolbar-news): Use `eval' on non-symbols.
	(toolbar-info-frame-plist): Use the new `plist' widget.
	(toolbar-news-frame-plist): Ditto.

	* font-lock.el (font-lock-fontify-buffer-function): New variable,
 	synched with FSF Emacs 20.
	(font-lock-unfontify-buffer-function): Ditto.
	(font-lock-fontify-region-function): Ditto.
	(font-lock-unfontify-region-function): Ditto.
	(font-lock-inhibit-thing-lock): Ditto.

1997-12-07  SL Baur  <steve@altair.xemacs.org>

	* egg/egg-cwnn-leim.el (egg-pinyin-activate): New file.  Interface
	to Chinese Wnn server.

	* egg/egg-kwnn-leim.el: New file.  Interface to Korean Wnn
	server.

	* dumped-lisp.el (preloaded-file-list): Dump LEIM integration
	files for kWnn and cWnn.

1997-11-30  Adrian Aichner  <aichner@ecf.teradyne.com>

	* build-report.el:
	Making better use of `custom'-features to represent various
	`build-report' variables.
	build-report-*-regexp have become lists which are or-ed together
	internally.
	customized group `build-report' is now a child of group `build' which is
	not release as of this version.
	Including comment now into build-report stating wheter all or just the
	most recent ./configure output is being inserted.

1997-12-01  Jonathon Harris <jhar@tardis.ed.ac.uk>

	* msw-init.el: Provide default bindings for cut, paste, copy and undo

1997-12-05  Hrvoje Niksic  <hniksic@srce.hr>

	* wid-edit.el: Ditto.
	(widget-prettyprint-to-string): Use `cl-prettyprint'.
	(widget-sexp-value-to-internal): Handle printed object beginning
	with newline.

	* cus-edit.el: Avoid `pp-to-string'.

1997-12-04  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (display-warning): Use `with-current-buffer'.

	* font-lock.el (font-lock-mode): Use `lmessage'.
	(font-lock-fontify-buffer): Ditto.
	(font-lock-unfontify-region): Ditto.
	(font-lock-fontify-syntactically-region): Ditto.
	(font-lock-fontify-keywords-region): Ditto.
	(font-lock-fontify-keywords-region): Ditto.

	* simple.el (raw-append-message): Use `with-current-buffer'.
	(log-message-filter): Place `save-match-data' outside the loop.
	(log-message): Use `with-current-buffer'.
	(remove-message): Use `lwarn' to warn about the hook error.

	* lisp-mode.el: Indent `lmessage' and `lwarn' properly.

	* simple.el (lmessage): New function.
	(lwarn): Ditto.
	(kill-region): Use `lmessage' instead of `display-message'.
	(set-comment-column): Ditto.
	(set-fill-column): Ditto.

	* faces.el (get-custom-frame-properties): Don't use
 	`default-custom-frame-properties'.

	* font-lock.el: Customized variables.

	* font-lock.el: Customized faces.

	* font-lock.el: (font-lock-maximum-decoration): Default to t.

	* cus-edit.el (vms): Removed.

1997-12-03  Hrvoje Niksic  <hniksic@srce.hr>

	* cus-start.el: Ditto.

	* gui.el (dialog-frame-plist): Ditto.

	* gnuserv.el (gnuserv-frame-plist): Ditto.

	* frame.el: Use the `plist' widget type in defcustoms.

	* cus-edit.el (plist): New widget type.
	(custom-plist-convert-widget): New function.
	(custom-quote): Vectors and bit-vectors are also self-printable.

1997-12-05  Mark Borges  <mdb@cdc.noaa.gov>

	* mail/mail-extr.el (all-top-level-domains):
	Two letter country codes synched with
	  http://www.iana.org/in-notes/iana/assignments/country-codes
	as updated by the RIPE Network Coordination Centre.
	Source: ISO 3166 Maintenance Agency
	Latest change: Thu Aug  7 17:59:51 MET DST 1997

1997-12-03  Eric Eide  <eeide@cs.utah.edu>

	* files.el (set-auto-mode): Don't invoke
	  `hack-local-variables-prop-line' if `enable-local-variables'
	   is nil.

	* files.el (hack-local-variables-prop-line): Don't invoke
	  `hack-local-variables-p' for mode-only or empty -*- lines.
	  Don't test `enable-local-variables' before setting the mode;
	  instead, just verify that the specified major mode isn't the
	  current major mode.

1997-12-03  Hrvoje Niksic  <hniksic@srce.hr>

	* startup.el (load-init-file): Use a warning buffer in case of
 	error.

1997-12-05  SL Baur  <steve@altair.xemacs.org>

	* buffer.el (switch-to-buffer): Update docstring.
	Suggested by Adrian Aichner <aichner@ecf.teradyne.com>

1997-12-01  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* cus-edit.el (custom-unlispify-remove-prefixes): Reference to
	related variables added.
	(custom-variable-default-form): New variable controlling default
	display form for customization of variables.
	(custom-variable): widget `:form' is nil before initialization.
	(custom-variable-value-create): Initialize `:form' to
	`custom-variable-default-form'.
	(custom-face-default-form): New variable controlling default
	display form for customization of faces.
	(custom-face): widget `:form' is nil before initialization.
	(custom-face-value-create): Initialize `:form' to
	`custom-face-default-form'.

1997-11-28  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* misc/mic-paren.el: Define faces with `defface'.  Colors
	given for both dark and light backgrounds.  Keep face
	variables for backward compatibility.

1997-12-03  Hrvoje Niksic  <hniksic@srce.hr>

	* simple.el (temporary-goal-column): Made buffer-local.

1997-12-01  Hrvoje Niksic  <hniksic@srce.hr>

	* cus-edit.el (Custom-move-and-invoke): Removed.
	(custom-mode): Ditto for doc.

1997-12-02  SL Baur  <steve@altair.xemacs.org>

	* egg/egg-sj3-client.el (sj3-command-reset): Initial port to XEmacs.

	* egg/egg-sj3.el: Initial port to XEmacs.

	* egg/egg-leim.el (egg-activate): Define
	`egg-default-startup-file'.

	* language/japanese.el (japanese): Remove definition of
	`egg-default-startup-file'.

	* dumped-lisp.el (preloaded-file-list): Dump egg-sj3 and skk LEIM
	support.

	* egg/egg-sj3-leim.el: New file -- Add Egg/SJ3 support to LEIM.

1997-12-01  SL Baur  <steve@altair.xemacs.org>

	* locale/ja/locale-start.el (startup-splash-frame-body): Fix typo
	on advertised-undo.
	Suggested by: Hajime Saitou
	- Comment cleanup.

1997-11-30  SL Baur  <steve@altair.xemacs.org>

	* help-macro.el (help-read-key): Autoload.

1997-11-29  Hrvoje Niksic  <hniksic@srce.hr>

	* etags.el (buffer-tag-table-list): Check for `../TAGS'.
	(visit-tags-table): Disallow setting `tags-file-name' to a
	nonexistent file.

1997-11-29  SL Baur  <steve@altair.xemacs.org>

	* update-elc.el ((preloaded-file-list site-load-packages)): Modify
	error message to be more build-report.el friendly.

	* dumped-lisp.el (preloaded-file-list): Remove tooltalk/ prefix
	from tooltalk dumped files.

	* symbol-syntax.el: Modify comments.

1997-11-29  Kyle Jones  <kyle_jones@wonderworks.com>

	* etags.el (find-tag-default): Use symbol-near-point
	  instead of thing-symbol to remove the dependency on
	  thing.el.

1997-11-29  SL Baur  <steve@altair.xemacs.org>

	* symbol-syntax.el: Unpackaged.
	* disp-table.el: Unpackaged.
	* picture.el: Unpackaged.
	* rect.el: Unpackaged.
	* lisp-mnt.el: Unpackaged.

	* mule/canna.el: Don't require emu.
	(canna:enter-canna-mode): Inline code for compatibility function
	`minibuffer-prompt-width'.

	* info.el (Info-find-node): Guard call to browse-url.
	* wid-edit.el (widget-url-link-action): Ditto.

	* hyper-apropos.el (hyper-apropos-get-doc): Use cl-prettyprint
	instead of pp.
	(hyper-apropos-disassemble): Ditto.

	* x-menubar.el (default-menubar): Disable WWW items in help menu
	if no browse-url.

	* help.el (xemacs-www-page): Print error message intead of bombing
	if not browse-url.
	(xemacs-www-faq): Ditto.

	* files.el (recover-session): Print error message instead of
	bombing if no dired.
	(file-remote-p): Return nil if no ange-ftp and no efs.

	* format.el (format-encode-run-method): `shell-command-on-region'
	called with wrong number of args.
	(format-decode-run-method): Ditto.

	* buff-menu.el (Buffer-menu-toggle-read-only): Call
	modeline-toggle-read-only.

	* register.el (copy-rectangle-to-register): Check for rectangle
	functions.
	(insert-register): Ditto.

	* x-toolbar.el (pending-delete): Don't (require 'pending-del).
	* x-menubar.el (pending-delete): Don't (require 'pending-del).

	* x-menubar.el (bookmark-menu-filter): Add guards against bookmark
	package not being loaded.

	* mule/char-table.el: Imported from tm.
	* mule/chartblxmas.el: Ditto.
	* alist.el: Ditto.
	* overlay.el: Unpackaged for Quail.

	* x-menubar.el (default-menubar): Put guard on evaluation of
	`ps-paper-type'.
	(default-menubar): Put guard on `paren-mode'.
	- Put guard on `mouse-avoidance-mode'.
	- Guard `font-lock' stuffs.
	- Guard browse-url stuffs.
	- Clean up old deprecated syntax.
	- Put guards on File, Edit, Apps, and Tools menus.

1997-11-28  Hrvoje Niksic  <hniksic@srce.hr>

	* x-toolbar.el (toolbar-news-frame-properties): Made customizable.

1997-11-27  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* lazy-shot.el (lazy-shot-stealth-timer): `defvar'.  Would
	bug out when setting `lazy-shot-stealth-time' to nil and visiting
	a buffer smaller than `lazy-shot-minimum-size'.
	(font-lock-mode-hook): Option is turn-on-lazy-shot.

1997-11-27  Kyle Jones  <kyle_jones@wonderworks.com>

	* etags.el: Support new `include'
	  directive.  Search for exact tag matches and then
	  inexact matches.

1997-11-26  SL Baur  <steve@altair.xemacs.org>

	* packages.el (packages-useful-lisp): advice.el is a package.

	* x-menubar.el (default-menubar): Make `Options ... Color Printing'
	a toggle.

1997-11-26  Kyle Jones  <kyle_jones@wonderworks.com>

	* toolbar.el (init-toolbar-from-resrouces): Fix
	  parens to make valid if-expression.

1997-11-21  Hrvoje Niksic  <hniksic@srce.hr>

	* x-toolbar.el (toolbar-gnus): Respect
	`toolbar-news-use-separate-frame'.

1997-11-22  Hrvoje Niksic  <hniksic@srce.hr>

	* x-menubar.el (default-menubar): Use `bookmark-menu-filter'
	for the Bookmarks menu.
	(bookmark-menu-filter): Handle inactive submenus.

1997-11-25  Hrvoje Niksic  <hniksic@srce.hr>

	* custom.el (custom-declare-variable): Attach the symbol to
	load history.

1997-11-23  SL Baur  <steve@altair.xemacs.org>

	* startup.el (find-emacs-root-internal-1): Erase references to
	prim.

	* blessmail.el: dumped-lisp.el has been moved.
	* font.el: ditto.
	* make-docfile.el: ditto.
	* package-admin.el: ditto.
	* update-elc.el: ditto.

	* about.el: Moved.
	* cleantree.el: ditto.
	* dumped-lisp.el: ditto.
	* sound.el: ditto.
	* winnt.el: ditto.

1997-11-22  Kyle Jones  <kyle_jones@wonderworks.com>

	* faces.el: Don't set global background pixmap
	  property of the modeline face to [nothing], as that
	  the attributeBackgroundPixmap X resource.

1997-11-21  SL Baur  <steve@altair.xemacs.org>

	* autoload.el: Moved.
	* config.el: ditto.
	* etags.el: ditto.
	* font-lock.el: ditto.
	* fontl-hooks.el: ditto.
	* gnuserv.el: ditto.
	* info.el: ditto.
	* shadow.el: ditto.
	* view-less.el: ditto.

1997-11-18  Colin Rafferty  <craffert@ml.com>

	* packages.el (packages-find-packages): Modified to allow `nil'
 	entry in the `package-path'.  All entries before the nil will be
 	prepended to the paths (as before).  All entries after nil will be
 	appended.

	* packages.el (locate-data-file): Implemented similar to
 	locate-data-directory.

1997-11-20  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-faces.el: Add expression to xpm-color-symbols to
	  look for the global background resource when supporting
	  the backgroundToolBarColor XPM symbolic name.

1997-11-17 Marc Paquette   <marcpa@cam.org>

	* efs/dired.el: Removed special case for windows-nt in
	dired-get-filename(); no longer needed because we now do
	CRLF->LF conversion upstream.

1997-11-18  Jonathan Harris <jhar@tardis.ed.ac.uk>

	* msw-faces.el: Actually does something.

1997-11-18  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* packages/font-lock.el (font-lock-fontify-anchored-keywords):
	Sync'd with FSF 20.2.
	(font-lock-keywords): Docstring partly sync'd with FSF 20.2.

1997-11-18  SL Baur  <steve@altair.xemacs.org>

	* egg/egg-leim.el (egg-activate): Call normal language setup
	function.
	- Call egg-mode
	- require egg-wnn

	* egg/egg-wnn.el (set-wnn-host-name): Use localhost as a fallback.
	(set-cwnn-host-name): Ditto.
	(set-kwnn-host-name): Ditto.
	(open-wnn-if-disconnected): Ditto.

1997-11-18  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/about.el (about-maintainer-info): Corrected typo.

	* x-toolbar.el (toolbar-mail): Use `eval' to evaluate forms.

	* cus-edit.el (customize-browse): Call `widget-add-change'.

1997-11-18  SL Baur  <steve@altair.xemacs.org>

	* utils/uniquify.el (uniquify-buffer-name-style): Fix typo.
	Suggested by: Michael Sperber <sperber@informatik.uni-tuebingen.de>

1997-11-18  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/about.el (about-news): Announce a way to leave the buffer.

1997-11-17  Kyle Jones  <kyle_jones@wonderworks.com>

	* x-toolbar.el (x-init-toolbar-from-resources):
	  Initialize the toolbar border width specifiers.

1997-11-17  SL Baur  <steve@altair.xemacs.org>

	* mule/mule-files.el: Add TUTORIAL.pl to
	`file-coding-system-alist'.
	* language/european.el: Add Polish language environment.

	* loadup.el: set inhibit-package-init when running from temacs.

1997-11-16  SL Baur  <steve@altair.xemacs.org>

	* prim/options.el: Fix comment typo.
	From Peter Pezaris <pez@dwwc.com>

1997-11-16  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/minibuf.el (reset-buffer): Make inhibit-read-only
	  local to the current buffer and set it to t to prevent
	  read-only text from permanently wedging the minibuffer.

1997-11-16  SL Baur  <steve@altair.xemacs.org>

	* packages/emacsbug.el (report-xemacs-bug): Handle case where
	` *Message-Log*' buffer has not already been created.
	* prim/help.el (view-lossage): Ditto.
	* prim/simple.el (show-message-log): Ditto.

1997-11-15  SL Baur  <steve@altair.xemacs.org>

	* packages.el (list-autoloads): Fix doubleslash problem.

1997-11-14  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-before-change): Check for inactive
	editable fields.

1997-11-13  SL Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs): Update maintainers.

1997-11-12  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-edit.el (custom-face-save): Save the face.

1997-11-13  Kyle Jones  <kyle_jones@wonderworks.com>

	* packages/font-lock.el (font-lock-fontify-keywords-region):
	  If not fontifying a MATCH-ANCHORED style keyword,
	  backtrack to just after the end of the keyword before
	  doing the next search.

1997-11-13  Olivier Galibert  <olivier.galibert@mines.u-nancy.fr>

	* language/vietnamese.el: Synched ccl with FSF 20.2.

	* language/cyrillic.el: Synched ccl with FSF 20.2.

	* language/chinese.el: Synched ccl with FSF 20.2.

	* mule/mule-ccl.el: Synched with FSF 20.2.

1997-11-12  SL Baur  <steve@altair.xemacs.org>

	* leim/quail.el (quail-translation-keymap): Guard against
	meta-prefix-char being -1 (documented as disabling it :-().
	(quail-simple-translation-keymap): Ditto.
	(quail-conversion-keymap): Ditto.

1997-11-11  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-face.el (custom-face-attributes): Use
 	`set-face-stipple' instead of `set-face-background-pixmap'.

	* prim/faces.el (set-face-stipple): Search through
	x-bitmap-file-path.

1997-11-09  Hrvoje Niksic  <hniksic@srce.hr>

	* speedbar/speedbar.el (speedbar-needed-height): New function.
	(speedbar-frame-mode): Use it.

1997-11-07  Karl M. Hegbloom  <karlheg@inetarena.com>

	* speedbar/speedbar.el: Various docfixes.

1997-11-12  SL Baur  <steve@altair.xemacs.org>

	* pcl-cvs/pcl-cvs-xemacs.el: Fix emerge menu item.
	From Jens Krinke <krinke@ips.cs.tu-bs.de>

	* mule/mule-cmds.el (set-language-info): Don't add mule menu if
	menubars haven't been compiled in.

1997-11-10  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* custom/cus-edit.el (custom-file): Use `user-init-directory'
	instead of `emacs-user-extension-dir'.

1997-11-12  SL Baur  <steve@altair.xemacs.org>

	* modes/image-mode.el: Add command to enter xpm mode when viewing XPM
	image.
	From:  Jens Krinke <krinke@ips.cs.tu-bs.de>

1997-11-12  Greg Klanderman  <greg@alphatech.com>

	* packages/compile.el (compilation-build-compilation-error-regexp-alist):
	Added documentation for this function.

	** (compilation-error-regexp-systems-list): Update documentation
 	to note that `compilation-build-compilation-error-regexp-alist'
 	must be called after changing the value.  Update customization to
 	add a set method which automatically calls
 	`compilation-build-compilation-error-regexp-alist' when the value
 	is set by custom.  Move declaration below declarations that it now
 	depends upon.

	** (compilation-mouse-motion-initiate-parsing): Default to nil.

1997-11-12  Hrvoje Niksic  <hniksic@srce.hr>

	* help.el (help-for-help): Use `make-help-screen'.
	* help-macro.el:  New file.

1997-11-10  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el (options-menu-saved-forms):
	`current-language-environment' is a variable now.

	* packages/add-log.el (TopLevel): Require 'fortran only if it is
	available.

	* modes/lazy-shot.el (lazy-shot-unstall): Add guard on removing
	the timer because the timer may not have been installed first.

1997-11-10  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/frame.el (default-deselect-frame-hook): Dehighlight the
	currently highlighted extent.

1997-11-09  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/help.el (describe-variable): Add proper spacing.

1997-11-10  SL Baur  <steve@altair.xemacs.org>

	* utils/browse-url.el (TopLevel): Guard against term not being in
	the load path.
	(browse-url-lynx-emacs): Attach guards against term not being in
	the load path.

1997-11-09  SL Baur  <steve@altair.xemacs.org>

	* packages/autoinsert.el: Fix bottom of lisp file template.

1997-11-09  Kyle Jones  <kyle_jones@wonderworks.com>

	* gui.el: For gui-button-face, set
	  foreground/background colors only on X devices.
	  Previously they were set for all devices.

1997-11-09  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/extents.el (extent-keymap): New function.

1997-11-09  Kyle Jones  <kyle_jones@wonderworks.com>

	* specifier.el: Define specifier tags for the
	  device types that do not have compiled in support.
	  This allows device type specific properties to be set
	  in specifiers even if the device type isn't supported
	  in the current binary.

1997-11-07  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-glyph-pointer-glyph): New variable.
	(widget-glyph-insert-glyph): Use it.

1997-11-09  SL Baur  <steve@altair.xemacs.org>

	* files.el (find-file-noselect): Guard against dired not being
	available.

1997-11-09  Kyle Jones  <kyle_jones@wonderworks.com>

	* gui.el: Set the reverse-p property on
	  gui-button-face so that it will likely look different
	  than the default face on ttys.

1997-11-09  SL Baur  <steve@altair.xemacs.org>

	* x-menubar.el (default-menubar): Strokes has been packaged.

1997-11-08  SL Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-hackers): New entries.

	* utils/shadow.el (list-load-path-shadows): Supress message when
	no shadowings are found.

	* loadup.el: Modify algorithm for finding initial lisp directories
	since the search now starts from lisp/ not lisp/prim/.
	* update-elc.el: Ditto.
	* make-docfile.el: Ditto.

1997-11-07  SL Baur  <steve@altair.xemacs.org>

	* prim/dumped-lisp.el: "lib-complete" is not dumped with InfoDock.
	* utils/finder.el (finder-known-keywords): New keyword -- `dumped'.

	* version.el:  Cleaned up Lisp comments.
	* paths.el: Ditto.
	* x-menubar.el: Ditto.
	* x-faces.el: Ditto.
	* x-iso8859-1.el: Ditto.
	* x-mouse.el: Ditto.
	* x-select.el: Ditto.
	* x-scrollbar.el: Ditto.
	* x-misc.el: Ditto.
	* x-init.el: Ditto.
	* x-toolbar.el: Ditto.

	* backquote.el: Moved to top-level.  Cleaned up Lisp comments.
	* packages.el: Ditto.
	* subr.el: Ditto.
	* replace.el: Ditto.
	* cl.el: Ditto.
	* cl-extra.el: Ditto.
	* cl-seq.el: Ditto.
	* widget.el: Ditto.
	* custom.el: Ditto.
	* cus-start.el: Ditto.
	* cmdloop.el: Ditto.
	* keymap.el: Ditto.
	* syntax.el: Ditto.
	* device.el: Ditto.
	* console.el: Ditto.
	* obsolete.el: Ditto.
	* specifier.el: Ditto.
	* faces.el: Ditto.
	* glyphs.el: Ditto.
	* objects.el: Ditto.
	* extents.el: Ditto.
	* events.el: Ditto.
	* text-props.el: Ditto.
	* process.el: Ditto.
	* frame.el: Ditto.
	* map-ynp.el: Ditto.
	* simple.el: Ditto.
	* keydefs.el: Ditto.
	* abbrev.el: Ditto.
	* derived.el: Ditto.
	* minibuf.el: Ditto.
	* list-mode.el: Ditto.
	* modeline.el: Ditto.
	* startup.el: Ditto.
	* misc.el: Ditto.
	* help-nomule.el: Ditto.
	* help.el: Ditto.
	* files-nomule.el: Ditto.
	* files.el: Ditto.
	* lib-complete.el: Ditto.
	* format.el: Ditto.
	* indent.el: Ditto.
	* isearch-mode.el: Ditto.
	* buffer.el: Ditto.
	* buff-menu.el: Ditto.
	* undo-stack.el: Ditto.
	* window.el: Ditto.
	* window-xemacs.el: Ditto.
	* lisp.el: Ditto.
	* page.el: Ditto.
	* register.el: Ditto.
	* iso8859-1.el: Ditto.
	* paragraphs.el: Ditto.
	* easymenu.el: Ditto.
	* lisp-mode.el: Ditto.
	* text-mode.el: Ditto.
	* fill.el: Ditto.
	* auto-save.el: Ditto.
	* float-sup.el: Ditto.
	* itimer.el: Ditto.
	* itimer-autosave.el: Ditto.
	* toolbar.el: Ditto.
	* scrollbar.el: Ditto.
	* menubar.el: Ditto.
	* dialog.el: Ditto.
	* gui.el: Ditto.
	* mode-motion.el: Ditto.
	* mouse.el: Ditto.
	* tty-init.el: Ditto.
	* auto-show.el: Ditto.

1997-11-07  Kyle Jones  <kyle_jones@wonderworks.com>

	* modes/abbrev.el (abbrev-prefix-mark): Instead of
	  inserting a dash to indicate the start of the abbrev,
	  add an extent with a begin-glyph that contains a dash.

Wed Nov 05 23:40:00 1997 Jonathan Harris <jhar@tardis.ed.ac.uk>

	* faces.el: init-other-random-faces
 	  Reinstated code that uses (mono x) as a specifer tag, but
	  conditioned it on (featurep 'x) because x is not a valid
	  specifier tag under native-win32.

	* Added file headers to:
	  w32-faces.el, w32-init.el

1997-11-06  Hrvoje Niksic  <hniksic@srce.hr>

	* facemenu.el (facemenu-insert-menu-entry): Check for
	menubar availability.

	* easymenu.el (easy-menu-change): Check for menubar
	availability.

	* wid-edit.el (widget-echo-help): Use `help-echo' as label
	for help-echo messages.

Sun Nov 01 12:00:00 1997 Jonathan Harris  <jhar@tardis.ed.ac.uk>

	* make-docfile.el: Fixed typo when dumped file does not exist.

	* device.el: make-w32-device added.

	* dumped-lisp: added w32-faces and w32-init to list.

	* faces.el:
	  - make-face-*: Added calls to appropriate w32 functions
	    conditioned on (featurep 'w32). Made existing X calls
	    conditioned on (featurep 'x).
	  - init-other-random-faces: Hacked out a piece of code which used
	    (mono x) as a specifier because it made w32 unhappy.

	* New files:
	  w32-faces.el, w32-init.el

1997-11-07  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/mouse.el (default-mouse-motion-handler): When over
 	modeline, correctly dehighlight the last extent.

1997-11-07  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/minibuf.el (mouse-read-file-name-1): Ditto.

	* packages/balloon-help.el (balloon-help-make-help-frame): Ditto.

	* games/life.el (life-setup): Check for scrollbars before using
 	them.

1997-11-07  Hrvoje Niksic  <hniksic@srce.hr>

	* hm--html-menus/hm--html-mode.el (hm--html-minor-mode): Ditto.

	* hm--html-menus/hm--html-menu.el ((adapt-xemacsp)): Ditto.

	* comint/gud.el (gdb-install-menubar): Ditto.

	* calendar/calendar.el (calendar-mode): Ditto.

	* auctex/bib-cite.el (bib-cite-initialize): Ditto.

	* utils/floating-toolbar.el (floating-toolbar): Ditto.

	* utils/edit-toolbar.el (edit-toolbar-mode): Ditto.

	* utils/browse-cltl2.el (cltl2-lisp-mode-install): Ditto.

	* modes/view-process-xemacs.el
 	(View-process-install-pulldown-menu): Ditto.

	* modes/verilog-mode.el (verilog-mode): Ditto.

	* modes/tcl.el (tcl-mode): Ditto.

	* modes/f90.el (f90-mode): Ditto.

	* packages/emerge.el (emerge-set-keys): Ditto.

	* packages/tar-mode.el (tar-mode): Check for menubars.

1997-11-07  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/modeline.el (mouse-drag-modeline): Don't
	  allow the window size to shrink to a size that is not a
	  multiple of the height of the default face's font.

	* prim/modeline.el (mouse-drag-modeline): Don't
	  discard timeout events.

1997-11-07  SL Baur  <steve@altair.xemacs.org>

	* prim/simple.el (universal-argument-minus): Retain zmacs region.

1997-11-07  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/hyper-apropos.el (hyper-apropos-grok-functions): Ignore
	errors when fetching documentation.

	* prim/about.el (about-maintainer-glyph): Handle not having XPM or
	XBM gracefully.

	* custom/wid-edit.el (widget-glyph-find): Allow glyphs without
	window-system, when TAG is nil.

1997-11-05  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* mule/mule-cmds.el (set-default-coding-systems): Make
	add-hook to `comint-exec-hook' be an append, for when the user
	changes language environment say.

1997-11-05  SL Baur  <steve@altair.xemacs.org>

	* prim/winnt.el: Use a cleaner method for getting Text/Binary file
	type in the mode-line for MS Windows.

1997-11-06  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/mouse.el: Removed "junk me" functions.

	* prim/mouse.el (default-mouse-motion-handler): Make events over
	modeline invalidate `point'.

	* prim/mouse.el (mouse-line-length): Use point-at-eol and
 	point-at-bol.
	(default-mouse-track-normalize-point): Highlight the whole symbol
	only if the mouse is on a symbol-constituent.

	* custom/wid-edit.el (widget-specify-field): Make sure the extent
	is end-open.

	* prim/keymap.el (next-key-event): Use `next-command-event'.

1997-11-05  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/easymenu.el (easy-menu-add): Check with `equal' whether
	the menu already belongs to all-popups.

1997-11-05  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* packages/font-lock.el (font-lock-thing-lock-cleanup):
	Provisionally add lazy-shot

	* modes/lazy-shot.el (lazy-shot-mode): Unstall lazy-shot only if
	needed.
	(lazy-shot-fontify-internal): Functionality put in separate function.
	(lazy-shot-lock-extent): Use it.
	(lazy-shot-fontify-region): Dumb implementation added.
	(lazy-shot-unstall-after-fontify): Needed to disable lazy
	fontifying after fontify-buffer.
	(lazy-shot-unstall): Make sure buffer is left in a fontified state if
	needed. Take optional argument.


	* packages/ps-print.el (ps-print-ensure-fontified): Added
	temporary support for lazy-shot.

1997-11-05  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/text-props.el (set-text-properties): Updated docstring.

1997-11-04  Didier Verna  <didier@xemacs.org>

	* mule/mule-cmds.el (set-default-coding-systems):
	The coding-system argument to comint-exec-hook wasn't evaluated
	before building the lambda expression.

1997-11-04  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/time.el: Change all occurences of ballon to balloon.

1997-11-04  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/help.el (function-at-point-function): Remove this variable.
	(function-at-point): Remove use of `function-at-point-function'.

	* packages/info.el (Info-elisp-ref): Change call to
	`find-function-function' to `function-at-point'.

1997-11-04  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/info.el (Info-elisp-ref): Really change call to
	`find-function-function' to `function-at-point'.

1997-11-04  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/auto-save.el: Updated commentary; changed default
	autosave fallback to "~/.autosave".  Minor changes to compile
	without warnings.

1997-11-03  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/subr.el (function-interactive): New function.

1997-11-03  SL Baur  <steve@altair.xemacs.org>

	* prim/dumped-lisp.el: Dump auto-save with XEmacs.

	* prim/loadup.el: Make sure top level lisp directory gets a
	trailing slash when added to load-path.
	* prim/make-docfile.el:  Ditto.

1997-11-03  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* prim/simple.el (interprogram-cut-function,
	interprogram-paste-function): New variable (imported from Emacs
	20.2).
	(kill-new): Use `interprogram-cut-function' if it is not nil.
	(current-kill): Use `interprogram-paste-function' if it is not
	nil.

1997-11-03  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* locale/ja/locale-start.el (startup-splash-frame-body): Modify to
	be more natural Japanese.

	* x11/x-menubar.el: Delete "language environment" menu of
	"Options" menu.

1997-11-02  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/korean.el: Rename TUTORIAL.kr -> TUTORIAL.ko to fit
	with ISO 639 (two letter language code).

	* prim/dumped-lisp.el: Don't dump language/vietnamese.el because
	language/viet-util.el was removed temporary.

	* language/japanese.el: Rename TUTORIAL.jp -> TUTORIAL.ja to fit
	with ISO 639 (two letter language code).

1997-10-31  Pete Ware  <ware@cis.ohio-state.edu>

	* shell.el (shell-chdrive-regexp): New for DOS/NT
	(shell-mode): Added shell-font-lock-keywrods
	(shell-mode): Use $PWD for ksh
	(shell-directory-tracker): Use dirs and dirtrack-toggle.  This may
		cause problems at is interferes with "dired"
	(shell-snarf-envar): NEW
	(shell-copy-environment-variable): NEW

1997-10-30  Pete Ware  <ware@cis.ohio-state.edu>

	* comint.el (comint-mode-map): Rearranged menus so they have a
		  meaningful name.

1997-10-30  Pete Ware  <ware@cis.ohio-state.edu>

	* comint.el (comint-find-source-file-hook):
	(comint-goto-source-line-hook):
	(comint-find-source-code):
	(comint-default-find-source-file):
	(comint-fixup-source-file-name):
	(comint-default-goto-source-line):  Removed.  compile.el does a
		better job of this stuff.

	* comint.el
	(comint-file-name-chars): Support for msdos/nt
	- Let easymenu deal with whether menubar is available.
	- Use ^d for delchar or maybe eof.
	- Use "dumb" as the terminal type if on a system using terminfo
	(comint-output-filter): Removed replacement of ^M -- use filter
	(comint-dynamic-complete-as-filename): Don't set
		file-name-handler-alist to nil.  This makes remote path
		completion work!

1997-11-02  SL Baur  <steve@altair.xemacs.org>

	* prim/advocacy.el (xemacs-praise-sound-file): Don't default to
	using a hardcoded directory.

	* eterm/term.el (term-is-xemacs): Match against XEmacs instead of
	Lucid.

	* eos/sun-eos-toolbar.el (eos::toolbar-icon-directory): Use
	`locate-data-directory' instead of data-directory.
	* eterm/term.el (term-exec-1): Ditto.
	* packages/time.el (display-time-icons-dir): Ditto.
	* prim/advocacy.el (praise-be-unto-xemacs): Ditto.
	* prim/sound.el (default-sound-directory): Ditto.
	* prim/toolbar.el (init-toolbar-location): Ditto.

1997-10-31  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-color-complete): Use
	`read-color-completion-table' directly.

	* prim/subr.el (rplaca): Warn against the return value.
	(replace-in-string): Use `wrong-type-argument'.  Use standard
 	error message.
	(functionp): Would bug out on certain types of objects; synch with
 	FSF.
	(with-output-to-string): Use new-style backquotes.
	(with-temp-buffer): Update docstring references.

	* prim/minibuf.el (reset-buffer): Use `with-current-buffer'.
	(read-color-completion-table): Ditto.
	(read-color-completion-table): Complete TTY colors on TTY devices.

	* custom/cus-start.el: Customize `scroll-conservatively'.
	Customize `help-char' correctly.

1997-11-02  SL Baur  <steve@altair.xemacs.org>

	* packages/desktop.el (toplevel): Don't require dired or reporter
	when byte compiling.

1997-11-02  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/keymap.el (synthesize-keysym): Collect a list of
	characters, instead of consing a string each time.
	(synthesize-keysym): Better error checking.

	* prim/keymap.el (synthesize-keysym): Don't bug out when reading a
	non-character event.

1997-11-02  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/keymap.el (synthesize-keysym): New function bound to C-x @ k.

1997-11-02  Kyle Jones  <kyle_jones@wonderworks.com>

	* modes/sendmail.el: Don't (require 'vm-misc).  Change
	  mail-do-fcc-vm-internal to not compile the chunk of code
	  that uses VM internal macros.  This prevents the byte
	  compiler from compiling such references into function
	  calls that Fbyte_code will complain about later when it
	  discovers that the references are macros.

	* modes/sendmail.el: added defvars for
	  rmail-summary-buffer and rmail-total-messages to get
	  rid of compiler warnings.
1997-11-01  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/subr.el (lambda): Moved from `packages.el'.

	* prim/packages.el: Updated commentary.
	(packages-useful-lisp): Added `cl-macs'.

1997-10-27  Didier Verna  <didier@xemacs.org>

	* prim/help-nomule.el (help-with-tutorial): The 'didactic' blank
	lines message is now taken directly from each tutorial, and thus
 	can appear in different languages.

	* mule/mule-help.el (help-with-tutorial): idem

1997-10-26  Karl M. Hegbloom  <karlheg@inetarena.com>

	* utils/shadowfile.el (shadow-clusters): Customized.
	(shadow-read-files): replace obsolete `eval-current-buffer'
	(shadow-parse-fullpath): `efs-ftp-name' doesn't exist.  change to
	`efs-ftp-path'

1997-11-01  SL Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el:  Change Viper menu item to use
	`toggle-viper-mode'.
	Suggested by Michael Kifer <kifer@CS.SunySB.EDU>

	* mule/mule-init.el:  Remove `help-with-tutorial-for-mule'.
	Suggested by Didier Verna <didier@xemacs.org>

	* Disable Cyrillic CCL until CCL engine gets fixed.
	From: Martin Buchholz <mrb@Eng.Sun.COM>

1997-10-30  Colin Rafferty  <craffert@ml.com>

	* prim/startup.el (command-line-early): Made it recognize
	--vanilla and --no-packages, as is already done in emacs.c.

1997-10-30  Karl M. Hegbloom  <karlheg@inetarena.com>

	* modes/cperl-mode.el: Add Commentary and Code statements to
 	comment header for finder.

1997-10-30  SL Baur  <steve@altair.xemacs.org>

	* vm/vm-vars.el (vm-image-directory): Use locate-data-directory if
	it exists.

	* language/european.el: Remove erroneous references to
	`Serbo-Croatian'.
	* language/cyril-util.el: Ditto.
	* leim/quail/cyrillic.el: Ditto.

	* comint.el:  reverse previous patch

1997-10-29  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/mule-init.el (init-mule): Load locale-start even if lang is
	not exactly matched.

	* mule/mule-init.el (auto-language-alist): Modify for new language
	environment feature.
	(init-mule): Modify for new language environment feature.

1997-10-29  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/korean.el (setup-korean-environment): Modify for
	XEmacs.

	* language/greek.el: Modify setting about language environment.

	* language/european.el: Fix setting for Croatian language
	environment.

	* language/vietnamese.el: Fix setting about language environment.

	* language/viet-util.el (setup-vietnamese-environment): Modify for
	XEmacs.

	* language/cyril-util.el (setup-cyrillic-iso-environment): Modify
	for XEmacs.
	(setup-cyrillic-koi8-environment): Modify for XEmacs.
	(setup-cyrillic-alternativnyj-environment): Modify for XEmacs.

1997-10-28  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/hebrew.el (setup-hebrew-environment): Modify for
	XEmacs.

	* mule/mule-cmds.el (set-default-coding-systems): New function.
	(set-language-info): Fix about menu.
	(read-input-method-name, toggle-input-method): Sync with Emacs
	20.2.

	* language/cyril-util.el: Modify header.

	* language/cyril-util.el
	(setup-cyrillic-alternativnyj-environment): Modify for XEmacs.

	* language/cyril-util.el: New file; imported from Emacs 20.2.

	* language/japan-util.el (setup-japanese-environment): Use
	`set-default-coding-systems'.

	* language/european.el (setup-8-bit-environment): Modify for
	XEmacs.

	* language/english.el (setup-english-environment): Use
	`set-default-coding-systems'.

	* language/chinese.el: Modify for XEmacs.

	* language/china-util.el (setup-chinese-gb-environment,
	setup-chinese-big5-environment): Use `set-default-coding-systems'.

	* mule/mule-files.el (file-coding-system-alist): Fix typo.

1997-10-28  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* prim/dumped-lisp.el: Abolish Thai support temporary.

	* language/thai.el, language/thai-util.el: Delete Thai specific
	files because composite character features don't work in XEmacs.

	* language/japan-util.el: Modify header.

	* language/chinese.el: Abolish `Chinese-CNS' environment
	temporary.

	* language/china-util.el: Abolish `setup-chinese-cns-environment'
	temporary.

	* language/china-util.el (setup-chinese-big5-environment): Modify
	for XEmacs.

	* language/china-util.el (setup-chinese-gb-environment): Modify
	for XEmacs.

	* language/chinese.el: Delete set-coding-category-system for big5.

	* language/japan-util.el (setup-japanese-environment): Modify for
	XEmacs.

	* language/japanese.el: Delete set-coding-category-system for
	shift-jis.

	* language/english.el (setup-english-environment): Modify for
	XEmacs.

1997-10-28  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/auto-autoloads.el: New file.

	* mule/mule-files.el (file-coding-system-alist): Add setting for
	TUTORIAL.hr to iso-8859-2.

	* leim/quail/tibetan.el, leim/quail/ethiopic.el,
	leim/quail/japanese.el, leim/quail/lao.el, leim/quail/lrt.el,
	leim/quail/devanagari.el: Delete broken features temporary.

	* language/tibetan.el, language/indian.el, language/lao-util.el,
	language/lao.el, language/tibet-util.el, language/ethio-util.el,
	language/ethiopic.el, language/devanagari.el: Delete broken
	features temporary.

	* mule/mule-cmds.el (universal-coding-system-argument): New
	function; imported from Emacs 20.2.

1997-10-27  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/korean.el, language/thai.el, language/vietnamese.el,
	language/chinese.el, language/japanese.el, language/arabic.el,
	language/ethiopic.el: Abolish setting for old language
	environment.

	* language/hebrew.el: Modify for XEmacs.

	* Use language/hebrew.el instead of mule/hebrew-hooks.el; abolish
	mule/hebrew-hooks.el.

	* mule/mule-misc.el: Abolish old language environment features.

	* mule/mule-init.el: Delete old language environment specific
	features temporary.

	* prim/dumped-lisp.el: Use language/hebrew.el instead of
	hebrew-hooks.el.

	* mule/mule-cmds.el (describe-language-environment): Modify for
	XEmacs because `coding-system-mnemonic' returns string instead of
	character in XEmacs.

	* mule/mule-cmds.el: Sync with Emacs 20.2 about language
	environment.

	* mule/mule-cmds.el: Don't use `mule-prefix'.

1997-10-26  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/ethiopic.el (ccl-encode-ethio-font): Modify to sync
	with Emacs 20.2.

1997-10-26  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule-diag.el (list-coding-systems): Modify for XEmacs.

1997-10-26  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/mule-files.el (find-coding-system-magic-cookie): Regard top
	line magic.
	(load): Use `find-file-coding-system-for-read-from-filename'.

	* language/arabic-util.el: Use iso-2022-7bit.

1997-10-26  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule-diag.el (describe-designation): Moved from mule-debug.el.
	(describe-coding-system): Use `describe-designation'.

	* mule-debug.el: Move function `describe-designation' to
	mule-diag.el; Abolish function `describe-coding-system' because of
	using it in mule-diag.el.

	* mule-coding.el (keyboard-coding-system): New inline function.
	(terminal-coding-system): New inline function.

	* mule-cmds.el: Bind `describe-coding-system' to C-h C instead of
	`describe-current-coding-system' to sync with Emacs 20.2.

	* mule-diag.el: Abolish `print-designation' because it does not
	work in XEmacs.

	(describe-coding-system): Modify for XEmacs.
	(print-coding-system-briefly): Modify for XEmacs.
	(describe-current-coding-system): Modify for XEmacs.

	* mule-coding.el: Abolish function `coding-system-charset'
	(defined as builtin function).

	* mule-diag.el: New file; imported from Emacs 20.2.

	* mule-misc.el (set-buffer-process-coding-system): New function;
	imported from mule.el of Emacs 20.2.

	* mule-cmds.el: Bind `set-buffer-process-coding-system' to C-x C-m
	p and abolish C-x C-m P.

	* mule-files.el (load): Use `binary' instead of `no-conversion'.

1997-10-28  Kyle Jones  <kyle_jones@wonderworks.com>

	* modes/enriched.el (enriched-face-ans): Use
	  color-name instead of color-instance-name.
	  color-instance-name will not handle the specifiers that
	  are passed as arguments.

1997-10-28  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/find-func.el (find-function-noselect): Fix nil argument
 	handling and add support for dumped macros.

1997-10-28  SL Baur  <steve@altair.xemacs.org>

	* pcl-cvs/pcl-cvs-xemacs.el: Add `cvs-mode-update-no-prompt' to menu.
	From Stig Bjorlykke <stigb@tihlde.hist.no>

1997-10-28  Didier Verna  <didier@xemacs.org>

	* packages/man.el (manual-entry): corrected the `when'
	form to include 'section' in the buffer name.

1997-10-28  SL Baur  <steve@altair.xemacs.org>

	* prim/packages (packages-find-pacakges): Fix test on
	inhibit-package-init

1997-10-27  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/keymap.el (event-apply-modifier): Fix the return type and
	scan the function-key-map.
	(next-key-event): New function.
	(key-sequence-list-description): Ditto.

1997-10-27  SL Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el: Turn off `popup-menubar-menu' keybinding.

	* prim/dumped-lisp.el (preloaded-file-list): Dump canna-leim and
	egg-leim with XEmacs.

	* mule/canna-leim.el: Clean up file for dumping with XEmacs.
	* egg/egg-leim.el: Ditto.

1997-10-27  Stephen J. Turnbull <turnbull@sk.tsukuba.ac.jp>

	* mule/canna-leim.el: Register Canna with LEIM when loaded

	* mule/canna.el (canna): Bind `canna-toggle-japanese-mode' to
	"\C-o" only if LEIM is not present

	* egg/egg-leim.el: Registers EGG/Wnn with LEIM when loaded

	* egg/egg.el: Bind `toggle-egg-mode' to "\C-\" only if LEIM is
	not present when loaded

1997-10-27  SL Baur  <steve@altair.xemacs.org>

	* prim/about.el: Update entries

1997-10-26  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (startup-message-timeout): Startup message
	timeout is too short.

	* mule/canna.el (canna): Move canna-toggle-japanese-mode
	keybinding to C-\.

	* emulators/edt-mapper.el (edt-lucid-emacs19-p): Test for XEmacs
	instead of Lucid in `emacs-version'.

1997-10-25  SL Baur  <steve@altair.xemacs.org>

	* mule/mule-cmds.el: describe-language-support,
	describe-language-support-internal removed.

Fri Aug  8 12:58:00 1997  David Byers  <davby@sen2.ida.liu.se>

	* fill.el (fill-region-as-paragraph): When justifying, check for
 	end-of-buffer at the end of whitespace point is sitting in, and
 	delete the trailing whitespace if we are on the last line.

1997-10-24  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/about.el (about-finish-buffer): Kill the buffer, when
	button documents so.

1997-10-24  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* pcl-cvs.el (cvs-parse-stderr): Ignore ssh-askpass message.

1997-10-20  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/packages.el (locate-library): Make NOSUFFIX not affect
 	compression.

1997-10-24  SL Baur  <steve@altair.xemacs.org>

	* modes/c-comment.el:  Create c-comment-edit-map.
	(c-comment-edit): Fix docstring, use new keymap.
	Suggested by Chris Felaco <felaco@iatcmail.ed.ray.com>

	* prim/help-nomule.el (tutorial-supported-languages): Add
	Norwegian.

	* prim/simple.el (assoc-ignore-case): Synch with Emacs 20.1.

	* mule/mule-cmds.el (set-language-info): Forgot to set any data
	values in language-alist.
	(read-multilingual-string): Fix call to `read-string'.

1997-10-22  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/backup-dir.el (bkup-backup-directory-info): customized,
 	with :require so it loads automagicly if you've set it.  Docstring
 	updated to reflect that, and reformatted for easier reading.

	* packages/jka-compr.el (jka-compr-compression-info-list):
 	Docstring clarification: what does the append flag do?

	* prim/minibuf.el (minibuffer-electric-slash): leave efs prefix
 	and ~\(blah\)? when / is pressed.

1997-10-24  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* efs/dired.el (dired-create-files): Get mark-char thing working
	again: replace `integerp' by `characterp'.
	(dired-add-entry): Ditto.
	(dired-add-entry-do-indentation): Ditto.

1997-10-24  Hrvoje Niksic  <hniksic@srce.hr>

	* x11/x-faces.el (*try-oblique-before-italic-fonts*): Customized.

1997-10-23  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (command-line-do-help): Add Documentation for
	-vanilla and -no-packages.
	(command-line-early): Implement them.

	* prim/packages.el (inhibit-package-init): New variable.
	(packages-find-packages): Use it.


	* packages/jka-compr.el (jka-compr-compression-info-list):
	Add bzip2 extensions.
	From Tomasz Cholewo <tjchol01@mecca.spd.louisville.edu>

1997-10-22  Karl M. Hegbloom  <karlheg@inetarena.com>

	* comint/comint.el (comint-scroll-show-maximum-output): fixups to
 	docstring, and to :type to allow numbers.
	(comint-postoutput-scroll-to-bottom): Added window arg to
 	`recenter' call to fix the horrid flash and global recentering,
 	and uncommented the code allowing numeric values for
 	`comint-scroll-show-maximum-output'.

1997-10-23  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/info.el (Info-mode): Don't initialize faces.

	* packages/info.el: Use `defface' to initialize faces.

1997-10-23  Karl M. Hegbloom  <karlheg@inetarena.com>

	* modes/cperl-mode.el (cperl-here-face): fix the horrible invisible
 	green default face.

1997-10-23  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-choose): Acknowledge aborted choice
	with a `Canceled' message, even if C-g wasn't pressed explicitly.

1997-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom/cus-edit.el (hook): Use `widget-group-match' instead of
	`widget-editable-list-match'.

1997-10-23  SL Baur  <steve@altair.xemacs.org>

	* modes/c-comment.el (c-comment-edit): Fixed autoload cookie.
	Reformatted Lisp comments.

1997-10-22  SL Baur  <steve@altair.xemacs.org>

	* psgml/psgml-charent.el (sgml-display-char-list-filename): Use
	locate-data-directory instead of data-directory.
	* psgml.el (sgml-data-directory): Ditto.

1997-10-20  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* extents.c: Renamed shot property to initial-redisplay-function
	(extent_fragment_update): Changed the bookkeeping whether an event
	has been spawned. The initial-redisplay-function property is no
	longer set to nil.

1997-10-21  SL Baur  <steve@altair.xemacs.org>

	* custom/cus-dep.el (Custom-make-dependencies): Ditch the time
	stamp.

1997-10-22  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* comint/gdb.el (gdb-with-core): Fixed autoload cookie.

1997-10-22  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/startup.el (command-line-1): Run term-setup-hook regardless
	of `input-pending-p'.

	* custom/cus-edit.el (custom-split-regexp-maybe): Use `split-string'.

	* custom/cus-start.el (custom-start-quote): Synch with
 	`custom-quote'.

	* prim/subr.el (functionp): Synched docstring with Emacs 20.2.

	* custom/cus-edit.el (custom-quote): Use `keywordp'; use
	`car-safe'; don't conditionalize on having `characterp'.

1997-10-21  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (radio-button): Use "radio0" as inactive
 	glyph.
	(widget-visibility-value-create): Use new semantics of
	`widget-glyph-insert'.

	* custom/cus-edit.el (custom-buffer-create-internal): Setup
	tag-down-glyphs with list.
	(custom-group-value-create): Ditto.

	* custom/wid-edit.el (widget-glyph-click): Check whether the
	extent was detached/killed.
	(widget-push-button-value-create): Removed crufty XPM contrast
	hack.
	(widget-default-create): Make the markers point nowhere after
	using them.
	(widget-default-create): Use `point-min-marker'/`point-max-marker'.
	(widget-glyph-find): Disallow list.
	(widget-glyph-insert): Allow IMAGE to be a list.

1997-10-20  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/featurep.el (featurep): Handle `not' correctly.

1997-10-21  SL Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-maintainer-glyph): Pictures have been moved
	to photos subdirectory.

1997-10-21  Hrvoje Niksic  <hniksic@srce.hr>

	* x11/x-menubar.el (options-menu-saved-forms): Check whether
	`pending-delete' is bound before accessing it.

1997-10-21  SL Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Conditionalize games menu.

1997-10-21  Colin Rafferty  <craffert@ml.com>

	* x11/x-menubar.el (default-menubar): Made it use lazy-shot
	instead of lazy-lock in "Syntax Highlighting->Lazy".
	(options-menu-saved-forms): Made it save lazy-shot instead of
	lazy-lock in the options.

1997-10-21  SL Baur  <steve@altair.xemacs.org>

	* mule/mule-help.el (help-with-tutorial): New file.

	* prim/dumped-lisp.el (preloaded-file-list): New entries for
	help-nomule and mule-help.

	* prim/help.el: Remove `help-with-tutorial'.

	* prim/help-nomule.el: New file.

1997-10-19  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/subr.el: Moved int-char and char-int definitions from
	obsolete.el.

1997-10-18  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-push-button-value-create): Require
 	`xpm-button'.
	(widget-push-button-value-create): Use :tag-down-glyph and
 	:tag-inactive-glyph.
	(widget-default-create): Use :tag-inactive-glyph.
	(widget-button-click): Correctly merge faces.

	* custom/cus-edit.el (custom-variable-action): Don't redraw
	magic.

	* custom/wid-edit.el (widget-glyph-insert): Return glyph.
	(widget-default-create): Insert :button-prefix and :button-suffix
	only if a glyph is not used.
	(widget-glyph-click): Respect :mouse-down-action.
	(widget-specify-insert): Document for edebug.
	(widget-default-create): Use markers to keep track of stuff.

	* custom/cus-edit.el (custom-group-value-create): Ditto.

	* custom/wid-edit.el (widget-default-create): Use :tag-down-glyph.

	* custom/cus-edit.el (custom-group-value-create): Use image.

	* prim/glyphs.el (init-glyphs): Minor fixups.

1997-10-17  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-field-value-get): Use `cond'.
	(default): Use :button-keymap.
	(widget-specify-button): Ditto.
	(widget-glyph-insert-glyph): Ditto.
	(widget-activation-glyph-mapper): Renamed from
 	`widget-activation-glyphs-mapper'.

	* custom/cus-edit.el (Custom-mode-menu): Go to `Easy
	Customization' node.
	(boolean): Don't use nested backquotes.

	* custom/wid-edit.el (widget-field-action): Check whether the new
 	value is valid before using it.

1997-10-16  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (character): Use [\0-\377] instead of . in
 	:valid-regexp.
	(widget-color-notify): Use `valid-color-name-p'.
	(widget-activation-widget-mapper): New function.
	(widget-specify-inactive): Use it.
	(widget-specify-active): Ditto.
	(widget-setup): Ditto.
	(radio-button): Added :inactive-glyph spec.
	(widget-toggle-value-create): Use it.
	(widget-color-sample-face-get): Check for color before setting it.
	(widget-color-sample-face-get): Store the face object, not its
 	name.

1997-10-18  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* help.el (function-at-point): Use `function-at-point-function'.
	(function-at-point-function): New variable, formerly
	`find-function-function'.
	(describe-function): Use `function-at-point'.
	(where-is): Ditto.

	* find-func.el (find-function-read-function): Use
	`function-at-point'.

	* packages/info.el (Info-elisp-ref): Use `function-at-point'.

	* packages/hyper-apropos.el (hyper-apropos-read-function-symbol):
	Use `function-at-point'.

	* packages/etags.el (emacs-lisp-default-tag): Use
	`function-at-point'.

	* prim/obsolete.el (function-called-at-point): Make it
	  obsolete.

1997-10-09  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/files.el (switch-to-buffer-other-frame): Remove call to
	`select-frame'.

1997-10-17  SL Baur  <steve@altair.xemacs.org>

	* prim/packages.el (packages-find-packages-1): New argument:
	`user-package' non-nil when searching user packages.
	- Load any autoloads found in user packages.

1997-10-17  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el (Info-insert-dir): Also kill the localdir temp
 	buffers.

1997-10-17  SL Baur  <steve@altair.xemacs.org>

	* utils/facemenu.el: autoload the `facemenu-keymap' properly.

	* mule/mule-cmds.el (read-language-name): Fix typo.
	From Didier Verna <didier@xemacs.org>

1997-10-15  Adrian Aichner  <aichner@ecf.teradyne.com>

	* utils/build-report.el: Leaving point at begin of composed mail now.
	Using mime-edit-content-beginning to determine file-begin of
	Installation file.
	Introduced the according alias for SEMI/TM compatibility.

	* utils/build-report.el:
	Corrected backward search for begin of last configuration in
	Installation file.

	* utils/build-report.el:
	Incorporated `xemacs-build-report-installation-insert-all' feature
	suggested by Didier Verna.
	Composing mail parts (with-temp-buffer ...) to simplify implementing
	future features.
	Eliminated use of mail-mode -specific function `mail-text'.

1997-10-14  Adrian Aichner  <aichner@ecf.teradyne.com>

	* utils/build-report.el:
	Incorporated fix for SEMI/TM compatibility suggested by Jens-Ulrik
	Holger Petersen <petersen@kurims.kyoto-u.ac.jp>.  If SEMI symbols are
	not fboundp, alias them to corresponding TM symbols.

1997-10-13  Adrian Aichner  <aichner@ecf.teradyne.com>

	* utils/build-report.el:
	Changed to (mime-edit-insert-tag "text" "plain" ...) from
	"application" "octet-stream" due to complaint from
	Kazuyoshi Furutaka in
	Message-Id: <19971013102132V.furutaka@Flux.tokai.jaeri.go.jp>

1997-10-13  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/facemenu.el: Autoload `facemenu-keymap' function definition.
	(facemenu-color-defined-p): Nuked.
	(facemenu-find-face): Ditto.
	(facemenu-region-active-p): Ditto.
	(facemenu-sized-face): Declare `prefix'.
	(facemenu-read-color): Aliased to `read-color'.
	(facemenu-face-attributes): Use `mapvector'.

	* utils/facemenu.el: Customized and synched with FSF 20.2.

1997-10-17  Hrvoje Niksic  <hniksic@srce.hr>

	* cl/cl-macs.el (extent-properties): Remove old setf method.

1997-10-16  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/files.el (revert-without-query): changed from boolean to
 	list of regexp as documented in NEWS and its docstring.

1997-10-16  SL Baur  <steve@altair.xemacs.org>

	* utils/floating-toolbar.el: (TopLevel): Don't unconditionally
	require the feature `toolbar' it causes breakage only at
	bytecompile time.  Don't do any initialization if toolbar support
	is not available.
	(floating-toolbar): Whine if no run-time toolbar support is
	available.

        * custom/wid-edit.el (widget-change-glyphs-mapper): cosmetic changes.
        From Hrvoje Niksic <hniksic@srce.hr>

	* prim/glyphs.el (init-glyphs): Use different logo for beta XEmacsen.
	From Didier Verna <didier@xemacs.org>

1997-10-15  Hrvoje Niksic  <hniksic@srce.hr>

	* cl/cl-macs.el (extent-property): Updated SETF methods for `get'
	and `extent-property'.

	* custom/wid-edit.el (widget-field-value-create): Revert to using
 	two markers.
	(widget-setup): Ditto.
	(widget-color-sample-face-get): Get only a unique face per widget.
	(widget-color-notify): Change the color of the face instead of
	creating a new one.

	* packages/add-log.el (add-change-log-entry): Push window
 	configuration.
	(change-log-exit): New function.
	(change-log-cancel): Ditto.
	(change-log-mode-map): Bind them.

	* custom/wid-edit.el (widget-specify-inactive): Make glyphs look
 	inactive.
	(widget-change-glyphs-mapper): New function.
	(widget-glyph-click): Disallow operations on inactive glyphs.

1997-10-14  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el: (widget-glyph-insert-glyph): Use
 	`widget-mouse-help' if necessary.
	(widget-documentation-string-value-create): Don't coerce help-echo
	WIDGET to widget.
	(widget-button-keymap): New keymap.
	(widget-specify-button): Use it.
	(widget-glyph-insert-glyph): Ditto.
	(widget-glyph-click): Dispatch events during the loop.
	(widget-glyph-click): Use `unwind-protect' to ensure that the
	glyph stays in up position.
	(widget-keymap): Don't bind buttons and RET.
	(widget-button-keymap): Bind mouse buttons and RET.
	(widget-field-activate): Use `widget-field-find'.

	* custom/wid-edit.el (widget-button-click): Visually "release" the
 	button *before* doing the buttonup action.
	(widget-button-click): Reworked.
	(widget-echo-help): Accept extent.

	* custom/cus-edit.el (custom-face-value-create): Use `make-face'.

	* custom/wid-edit.el (widget-restore-tabable): New function.
	(widget-deactivate-widget-extent): New function.
	(widget-reactivate-widget-extent): New function.
	(widget-specify-inactive): Use `widget-deactivate-widget-extent'.
	(widget-setup): Ditto.
	(widget-specify-active): Use `widget-reactivate-widget-extent'.
	(widget-move): Don't stop within inactive range.

1997-10-14  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/japan-util.el: Copied from Emacs 20.2.

	* mule/mule-cmds.el (char-code-property-table): New variable.
	(get-char-code-property): New function.
	(put-char-code-property): New function.

1997-10-10  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/vietnamese.el: Use language/viet-util.el instead of
	mule/mule-vietnamese.el; abolish mule/mule-vietnamese.el.

1997-10-09  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/mule-coding.el: Rename `automatic-conversion' ->
	`undecided' to sync with Emacs 20.2; define coding-system
	`automatic-conversion' as an alias for `undecided'.

	mule/mule-files.el (buffer-file-coding-system-for-read,
	convert-mbox-coding-system, insert-file-contents),
	language/japanese.el, language/chinese.el, language/korean.el:
	Rename `automatic-conversion' -> `undecided' to sync with Emacs
	20.2.

1997-10-08  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/viet-chars.el: New file; moved from
	mule/vietnamese-hooks-1.el.

	* language/vietnamese.el: Merge mule/vietnamese-hooks-2.el;
	abolish mule/vietnamese-hooks-2.el.

	* prim/dumped-lisp.el: Use language/viet-chars and
	language/vietnamese instead of mule/vietnamese-hooks-{1|2}.

1997-10-07  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/mule-misc.el (split-char): New function.

1997-10-14  SL Baur  <steve@altair.xemacs.org>

	* default.el: New file.
	* site-start.el: New file.  XEmacs starts faster if dummy versions
	of these files are found early in the `load-path'.
	Suggested by Kyle Jones <kyle_jones@wonderworks.com>

1997-10-14  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-field-find): Use `map-extents'.
	(widget-transpose-chars): Check for empty fields, and point at
	beginning of field.
	(widget-documentation-string-value-create): `insert-char' handles
	0 gracefully, so no need to protect.
	(widget-specify-inactive): Detach the button extents.
	(widget-specify-active): Reattach the button extents.
	(widget-make-field-untabable): New function.
	(widget-specify-inactive): Make the fields non-tabable; use
	`widget-make-field-untabable'.
	(widget-type): Revert to defsubst.

1997-10-13  Adrian Aichner  <aichner@ecf.teradyne.com>

	* utils/xemacs-build-report.el:
	Switched from (mail ...) to (compose-mail ...) upon suggestion by
	Hrvoje Niksic.
	Extended xemacs-build-report-keep-regexp.
	Changed xemacs-build-report-make-output-file value to beta.err
	Shortend and bracketed xemacs-build-report-subject.
	Improved (I hope) tm-edit to SEMI aliasing logic.

1997-10-09  Adrian Aichner  <aichner@ecf.teradyne.com>

	* utils/xemacs-build-report.el:
	Restored RCS keywords and updated comment for `xemacs-build-report-version'.

	* utils/xemacs-build-report.el:
	Separated the Spaghetti code into separate functions to do the following:
	xemacs-build-report-insert-header
	xemacs-build-report-insert-make-output
	xemacs-build-report-insert-installation-file

1997-10-13  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-load.el: Disable gc while loading `custom-load'
 	files.
	(custom-put): Added docstring; ignore PROPERTY.

	* custom/wid-edit.el (widget-previous-button-or-field): If the
 	point is within a button or field, return the beginning position
 	of the field.

	* prim/frame.el (frame-list): Use `nconc' instead of `append'.
	(set-frame-configuration): Use `mapc'.
	(delete-other-frames): Ditto.

	* prim/faces.el: Use the CL macro at top-level.

	* prim/faces.el (face-spec-set-match-display): Use `case'.
	(set-face-stipple): Use backquotes.

	* custom/wid-edit.el (widget-glyph-find): Use `laxputf'.
	(widget-push-button-value-create): Ditto.

	* custom/cus-face.el (custom-face-attributes): Support
	inverse-video for TTY-s.

	* prim/cmdloop.el (keyboard-escape-quit): Abort recursive edit, as
	documented.

1997-10-12  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/simple.el (zmacs-deactivate-region): Use `mapc' instead of
 	`mapcar'.
	(zmacs-make-extent-for-region): Ditto.

	* custom/cus-dep.el: Updated comments.

	* custom/cus-edit.el (custom-variable-prompt): Prompt with
	`variable'.

1997-10-12  Karl Hegbloom  <karlheg@inetarena.com>

	* custom/cus-edit.el (custom-guess-name-alist): Allow `-hooks'
	instead of `hook'.

1997-10-12  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/profile.el (profile-results): Use %-*s format.
	(profile-align): Nuked.

	* packages/gnuserv.el (gnuserv-frame-plist): New variable.
	(gnuserv-special-frame-function): Use it.
	(gnuserv-edit-files): Ditto.

1997-10-12  SL Baur  <steve@altair.xemacs.org>

	* prim/package-admin.el (package-admin-add-binary-package):
	Correctly deal with package-paths with a single directory.

1997-10-11  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (set-default-load-path): Look for `packages'
	directory too.
	(set-default-load-path): Initialize Info-default-directory-list
	from the environment variable INFOPATH.
	(set-default-load-path): Initialize Info-default-diretory-list
	from the configure variable `infopath'.

1997-10-10  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/startup.el: (set-default-load-path): loop over the `Info-
	default-directory-list' and collect those that are `file-
	directory-p'.

	* '': various doc string corrections.

	* '': changed `auto-saves-file-prefix' to "~/.xemacs/saves-"

	* '' Added toplevel block (when (fboundp 'load-gc) ...to init the
 	Info-def..list from the environment variable INFOPATH at dump time.

	* prim/packages.el (packages-find-packages-1): append the list of
 	packages info directories to `Info-default-directory-list' rather
 	than prepending them.  Don't add them if they're already in the
 	list.

	* packages/info.el (Info-directory-list): various fixes to the
 	directory list handling.
	* (Info-localdir-heading-regexp) added.

	* '' removed the unrequired defcustom of `Info-default-directory-
 	list'

1997-10-11  SL Baur  <steve@altair.xemacs.org>

	* prim/about.el: New faces, new entries.

	* prim/profile.el (profile-results): Rename.
	(pretty-print-profiling-info): Ditto.
	From Kyle Jones <kyle_jones@wonderworks.com>

1997-10-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom/wid-edit.el (variable-link): New widget.
	(widget-variable-link-action): New function.
	(function-link): New widget.
	(widget-function-link-action): New function.

1997-10-10  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/modeline.el (modeline-minor-mode-menu): menus are toggles
	not strings now.

1997-10-10  SL Baur  <steve@altair.xemacs.org>

	* psgml/psgml-html.el (html-quote-region): Grow bounds when performing
	substitutions.
	From Adrian Aichner <aichner@ecf.teradyne.com>

1997-10-10  SL Baur  <steve@altair.xemacs.org>

	* utils/highlight-headers.el (highlight-headers-citation-header-regexp):
	Correct doc string.
	From Kazuyoshi Furutaka <furutaka@Flux.tokai.jaeri.go.jp>

1997-10-10  Martin Buchholz  <mrb@eng.sun.com>

	* packages/bookmark.el:
	* packages/iswitchb.el:
	* utils/speedbar.el:
	* utils/xemacs-build-report.el:
	  - change Xemacs --> XEmacs

1997-10-09  Colin Rafferty  <craffert@ml.com>

	* modes/lazy-shot.el (lazy-shot-shot-function): Undid a breakage.

1997-10-09  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/help.el (function-called-at-point): Added docstring.
	(function-at-point): Ditto.
	(describe-function-arglist): Commented out -- seems unused.
	(find-function): ALL find-function stuff moved to "find-func.el"

	* prim/find-func.el: new file created from functions previously in
	"help.el".

1997-10-09  SL Baur  <steve@altair.xemacs.org>

	* pcl-cvs/pcl-cvs.el (cvs-changelog-ours-p): Grok new ChangeLog
	format.

	* prim/startup.el (user-init-directory): New name for
	`emacs-user-extension-dir'.
	(load-user-init-file): Use it.

Mon Oct  6 19:12:51 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/Release 5.19

Mon Oct  6 19:09:17 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-guess-basic-syntax):
	CASE 5F: extern-lang-close relpos should be
	element 0 of inclass-p, not element 1.

	* cc-mode/cc-cmds.el (c-progress-init, c-progress-fini):
	Be silent if c-progress-interval
	is nil.

	* cc-mode/cc-vars.el (c-progress-interval): Document new semantics

Fri Oct  3 23:10:04 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-beginning-of-statement-1):
	Watch out for keywords which have a
	preceding underscore.

Fri Sep 26 23:30:58 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-menus.el: Patches to Imenu support given by
	"Masatake (jet) YAMATO" <masata-y@is.aist-nara.ac.jp>.
	(Jan Dubois) jan.dubois@ibm.net

	* cc-mode/cc-cmds.el (c-comment-line-break-function):
	Fix for when comment starts at
	comment-column and there is non-whitespace preceding this on the
	current line.

	* cc-mode/cc-mode.el (c-submit-bug-report): Remove
	c-recognize-knr-p.  Add c-comment-continuation-stars.

Mon Sep 22 15:47:02 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-initialize-builtin-style):
	Only use copy-tree if it is
	funcall-able.  This is the right patch, and was given by Erik Naggum
	<erik@naggum.no>

1997-10-08  SL Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (file-menu-filter): Reverse sense of bounds
	test.
	From: Didier Verna <didier@xemacs.org>

	* prim/format.el (format-annotate-function): Reverse sync to Emacs
	19.

1997-10-08  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/profile.el (profile-align): New function.

	* prim/help.el (describe-function): Use `buffer-string' with a
	BUFFER argument, instead of `save-excursion'+`buffer-string'.
	(describe-variable): Ditto.
	(describe-variable): Use `when'.

	* modes/lisp-mode.el: Indent `display-message' and
	`display-warning' better.

	* prim/help.el: Customized find-function stuff.
	(help-with-tutorial): Use point-at-{bol,eol}.
	(with-displaying-help-buffer): Use `with-current-buffer'.

	* prim/keymap.el (event-apply-modifier): Use `vconcat'.
	(define-prefix-command): Use the NAME argument to
	`make-sparse-keymap'.
	(suppress-keymap): Use `incf'.

	* prim/help.el (key-or-menu-binding): Document it.

	* prim/keymap.el (insert-key-binding): Use `key-or-menu-binding'
	from help.el.

	* prim/help.el (built-in-variable-doc): Use `case'.
	(describe-function-1): Assign to `file-name' instead of `home'.

	* prim/profile.el (profiling-results): Handle strings correctly.

	* prim/profile.el (profile): Expand FORMS only once.

1997-10-08  Colin Rafferty  <craffert@ml.com>

	* prim/lisp-file-db.el (lookup-lisp-file-db): Made it stop on
	failure.

1997-10-08  SL Baur  <steve@altair.xemacs.org>

	* prim/lisp-file-db.el: New file.
	From Raymond Toy <toy@rtp.ericsson.se>

1997-10-08  Colin Rafferty  <craffert@ml.com>

	* modes/lazy-shot.el: Customified.  Made it handle long lines
	better.

1997-10-08  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (load-user-init-file): Remove reference to
	.xemacs as a file.

1997-10-07  SL Baur  <steve@altair.xemacs.org>

	* utils/thing.el (thing-filename): Deal with point at end of
	buffer.

1997-10-07  Karl M. Hegbloom  <karlheg@inetarena.com>

	* psgml/psgml.el (sgml-mode-map): modify defin-key statements to
 	use the new and improved key designator syntax. Rebound
 	'sgml-split-element to a similar key as the global 'split-line
 	binding.

1997-10-07  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* utils/thing.el (thing-symbol): Return nil if `end' is nil.

1997-10-07  Karl M. Hegbloom  <karlheg@inetarena.com>

	* modes/cperl-mode.el: Fixed the help toggle menuitem, and added
 	an autoload cookie.
	* modes/perl-mode.el: ditch the autoload in favor of cperl-mode.

1997-10-07  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/etags.el (add-to-tag-completion-table): Better support
 	for Scheme code.  Parse scheme definitions and identifiers
 	with colons correctly.

1997-10-07  SL Baur  <steve@altair.xemacs.org>

	* mule/mule-cmds.el (read-input-method-name): Use a default if
	available.
	From Didier Verna <didier@xemacs.org>

	* prim/about.el (about-url-alist): Update jwz's home page.

1997-10-07  Hrvoje Niksic  <hniksic@srce.hr>

	* x11/x-menubar.el (default-menubar): Handle pending-delete
 	correctly.

1997-10-06  SL Baur  <steve@altair.xemacs.org>

	* utils/font.el: Don't need devices.el on XEmacs.

1997-10-05  SL Baur  <steve@altair.xemacs.org>

	* utils/mail-utils.el (rmail-dont-reply-to-names): Snarf from
	rmail.el.

1997-10-04  SL Baur  <steve@altair.xemacs.org>

	* efs/dired.el (dired-mail-reader): Default to VM instead of old,
	broken rmail.

1997-09-29  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/files.el (auto-mode-alist): make `.cl' a lisp-mode
 	extension for Franz Allegro CL.

1997-10-05  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/simple.el: Minor docstring and comment changes.  Customized
	some more.

1997-10-04  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/xemacs-build-report.el (xemacs-build-report): Placed to
	maintenance group.
	(xemacs-create-build-report): Added an autoload cookie.

	* prim/profile.el (profiling-results): Renamed from
 	`pretty-print-profiling-info'.

1997-10-03  Karl M. Hegbloom  <Karl M. Hegbloom <karlheg@inetarena.com>

	* custom/cus-edit.el (custom-save-all): Bind `auto-mode-alist' to
 	nil around the init file handling to prevent unnecessary automagic
 	processing.

1997-10-03  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/faces.el (face-spec-set): Invoke `init-face-from-resources'.

	* custom/cus-face.el (custom-set-faces): Revert to using
 	`make-empty-face'.
	(custom-declare-face): Ditto.

1997-10-04  SL Baur  <steve@altair.xemacs.org>

	* prim/modeline.el (modeline-modified-map): Call wrapper function
	over `vc-toggle-read-only'.
	(modeline-toggle-read-only): New function.

	* prim/files.el (basic-save-buffer): Put guard on call to
	`vc-after-save' since someone may wish not to install the vc
	package.

	* prim/fill.el (sentence-end-double-space): Fix docstring.

	* cl/cl-seq.el (remq): Reformat and add doc-string.
	Suggested by: Karl M. Hegbloom <karlheg@inetarena.com>

1997-10-03  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/func-menu.el: change the countups from message's to
 	display-message 'progress's so they don't dump in the lossage
 	buffer.

1997-10-03  Karl M. Hegbloom  <karlheg@inetarena.com>

	* psgml/psgml.el (sgml-mode-map): Bind (meta backspace) to
 	'backward-kill-word so it works as expected. "\e\C-h" will still
 	do 'sgml-mark-current-element.

1997-08-13  Yves BLUSSEAU  <hk444@cleveland.freenet.edu>

	* efs/efs.el (efs-set-file-modes): Fix a bug that cause an error
	when using the efs-set-file-modes function on a remote station with
	a FTP daemon that don't support the QUOTE function.

1997-10-02  Colin Rafferty  <craffert@ml.com>

	* prim/frame.el (default-drag-and-drop-functions): Fixed a typo
		  that was calling `data' rather than looking at it.

1997-10-04  SL Baur  <steve@altair.xemacs.org>

	* cl/cl-seq.el (remove): Add docstring.
	Suggested by Karl M Hegbloom <karlheg@inetarena.com>

1997-10-02  Colin Rafferty  <craffert@ml.com>

	* prim/simple.el (set-fill-column): Used format to create the
		  string for `display-message'.

1997-10-03  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-face.el (custom-set-faces): Make the face, if
	necessary.

1997-10-02  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-face.el (custom-declare-face): Use `make-face'
 	instead of `make-empty-face'.
	(custom-declare-face): Don't invoke init-face-from-resources
 	explicitly.

	* prim/profile.el (pretty-print-profiling-info): When interactive,
	use a separate buffer instead of current-buffer.
	(pretty-print-profiling-info): Prettified output.

1997-10-01  SL Baur  <steve@altair.xemacs.org>

	* custom/cus-dep.el (cus-face): Remove unneeded dependency on
	cus-edit.

1997-09-30  SL Baur  <steve@altair.xemacs.org>

	* utils/finder.el (finder-known-keywords): Fix typo.

1997-09-30  SL Baur  <steve@altair.xemacs.org>

	* prim/dumped-lisp.el (preloaded-file-list): Load
	cl/auto-autoloads early.

1997-10-01  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-edit.el (custom-save-delete): Bind `find-file-hooks'
	to nil.

	* custom/wid-edit.el (widget-next-button-or-field): Use the
 	`start-open' flag to `map-extents'.
	(widget-previous-button-or-field): Ditto.

	* custom/cus-edit.el (custom-face-value-create): Use
 	`face-custom-attributes'.

	* packages/font-lock.el: Defcustomed some variables.

1997-09-30  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-face.el: Big changes.  Most of the functionality
	moved to faces.el.  Internal functions renamed not to start with
	`custom-'.

	* custom/cus-face.el (face-spec-set): Use `reset-face'.

	* prim/faces.el (reset-face): Accept LOCALE, TAG-SET and EXACT-P.

	* custom/cus-face.el (face-spec-set): Use `remove-specifier'.
	(get-frame-background-mode): Cache background modes of frames.

	* prim/minibuf.el (input-error): Add a `display-error' property.

	* custom/cus-face.el (initialize-face-resources): Check for
 	`make-face-x-resource-internal' before using it.
	(custom-get-frame-properties): Use `set-frame-property'.

1997-09-29  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-specify-button): Set the `tabable'
	property.
	(widget-specify-field): Ditto.
	(widget-next-button-or-field): Use it.
	(widget-previous-button-or-field): Ditto.

1997-09-29  Martin Buchholz  <mrb@eng.sun.com>

	* sunpro/sunpro-init.el:  Fix initialization failure if
	compile/debug toolbar buttons are LAST on the toolbar.

1997-09-29  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/help.el (find-function-noselect): Now finds libraries
	explicitly loaded from outside `load-path' as it should.

1997-09-29  SL Baur  <steve@altair.xemacs.org>

	* prim/help.el(describe-function-1): Fix for compiled macros.
	From Hrvoje Niksic <hniksic@srce.hr>

Mon Sep 29 01:30:45 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/startup.el: Added defvars for lock-directory
	  and superlock-file to quiet the byte-compiler.

	  (normal-top-level): Removed call to init-glyphs; it now
	  runs at dump time from lisp/prim/glyphs.el.

	  (splash-frame-present): Call splash-hack-version-string
	  once after all the strings have been inserted, instead
	  of once per string insertion.

	* prim/glyphs.el (init-glyphs): Replaced references
	  to data-directory with "../etc/" which is the data
	  directory at dump time.  This is likely a lose for
	  those who CANNOT_DUMP.  I don't know what the right
	  answer is in that case.

	  Run init-glyphs at dump time.

	* prim/faces.el (init-other-random-faces): Don't set
	  colors for the text cursor if we're initializating a
	  tty device, since it does nothing on a tty.

	  Removed modeline-buffer-id, modeline-mousable and
	  modeline-mousable-minor-mode-code face initialization; this
	  code is now run at dump time in lisp/prim/modeline.el.

	* prim/faces.el: Set reverse-p property on tty devices
	  for the primary-selection face.  Set underline-p property
	  on tty devices for the secondary-selection face.  Both of
	  these actions are to prevent init-other-random-faces from
	  considering these faces the same as the default face on
	  ttys and applying useless color specs to them.

	* prim/modeline.el: Initialize modeline-buffer-id,
	  modeline-mousable and modeline-mousable-minor-mode
	  faces in this file at dump time.

	  Added (defvar place) to quiet the byte-compiler.

Mon Sep 29 02:11:35 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* packages/vc-hooks.el: Move menu installation off
	  before-init-hook and do it at dump time.

	* ediff/ediff-hook.el: Move menu installation off
	  before-init-hook and do it at dump time.

1997-09-29  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/help.el (describe-function-1): If the function is not yet
	loaded, print the autoload file-name.  If function is loaded,
	print the library name in `load-history' or from
	`compiled-function-annotation'.

1997-09-28  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/help.el (find-function-noselect): remove reference to
 	`path' from the (let* ((path find... since &optional path is no
 	longer an argument to this function.  Cures "Signaling:
 	(void-variable path)" error when using {M-x find-function}.

1997-09-27  Karl M. Hegbloom  <karlheg@inetarena.com>

	* utils/regexp-opt.el: Add support for the shy grouping "\\(?:"
 		  that came along with the new regexp syntax.

1997-09-29  Hrvoje Niksic  <hniksic@srce.hr>

	* x11/x-toolbar.el: Minor fixes.

1997-09-28  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (color): Buttonify the tag.
	(widget-color-action): Use `read-color' unconditionally.

	* utils/edmacro.el: Use append/vconcat instead of mapcar/mapvector
 	with `identity'.
	(format-kbd-macro): Use `indirect-function' instead of
 	`symbol-function'.
	(read-kbd-macro): Fix docstring.
	(edmacro-finish-edit): Use `match-string'.
	(edmacro-parse-keys): Ditto.
	(edmacro-parse-word): Use `dotimes' instead of `loop'.
	(edmacro-format-keys): Ditto.

	* custom/cus-face.el (custom-face-attributes): Use
	`set-face-background-pixmap', instead of `set-face-stipple'.

	* custom/cus-edit.el (custom-group-menu-create): Check whether
	`custom-menu-create' returned a list.

1997-09-28  SL Baur  <steve@altair.xemacs.org>

	* utils/finder.el (finder-known-keywords): Ignore mule entry when
	built without Mule.

1997-09-27  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* quail.el (quail-execute-non-quail-command): `keylist' is not
	list of characters.
	(quail-update-translation): Don't use `quail-delete-region'
	because overlay emulation of XEmacs can not regard 0 length
	overlay.
	(quail-show-kbd-layout): Must convert character(code) to event.

1997-09-26  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* quail.el: sync with Emacs 20.2.

1997-09-27  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule-init.el (init-mule): Load leim-list.el (to sync with Emacs
	20.2).

	* mule-cmds.el: Change key binding for `select-input-method' to
	sync with Emacs 20.2.

	(get-language-info, set-language-info, set-language-info-alist,
	read-language-name): Modify to sync with Emacs 20.2.

	(leim-list-file-name): New constant (imported from Emacs 20.2).
	(leim-list-header, leim-list-entry-regexp,
	update-leim-list-functions): New variable (imported from Emacs
	20.2).
	(update-leim-list-file): New function (imported from Emacs 20.2).

	(current-input-method, current-input-method-title): Modify
	DOC-string to sync with Emacs 20.2.
 	(default-input-method): Use `defcustom' (to sync with Emacs 20.2).
	(input-method-history): New variable (imported from Emacs 20.2).

	(inactivate-current-input-method-function): Modify DOC-string to
	sync with Emacs 20.2.

	(input-method-alist): New variable (imported from Emacs 20.2).
	(register-input-method, read-input-method-name,
	activate-input-method, inactivate-input-method): New function
	(imported from Emacs 20.2).
	(select-input-method, toggle-input-method, describe-input-method,
	describe-current-input-method, read-multilingual-string): Modify
	to sync with Emacs 20.2.
	(input-method-verbose-flag): New variable; abolish
	`input-method-tersely-flag'; to sync with Emacs 20.2.
	(input-method-highlight-flag): New variable (imported from Emacs
	20.2).

	(input-method-activate-hook, input-method-inactivate-hook): Modify
	DOC-string to sync with Emacs 20.2.
	(input-method-exit-on-invalid-key): New variable (imported from
	Emacs 20.2).

	* mule-coding.el (check-coding-system): New alias.
	(modify-coding-system-alist): New function (imported from Emacs
	20.2).

	Rename coding-system `iso-2022-7' -> `iso-2022-7bit' to sync with
	Emacs 20.2; define alias `iso-2022-7' for compatibility.

	* mule-process.el (network-coding-system-alist): New variable.
	(open-network-stream): Refer it.

1997-09-27  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* viet-util.el: New file; Imported from Emacs 20.2.

	* tibet-util.el: New file; Imported from Emacs 20.2.

	* hebrew.el, lao.el, lao-util.el, vietnamese.el, tibetan.el:
	Imported from Emacs 20.2.

	* greek.el, european.el, ethiopic.el, english.el, cyrillic.el,
	chinese.el, korean.el, japanese.el, thai.el, misc-lang.el: Modify
	to sync with Emacs 20.2.

1997-09-24  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule-process.el (start-process): Refer
	`process-coding-system-alist'.

	* mule-process.el (call-process-region): Refer
	`process-coding-system-alist'.

	* mule-process.el (process-coding-system-alist): New variable.
	(call-process): Refer it.

	* mule-init.el: Rename `pathname-coding-system' to
	`file-name-coding-system' to sync with Emacs 20.2.

	* mule-coding.el: Rename `pathname-coding-system' to
	`file-name-coding-system' to sync with Emacs 20.2; define
	`pathname-coding-system' as an obsolete variable.

1997-09-03  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/mule-files.el: Implement `file-coding-system-alist' of
	Emacs 20.0.97 to sync; abolish variable
	`buffer-file-coding-system-alist'.

	(find-file-coding-system-for-read-from-filename): Renamed from
	`find-buffer-file-coding-system-from-filename'; modify for new
	`file-coding-system-alist'.

	(find-file-coding-system-for-write-from-filename): New function.

	(insert-file-contents): Modify for new `file-coding-system-alist'.

	(write-region): Use
	`find-file-coding-system-for-write-from-filename'.

1997-09-27  SL Baur  <steve@altair.xemacs.org>

	* prim/obsolete.el (define-widget-keywords): Make it obsolete.

	* custom/widget.el (define-widget-keywords): Restore superfluous
	function `define-widget-keywords'.

	* modes/sh-script.el (sh-script): Restore correct feature.

1997-09-27  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/isearch-mode.el (isearch-help-or-delete-char): New function.

1997-09-27  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-dep.el (Custom-make-dependencies): Minor fixes.

1997-09-27  SL Baur  <steve@altair.xemacs.org>

	* packages/completion.el: Remove keybinding of M-return for
	hyperbole.
	(completion-kill-region): The version of this function in InfoDock
	4.0pre was very broken for XEmacs due to active region handling
	and because it didn't set the `this-command' variable properly
	when doing a kill.
	From:  Bob Weiner <weiner@altrasoft.com>

1997-09-26  SL Baur  <steve@altair.xemacs.org>

	* utils/autoload.el: Removed code dealing with customization.
	(update-file-autoloads): Fix typo in DOC string, remove custom code.
	(update-autoloads-from-directory): Remove custom code.
	(batch-update-autoloads): Fix DOC string, remove custom code.
	(batch-update-directory): Fix DOC string, remove custom code.

1997-09-26  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/help.el (describe-function-at-point): new function.
	(describe-variable-at-point): ditto.
	(help-next-symbol): ditto.
	(help-prev-symbol): ditto.
	(describe-function): Mention `find-function-function' in
 	docstring.  Use `function-history' in completing-read.
	(describe-function-1): Only print one filename, even if we know
 	two!  Use `variable-history' in completing-read.
	(where-is): Mention `find-function-function' in docstring.
	(find-function-function): improve docstring.
	(find-function-noselect): Remove optional arg.  Search also for
	cl's defun*.  Return a pair instead of a list.
	(find-function-read-function): use `function-history'.
	(find-function-do-it): new function.
	(find-function): Remove optional arg.  Use `find-function-do-it'.
	(find-function-other-window): ditto.
	(find-function-other-frame): ditto.
	(find-function-at-point): new function.

1997-09-26  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-edit.el: Issue a message about loading customization
	dependencies.

	* custom/wid-edit.el (widget-map-buttons): Fixed typo.

1997-09-25  SL Baur  <steve@altair.xemacs.org>

	* prim/files.el (after-find-file): Revert synch to Emacs 20 and
	restore old directory creation behavior.

1997-09-25  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-button-or-field-extent): New
 	function.
	(widget-next-button-or-field): Use it.
	(widget-previous-button-or-field): Ditto.
	(widget-move): Don't signal an error when there is only one widget
 	in the buffer.
	(widget-push-button-value-create): Cache glyphs themselves,
 	instead of instantiators.
	(widget-documentation-string-value-create): Better help echo
	(widget-mouse-help): Use `functionp'.
	(widget-echo-help): Ditto.

1997-09-25  SL Baur  <steve@altair.xemacs.org>

	* prim/glyphs.el (init-glyphs): Fix jpeg signature.

1997-09-24  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* modes/lazy-shot.el (lazy-shot-shot-function): make the message
	be displayed as progress.

1997-09-25  Hrvoje Niksic  <hniksic@srce.hr>

	* comint/telnet.el: Minor custom changes.

	* custom/wid-edit.el (widget-field-action): Edit the value in the
 	minibuffer.

	* custom/cus-edit.el (custom-group-value-create): Renamed `Go to
	Group' tag to `Open'.

	* custom/wid-edit.el (widget-shadow-subrs): New variable.
	(widget-url-link-help-echo): New function.
	(url-link): Use it.
	(widget-emacs-library-link-help-echo): New function.
	(emacs-library-link): Use it.

1997-09-24  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-glyph-insert-glyph): Encode the
	widget information to extent, not to the glyph.
	(widget-glyph-click): Extract the widget from the extent, not the
	glyph.
	(widget-glyph-find): Set up a glyph cache.

	* prim/about.el: Use :button-prefix and :button-suffix instead of
	the variables.

	* custom/wid-edit.el (widget-field-keymap): Bind Sh-TAB to
 	`widget-backward'.
	(widget-specify-field): Use extents, not overlays.
	(widget-specify-button): Ditto.
	(widget-specify-sample): Ditto.
	(widget-specify-inactive): Ditto.
	(widget-button-click): Ditto.
	(widget-field-value-create): Ditto.
	(widget-field-value-delete): Ditto.
	(widget-color-notify): Ditto.
	(widget-setup): Ditto.
	(widget-map-buttons): Use `map-extents'.
	(widget-keymap): Made `global-map' its parent.
	(widget-next-button-or-field): New function.
	(widget-previous-button-or-field): Ditto.
	(widget-move): Use them.

	* custom/custom.el (custom-group-hash-table): Use
	`make-hashtable', with initial size 300.
	(custom-add-to-group): Update hash-table unconditionally.

1997-09-24  SL Baur  <steve@altair.xemacs.org>

	* prim/packages.el (packages-useful-lisp): Arrange to bytecompile
	shadow.elc early.

1997-09-22  Karl M. Hegbloom  <karlheg@inetarena.com>

	* x11/x-toolbar.el (Info-frame-plist): Added.
	(toolbar-info) Use new plist variable to make-frame.

1997-09-24  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-button1-click): Would bug out on
	events with no bindings.

	* custom/cus-edit.el (custom-group-value-create): Update members
 	after loading the widget.
	(custom-group-link-help-echo): New function.
	(custom-group-link): Use it.

	* prim/cus-load.el (custom-put): Update
 	`custom-parent-hash-table'.

	* custom/cus-edit.el (custom-add-parent-links): Use
	`custom-group-hash-table' to map the groups.

	* custom/custom.el (custom-parent-hash-table): New variable.
	(custom-add-to-group): Use it.

	* prim/cus-load.el: Don't issue message for every loaded file.

	* custom/cus-edit.el (custom-group-prompt): New function.
	(customize): Use it.
	(customize-other-window): Ditto.

	* custom/wid-edit.el (widget-field-keymap): Bind TAB to
 	`widget-forward'.

1997-09-23  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-edit.el: Use `display-message' to indicate progress
	messages.
	(customize-set-variable): Use the third argument to `get'.
	(customize-save-variable): Ditto.
	(custom-variable-value-create): Ditto.
	(custom-variable-state-set): Ditto.
	(custom-variable-set): Ditto.
	(custom-variable-save): Ditto.
	(custom-variable-reset-saved): Ditto.
	(custom-variable-reset-standard): Ditto.

	* custom/cus-edit.el: Removed C-coded routines.

	* custom/cus-edit.el (custom-buffer-create-internal): Print a
	limited number of messages.
	(custom-group-value-create): Ditto.

	* custom/wid-edit.el (widget-editable-list-value-get): Revert to
 	`append'.

1997-09-22  Colin Rafferty  <craffert@ml.com>

	* modes/lazy-shot.el (lazy-shot-shot-function): Made it do its
		  work in the correct buffer.  Also, changed obsolete
		  function call to non-obsolete version.

1997-09-22  Colin Rafferty  <craffert@ml.com>

	* utils/shadow.el (find-emacs-lisp-shadows): Removed extra slash
		  between directory and filename.

1997-09-23  SL Baur  <steve@altair.xemacs.org>

	* ilisp/Makefile (SHELL): Remove dependency on /bin/csh.

1997-09-23  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/wid-edit.el (widget-move): Use `incf'.
	(widget-after-change): Ditto.
	(widget-field-value-get): Ditto.
	(widget-info-link-help-echo): New function.
	(info-link): Use it.

	* custom/cus-edit.el (custom-last): Removed.
	(custom-buffer-create-internal): Use `incf'.
	(custom-group-value-create): Ditto.

	* packages/auto-save.el: Minor custom fixes.

	* prim/cus-dep.el (Custom-make-dependencies): Generate correct
	output wrt `custom-put'.

	* custom/wid-edit.el (widget-tabable-at): Use `widget-at'.

	* custom/cus-edit.el (custom-group-value-create): Use
	`custom-group-visibility' instead of `group-visibility'.

	* prim/help.el (help-map): Bound `C-h C' to `customize'.

	* custom/wid-edit.el (widget-princ-to-string): Don't use `let'.
	(widget-clear-undo): Removed current-buffer argument.
	(widget-choose): Use minibuffer when there are more than 10 items.

1997-09-22  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-edit.el (custom-button-face): Made it bold.
	(custom-group-value-create): Change outlook of buffer.
	(custom-buffer-create-internal): Ditto.
	(custom-menu-nesting): Removed -- was unused by XEmacs.
	(custom-menu-create): Don't use `custom-menu-nesting'.
	(custom-group-menu-create): Define unconditionally.
	(customize-menu-create): Ditto.
	(custom-unlispify-menu-entry): Use `with-current-buffer'.

	* custom/wid-edit.el (widget-checklist-match-inline): Revert to
 	`append'.
	(widget-checklist-value-get): Ditto.
	(widget-editable-list-match-inline): Ditto.
	(widget-group-match-inline): Ditto.
	(widget-glyph-find): Removed compatibility checks; use
 	`locate-data-directory'.
	(widget-glyph-find): Use backquotes.
	(widget-push-button-value-create): Ditto.
	(widget-choice-mouse-down-action): Don't use `window-system'.
	(widget-transpose-chars): New function.
	(widget-text-keymap): Use it.
	(widget-princ-to-string): Use `with-current-buffer'.
	(widget-map-buttons): Ditto.
	(widget-push-button-gui): Set to value of `widget-glyph-enable' by
	default.
	(widget-push-button-value-create): Call `widget-specify-button'.

	* utils/mail-extr.el: Customized.

1997-09-21  SL Baur  <steve@altair.xemacs.org>

	* packages/man.el: Reverse manual prefix patch.

1997-09-21  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/man.el: Got rid of the `stars', and hard coded a prefix
 		  of "Man: " for manual-entry buffers.

1997-09-21  Hrvoje Niksic  <hniksic@srce.hr>

	* custom/cus-face.el (frame-background-mode): Renamed from
	`custom-background-mode'.
	(frame-background-mode): Rewritten.

	* x11/x-menubar.el: Customized.

	* custom/cus-face.el (face-spec-set-match-display): Use `warn' for
	warnings.

	* x11/x-font-menu.el: Customized.

	* modes/reftex.el: Add prefixes to customization groups.

	* custom/cus-edit.el (customize): Accept GROUP.
	(customize-group): Defalias to `customize'.
	(customize-other-window): New function.
	(customize-group-other-window): Alias to `customize-other-window'.

	* custom/wid-edit.el (widget-choose): Now works with
 	`widget-menu-minibuffer-flag' set to nil.
	(widget-menu-minibuffer-flag): Default to nil.
	(widget-specify-insert): Use new blackquote syntax.
	(widget-checklist-value-get): Ditto.
	(widget-map-buttons): Ditto.
	(widget-checklist-match-inline): Ditto.
	(widget-editable-list-match-inline): Ditto.
	(widget-group-match-inline): Ditto.
	(widget-checklist-match-inline): Use `nconc'.
	(widget-keymap): Bind `M-tab' to `widget-backward'.

	* prim/help.el (find-function-noselect): `locate-library' is
 	compression-aware; don't duplicate the work.

	* prim/packages.el (packages-hardcoded-lisp): Remove "cl-defs".

	* custom/wid-edit.el: Use `remove-if'.
	(widget-glyph-directory): Use `locate-data-directory'.

	* custom/cus-edit.el (custom-unlispify-remove-prefixes): Default
	to t.

	* custom/wid-edit.el: Removed *lots* of compatibility stuff.

	* custom/wid-edit.el: (widget-editable-list-value-get): Apply
 	`nconc' instead of `append'.

	* custom/wid-edit.el: Ditto.

	* custom/cus-edit.el: Ditto.

	* custom/custom.el: Use `mapc' instead of `mapcar', where
 	appropriate.

	* custom/wid-edit.el: Ditto.

	* custom/cus-edit.el: Ditto.

	* custom/custom.el: Ditto.

	* custom/widget.el: Don't define widget keywords.

1997-09-21  Joel Peterson  <tarzan@aosi.com>

	* prim/menubar.el: use normalize-menu-item-name instead of downcase
	to compare menu item names.

1997-09-20  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/etags.el: Lots of changes.

1997-09-20  SL Baur  <steve@altair.xemacs.org>

	* prim/faces.el (Top Level): Back out use of the loop macro.  It now
	isn't defined until loaddefs gets loaded.

1997-09-20  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/help.el (help-for-help): Make menu items style more uniform.

1997-09-20  Hrvoje Niksic  <hniksic@srce.hr>

	* modes/sendmail.el: Don't define keys to mail etc.

	* prim/keydefs.el: Add bindings to `compose-mail'.

	* prim/simple.el: Synch mail stuff with Emacs 20.

	* utils/reporter.el: Removed mail-user-agent stuff.

	* x11/x-menubar.el (default-menubar): Use new semantics for
 	`gnuserv-frame'.

	* prim/obsolete.el (string-to-sequence): Wouldn't work with TYPE
 	`vector'.

1997-09-19  Hrvoje Niksic  <hniksic@srce.hr>

	* cl/cl.el: Don't load cl-defs.

	* cl/cl-macs.el: Added autoload cookies.

1997-09-19  SL Baur  <steve@altair.xemacs.org>

	* packages/man.el (Manual-buffers-have-prefix): New function.
	(manual-entry): Use it.
	From Remek Trzaska <remek@postoffice.npac.syr.edu>

1997-09-18  Colin Rafferty  <craffert@ml.com>

	* prim/novice.el (disable-command): Made it modify `custom-file'
		  instead of `user-init-file'.

		  Stop multiple disable/enable-command calls from adding
			  extra newlines.

1997-09-19  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/make-docfile.el: Use null, not not.

1997-09-18  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/isearch-mode.el (isearch-message): Display-message as
	progress (this way isearch message won't appear in the message
	log).

1997-09-18  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/info.el (Info-elisp-ref): Use `find-function-function'.

1997-09-18  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/lazy-lock.el (lazy-lock-pre-idle-fontify-windows):
	Don't do lazy-lock'ing if we're in the minibuffer.

1997-09-17  SL Baur  <steve@altair.xemacs.org>

	* oobr/Makefile (autoloads): Fix target.

	* hyperbole/Makefile (autoloads): Fix target.

	* utils/autoload.el (batch-update-autoloads): Obey
	`autoload-package-name' setting.

	* efs/Makefile: Correct autoloads target.

	* prim/packages.el (locate-library): Simplify regexp for
	compression suffixes.
	Suggested by: Hrvoje Niksic <hniksic@srce.hr>

1997-09-17  Karl M. Hegbloom  <karlheg@inetarena.com>

	* ilisp/ilisp-out.el (ilisp-scroll-output): bind `scroll-in-place'
 		  to nil around the call to #'scroll-up so that {C-c v}
 		  will properly scroll the *output* buffer.

1997-09-17  Karl M. Hegbloom  <karlheg@inetarena.com>

	* ilisp/ilisp-out.el (ilisp-needed-window-height): make window one
 		  line bigger

1997-09-15  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el (Info-mouse-track-double-click-hook): follow
 	the top menu item when double click in bottom 1/4 and middle 1/3

1997-09-16  SL Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-hackers): Add new entry.

Tue Sep 16 19:23:24 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/Release 5.18

Tue Sep 16 23:17:15 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-menus.el (cc-imenu-c-prototype-macro-regexp): New
	variable.

	(cc-imenu-c++-generic-expression): Patches to better match C++ code.
	Given by jan.dubois@ibm.net (Jan Dubois)

	* cc-mode/cc-menus.el (cc-imenu-java-generic-expression):
	Removed test for declaration
	statements.  Patch given by Ake Stenhoff <etxaksf@aom.ericsson.se>, as
	forwarded to me by RMS.

	* cc-mode/cc-menus.el:
	Imenu support for Objective-C given by Masatake (jet) YAMATO.

	* cc-mode/cc-mode.el (objc-mode): Bind imenu-create-index-function to
	cc-imenu-objc-function to enable Imenu support for Objective-C.
	Contributed by Masatake (jet) YAMATO.

Mon Sep 15 23:21:51 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-initialize-builtin-style):
	Use existing copy-tree if it's defined.

	copy-sequence doesn't work; the
	c-offsets-alist must be copied recursively.  Use copy-tree solution
	given by Simon Marshall.

Fri Sep  5 04:47:03 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el (c-beginning-of-statement):
	Fixes in sentence movement to properly
	handle M-e moving forward into a comment when looking at preceding
	whitespace, and M-a moving backward into comment when looking at
	following whitespace.

	Uncommented the looking-at call in the
	sentence-flag clause so that moving by forward-sentence when looking
	at the beginning of a comment works again.  A previous log message in
	cc-mode.el indicates this was commented out "because
	c-beginning-of-statement-1 should do the right thing", but clearly it
	doesn't.

	I don't know if this breaks something else, because I can't figure out
	why it was commented out in the first place.

	* cc-mode/cc-langs.el:
	Define `/' in c-mode-base-map since all modes now support
	c-electric-slash.

	Define C-c C-e in mode-specific maps instead of c-mode-base-map since
	c-expand-macro is meaningless in Java and IDL.

	* cc-mode/cc-engine.el (c-end-of-statement-1):
	Wrap backward-up-list in a c-safe call so no
	error results when buffer contains only a comment and point is at
	eob.

1997-09-15  SL Baur  <steve@altair.xemacs.org>

	* utils/autoload.el (customized-symbols): Use a hash table.

	* prim/cus-load.el (custom-put): Restore.
	Adapted from code by Hrvoje Niksic  <hniksic@srce.hr>

	* x11/x-toolbar.el (initial-toolbar-spec): Remove news and mail
	icons from default toolbar.

1997-09-14  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/packages.el (locate-data-directory): Return nil when
	directory not found.
	(locate-library): Reimplemented using `locate-file'.

1997-09-14  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/cus-dep.el: Provide `cus-dep'.

	* packages/time.el (display-time-insinuate): New function; don't
	insinuate upon loading.
	(display-time): Use it.

	* prim/loadup.el: Use it.

	* prim/dumped-lisp.el (dumped-lisp-packages): Renamed to
 	`preloaded-file-list'.

	* prim/cus-load.el: Updated the comment.

	* prim/cus-dep.el (custom-make-dependencies): Unjunkify.

	* modes/lisp-mode.el: Declare indentation of `with-temp-buffer'.

	* prim/cus-dep.el (custom-make-dependencies): Allow optional
	parameter; don't kill Emacs.

	* modes/cl-indent.el: Minor customize changes.

	* modes/asm-mode.el: Minor customize changes.

	* modes/arc-mode.el: Customized.

	* modes/ada-stmt.el: New file.

	* modes/ada-mode.el: Synched with FSF (customized, etc.)

1997-09-13  SL Baur  <steve@altair.xemacs.org>

	* prim/files.el (switch-to-buffer-other-frame): Undo previous
	change when focus-follows-mouse policy is in effect.

1997-09-14  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/recent-files.el: Minor customize changes.

	* packages/man.el: Minor customize changes.
	(Manual-use-rosetta-man): Moved the extensive info from docstring.

	* packages/makeinfo.el: Minor customize changes.

	* packages/info.el: Minor customize changes.

	* packages/gopher.el: Minor customize changes.

	* packages/func-menu.el: Minor customize changes.

	* packages/etags.el (tags-delete): Use builtin `delete'.
	(tags-remove-duplicates): Don't recurse.
	Fixup customizations.

	* packages/emerge.el: Use `with-current-buffer' instead of
 	`emerge-eval-in-buffer'; reindent.

	* packages/compile.el: Minor customize changes.

	* packages/bookmark.el: Customized.

	* packages/avoid.el (mouse-avoidance-mode): Customized properly.

	* packages/autoinsert.el: Customized.

	* modes/xrdb-mode.el: Minor customize changes.

	* modes/vrml-mode.el: Minor customize changes.

	* modes/vhdl-mode.el: Customized.
	(vhdl-emacs-features): Recognize XEmacs 20 correctly.

	* modes/vhdl-mode.el: Require elp when compiling.

	* modes/texinfo.el: Minor customize changes.

	* modes/tcl.el: Minot customize changes.

	* modes/strokes.el: Small fixes.
	(strokes-mode): Don't signal error without window system; issue a
 	warning.
	(strokes-insinuate): New function.  Don't defadvice upon loading.
	(strokes-mode): Use it.
	(strokes-char-face): Use `defface'.

	* modes/simula.el: Customized.

	* modes/scribe.el: Customized.
	(scribe-envelop-word): Don't bind `noparens' (unused).

	* modes/rsz-minibuf.el: Remove old lemacs support,
	e.g. screen-vs-frame, etc.
	(resize-minibuffer-min): Removed.

	* modes/rsz-minibuf.el: Fix customizations.

	* prim/subr.el: Moved string-to-foo functions to obsolete.el.

	* prim/obsolete.el: Comments.

1997-09-13  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/filladapt.el: Added `:require' to filladapt-mode
 	customization.

	* modes/whitespace-mode.el: Customize better.

	* modes/hideshow.el: Customize.

	* packages/icomplete.el: Don't turn on by default; customize
 	correctly.

	* utils/uniquify.el: Don't invade Emacs by default.
	(uniquify-buffer-name-style): Default to nil.

	* utils/uniquify.el: Removed support for Emacs 18.

	* packages/pending-del.el: Customize `pending-delete-mode'.

	* modes/sh-script.el: Renamed `sh-script' customization group to `sh'.

	* packages/balloon-help.el: Customize `balloon-help-mode'.

	* packages/paren.el: Don't invade Emacs by default.
	Finished customizing.

1997-09-13  SL Baur  <steve@altair.xemacs.org>

	* x11/x-toolbar.el (toolbar-paste-function): Remove reference to
	x-yank-primary-selection.
	Suggested by: Hrvoje Niksic <hniksic@srce.hr>

	* prim/about.el (about-xemacs): Update release date with worst
	case.
	(about-maintainer-info): Sync entry with 19.16.

1997-09-11  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/vc.el (vc-default-init-version): Make the default value
	be `nil'.  Improve the docstring.

1997-09-12  SL Baur  <steve@altair.xemacs.org>

	* prim/make-docfile.el: Spawn make-docfile to csh on next-mach as
	well as BSD.

1997-09-13  Hrvoje Niksic  <hniksic@srce.hr>

	* mule/mule-util.el: Clean of Emacs-ported things.

1997-09-12  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/etags.el (tags-file-pattern): Allow `,' in file names.

	* prim/startup.el (initial-scratch-message): Converted to defcustom.

1997-09-11  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/tar-mode.el: Customize; use cl.el instead of
	home-brewed extensions.

1997-09-10  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/subr.el (mapc-internal): Define for backward compatibility.

	* cl/cl-extra.el: Don't define `mapc'.

1997-09-07  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/startup.el (initial-scratch-message): Cosmetic change.

Fri Sep  5 00:50:41 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/Release 5.17

Fri Sep  5 04:47:03 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el (c-beginning-of-statement):
	Fixes in sentence movement to properly
	handle M-e moving forward into a comment when looking at preceding
	whitespace, and M-a moving backward into comment when looking at
	following whitespace.

	* cc-mode/cc-langs.el:
	Define `/' in c-mode-base-map since all modes now support
	c-electric-slash.

	Define C-c C-e in mode-specific maps instead of c-mode-base-map since
	c-expand-macro is meaningless in Java and IDL.

	* cc-mode/cc-engine.el (c-end-of-statement-1):
	Wrap backward-up-list in a c-safe call so no error results when
	buffer contains only a comment and point is at eob.

	* cc-mode/cc-cmds.el (c-beginning-of-statement):
	Uncommented the looking-at call in the
	sentence-flag clause so that moving by forward-sentence when looking
	at the beginning of a comment works again.  A previous log message in
	cc-mode.el indicates this was commented out "because
	c-beginning-of-statement-1 should do the right thing", but clearly it
	doesn't.

	I don't know if this breaks something else, because I can't figure out
	why it was commented out in the first place.

Tue Aug 26 22:31:55 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-style-alist): "python" style,
	knr-argdecl-intro == +

Mon Aug 25 17:25:12 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-inside-bracelist-p):
	Add a test to the enum list test so that the
	following code won't erroneously recognize as inside a brace list:

	static PyObject **
	unpack_sequence(v, argcnt, why)
	     PyObject **v;
	     int argcnt;
	     enum *why_code;
	{
		int i;

	Otherwise, the `enum' in the K&R decl trips this code up.

	* cc-mode/cc-styles.el (c-style-alist): "python" style,
	fill-column = 78

Fri Aug 22 20:25:57 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el (c-comment-line-break-function):
	Don't break line in the middle of a string.

Mon Aug 18 17:37:24 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-style-alist):
	"python" style change: arglist-intro <= +
	"python" style change: inextern-lang <= 0

Fri Aug 15 18:39:10 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-style-alist):
	"python" style requires c-comment-continuation-stars
	to be "".

1997-09-09  SL Baur  <steve@altair.xemacs.org>

	* utils/autoload.el: One too many -autoload suffixes.

1997-09-07  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/startup.el (initial-scratch-message): Cosmetic grammar
	fixup in startup *scratch* message.

1997-09-09  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/vc.el (vc-register): make the second option arg COMMENT
	do something

	* packages/vc.el (vc-register): Make the default initial
	version be `vc-default-init-version', a new variable
	defaulting to "0.1".

1997-09-08  SL Baur  <steve@altair.xemacs.org>

	* prim/packages.el (packages-find-packages): Reverse package path.
	From Colin Rafferty <craffert@ml.com>

1997-09-07  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/edmacro.el (edmacro-parse-word): Accept ^foo (would signal
	error).
	(edmacro-format-1): Add SPC after ^.

1997-09-03  SL Baur  <steve@altair.xemacs.org>

	* prim/make-docfile.el (Top Level): Ensure `load-path' always has
	directory names ending in '/'.

	* prim/packages.el (list-autoloads-path): Assume `load-path'
	always has directories ending with trailing `/'s.

	* version.el (emacs-version): Preserve previous matching info.
	From Didier Verna <didier@xemacs.org>

Wed Sep  3 13:53:10 1997  SL Baur  <steve@altair.xemacs.org>

	* prim/loadup.el:  *Never* add directories to the load-path
	without trailing slashes.

1997-09-03  SL Baur  <steve@altair.xemacs.org>

	* prim/packages.el (packages-find-packages): New argument:
	`suppress-user' to allow suppression of searching package
	hierarchies beginning with "~".
	(Top Level): Suppress searching user directories at dump time.

1997-08-30  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el (Info-mouse-track-double-click-hook): Added,
 	and placed an `add-hook' into (Info-mode)

1997-08-29  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* packages/hyper-apropos.el (hyper-apropos-help-map): add
	keybinding to `hyper-apropos-find-function'.
	(hyper-apropos-map): removed unnecessary double binding to
	`hyper-apropos-set-variable'.
	(hyper-apropos-find-function): new function.
	(hyper-apropos-popup-menu): if in the help mode, look for symbol
	at top of the buffer if necessary.  Added menu entry for
	`hyper-apropos-find-function'.

1997-08-29  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>

	* prim/files.el (switch-to-buffer-other-frame): make it select-frame

1997-09-01  SL Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Put tetris in the game menu,
	and move it and the mine game to the top of the menu.

1997-08-29  SL Baur  <steve@altair.xemacs.org>

	* packages/lpr.el: Clone message-flatten-list.

1997-08-25  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* apel/emu-x20.el (mime-charset-coding-system-alist):
	iso-2022-jp-2 is defined as coding-system.

	* mule/mule-coding.el: Rename `iso-2022-ss2-{7|8}' ->
	`iso-2022-{7|8}bit-ss2' to sync with Emacs 20.0.96.

	(iso-2022-jp-2): New coding system.

1997-08-23  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* prim/about.el (about-maintainer-glyph): Fix problem with
	jka-compr.el.

1997-08-25  SL Baur  <steve@altair.xemacs.org>

	* prim/help.el (find-function): ff-read-function was renamed.
	(find-function-other-window): Ditto.
	(find-function-other-frame): Ditto.

1997-08-21  SL Baur  <steve@altair.xemacs.org>

	* prim/packages.el (packages-find-packages-1): Append trailing
	slash to directories added to the load-path.

1997-08-17  SL Baur  <steve@altair.xemacs.org>

	* utils/autoload.el (fixup-autoload-buffer): Replace lost guard
	statement.

	* prim/make-docfile.el: Remove BOGUS redefinition of
	find-file-hooks.
	* prim/update-elc.el: Ditto.

	* prim/packages.el (locate-library): Put guard on usage of
	`find-file-hooks' (it doesn't exist when temacs is being run).

Fri Aug 15 17:26:05 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/Release 5.16

Fri Aug 15 18:39:10 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-style-alist):
	"python" style requires c-comment-continuation-stars
	to be "".

	* cc-mode/cc-engine.el (c-end-of-statement-1):
	Eliminate false hits on important characters
	inside literals (strings, comments).

Tue Aug 12 21:47:18 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el (c-comment-line-break-function):
	In this function, and the defadvice,
	call indent-new-comment-line if not in a comment.

	* cc-mode/cc-vars.el (c-buffer-is-cc-mode): Definition moved to
	cc-mode.el

	* cc-mode/cc-mode.el (c-buffer-is-cc-mode):
	Definition moved here from cc-vars.el.  Also,
	put permanent-local property on variable so it's value won't get
	killed by kill-all-local-variables.  This makes it easier for non-CC
	Mode derived modes to be initialized correctly.

	* cc-mode/cc-cmds.el (c-electric-brace):
	In preserve-p test, don't test char-before when at
	bobp.  Open brace at bobp is illegal in most modes, but not awk-mode,
	which depends on CC Mode.

Mon Aug 11 15:37:04 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-mode.el (c++-mode, java-mode, objc-mode, idl-mode):
	Remove obsolete variable c-double-slash-is-comments-p.

	* cc-mode/cc-langs.el (c-double-slash-is-comments-p): Remove
	obsolete variable.

	* cc-mode/cc-cmds.el (c-fill-paragraph):
	Remove conditional on obsolete variable
	c-double-slash-is-comments-p.

	* cc-mode/cc-styles.el (c-style-alist):
	Conform comment settings to RMS's preferences.

Thu Aug  7 19:21:32 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-styles.el (c-set-offset): Added autoload cookie.

1997-08-15  SL Baur  <steve@altair.xemacs.org>

	* cl/cl-macs.el (cl-make-type-test): De-ebolify type test for
	'character.

1997-08-12  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/man.el (Manual-mouseify-xrefs): Skip the top line of
 	manual entries so to not get the all-caps pseudo xrefs in the
 	heading in our list of manuals.
	(Manual-buffers-have-stars): new customize option.
	(manual-entry): Fix to utilize the new variable, and to not put
 	stars around manual names put in the minibuffer history.

1997-08-12  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el (Info-directory-list): reverse the
 	`Info-default-directory-list' when using it to initialize the
 	`Info-directory-list'.
	(Info-insert-dir): make it so the insertion of a locadir file at a
 	"^[ \t]*Local.*\n[ \t]*[-=]+" line works correctly.

Mon Aug 11 17:35:35 1997  SL Baur  <steve@altair.xemacs.org>

	* prim/loaddefs.el (((dir load-path))): Ignore all errors.

	* utils/autoload.el (fixup-autoload-buffer): Wrapping autoloads
	files with a guard produces invalid bytecode.

	* prim/make-docfile.el (package-path): Look in the package path
	for autoloads files.

	* prim/packages.el (packages-find-packages-1): Don't append
	trailing "/" when adding a top-level Lisp directory.
	(list-autoloads-path): New function.  Use existing precomputed
	load-path instead of doing the old broken computation.

1997-08-11  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (command-line-1): Allow setting of
	`initial-scratch-message' to nil to turn it off.
	Suggested by Gary D. Foster <Gary.Foster@Corp.Sun.COM>

1997-08-09  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: (info::toolbar) swap next and prev buttons to
 	match the order of the node headings in info files.

1997-08-09  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: (Info-fontify-node) will now split top line
 	that spans 3 lines.  (Info-extract-pointer) adjust to match.

1997-08-08  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: (Info-extract-pointer) make it move forward
 	one more line so when the top line has been split, the toolbar
 	arrows, u, and p will find the link they need.

Thu Aug  7 18:13:12 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/Release 5.15

Thu Aug  7 19:21:32 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-set-offset): Added autoload cookie.

	* cc-mode/cc-langs.el (c++-mode-syntax-table, java-mode-syntax-table,
	objc-mode-syntax-table, idl-mode-syntax-table):	Added autoload
	cookies. c-mode-syntax-table already has one.

Wed Aug  6 21:50:08 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-mode.el (c-initialize-cc-mode):
	Check all cc-mode-19 interface requirements.

Tue Aug  5 21:56:02 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-align.el (c-lineup-java-throws):
	Change the `when' clause to an `if-progn' :-(

	* cc-mode/cc-langs.el (c-common-init):
	Make comment-line-break-function buffer local iff it's boundp.

	* cc-mode/cc-cmds.el:
	defadvice for indent-new-comment-line keys off of c-buffer-is-cc-mode
	instead of an explicit major-mode list.  this means non-CC Mode
	derived modes will work properly

	* cc-mode/cc-mode.el (c-initialize-cc-mode): Set
	c-buffer-is-cc-mode to t.

	* cc-mode/cc-vars.el (c-buffer-is-cc-mode): New variable

	* cc-mode/cc-mode.el (c-initialize-cc-mode):
	Give in to the pressure.  require 'cc-mode-19
	if functionp is not bound.  Too many novice errors without this.

	* cc-mode/cc-cmds.el:
	Added advice for indent-new-comment-line so older Emacsen work if they
	don't have the variable comment-line-break-function.

Mon Aug  4 14:55:40 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el (c-mode-base-map, c++-mode-map):
	Move `/' as an electric character
	from c++-mode-map to c-mode-base-map for all languages.

	* cc-mode/cc-cmds.el (c-electric-slash):
	Make this work as the final slash in a */ block
	oriented comment closing token.

	* cc-mode/cc-vars.el (c-comment-continuation-stars):
	Can take a nil value.  Also, the default value is "* ".

	* cc-mode/cc-cmds.el (c-comment-line-break-function): nil value for
	c-comment-continuation-stars means use old semantics

Fri Aug  1 22:44:49 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el (c-comment-line-break-function):
	Added optional soft argument

	* cc-mode/cc-langs.el (c-common-init): Set comment-multi-line and
	comment-line-break-function here for all modes.

	* cc-mode/cc-mode.el (c-mode, c++-mode, objc-mode, java-mode,
	idl-mode):
	Don't set comment-multi-line here.

	* cc-mode/cc-vars.el (c-comment-continuation-stars): New variable

	* cc-mode/cc-cmds.el (c-comment-line-break-function): New function
	for proposed mode-specific comment-line-break-function variable.

	* cc-mode/cc-mode.el (c-mode): comment-multi-line => nil

	* cc-mode/cc-langs.el (c-C-comment-start-regexp): Obsolete.

	(c-comment-start-regexp): Initialize from c-C++-comment-start-regexp.

	(c-populate-syntax-table, c-setup-dual-comments): Merge both functions
	into c-populate-syntax-table.  With the new 9X draft C standard, both
	line and block oriented comments are supported in all modes, so always
	set up the syntax tables to support both comment styles.

	(c-mode-syntax-table, c++-mode-syntax-table, java-mode-syntax-table,
	objc-mode-syntax-table, idl-mode-syntax-table): Use the new syntax
	table initialization idioms.

	(c-enable-//-in-c-mode): Obsolete.

	* cc-mode/cc-mode.el (c-mode):
	c-comment-start-regexp uses c-C++-comment-start-regexp to
	support line oriented comments.

Wed Jul 30 00:01:45 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-guess-basic-syntax):
	CASE 5D.4: template argument continuation
	lines are now analyzed as template-args-cont.

	* cc-mode/cc-styles.el (c-offsets-alist):
	Added template-args-cont syntactic symbol

Sat Jul 26 16:03:33 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-styles-alist):
	In "java" style, set c-hanging-comment-starter-p to
	nil to preserve Javadoc starter lines.

1997-08-08  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* prim/obsolete.el (define-obsolete-variable-alias): If the
	obsolete variable was setq'ed before the code was loaded we want
	that value.

1997-08-06  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/man.el: Several modifications

		* (manual-entry) buffers are named without *'s, when
 		`buffers-menu-submenus-for-groups-p' is t, so they show up
 		in a subsection of the Buffer's menu now, rather than
 		lumped under *Misc*.

		* (Manual-mode) added a local `kill-buffer-hook' to remove
 		a killed manual from the `Manual-page-history'

		* (Manual-last-page) begun rewrite of manuvering and
 		viewing mode code

		* (Manual-mouseify-xrefs) hyphenated xrefs are highlighted
 		now, and properly handled when the second line is
 		indented.  They end up on the menus too.

		* (Manual-popup-menu) made the far button popup menus look
 		better by removing the prefix string and adding a title.

1997-08-06  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: (Info-highlight-region) Fixed it to not
 	highlight the indention spaces in xrefs split across lines with
 	indention on the second line.

1997-08-06  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: Numerous modifications, including:

		* support for "dir" merging 'ala Emacs-19.34, with
 		fallback to cheap localdir files in the secondary info
 		directories.

		* changed default `Info-annotations-path' from
 		~/.infonotes to ~/.xemacs/info.notes

		* added `Info-additional-directory-list'

		* changed a call to w3-fetch to browse-url

		* added new variables and functions from GNU Emacs 19.34:
 		`Info-dir-contents', `Info-dir-contents-directory',
 		`Info-dir-file-attributes', and the function
 		`Info-insert-dir'

		* rewrote `Info-suffixed-file' to a cond block rather than
 		nested if's for aesthetic reasons.

		* made the top line get split if it's longer than 79
 		characters and tweaked fontification to handle that.

		* changed the look of the pop-up mouse menus by utilizing
 		the "--:etchedThing" dividers.

		* several docstring reformats and typo fixes, a few
 		comments deleted.

	* info/dir: deleted the Locals: line.  I think it's obsolete since
 	the "dir" merge can put things from like-named nodes in separated
 	"dir" files all under one menu, which is more versatile than just
 	a "Locals:" section.  If you still want a "Locals:" section, make
 	yourself a node for it.

1997-08-07  SL Baur  <steve@altair.xemacs.org>

	* egg/egg.el (hiragana-region): Ebola cleanup.
	(katakana-region): Ditto.

1997-08-02  Jens-Ulrik Holger Petersen  <petersen@kurims.kyoto-u.ac.jp>
	* prim/files.el (save-buffers-kill-emacs):
	If there are active processes, then list them before querying if
	it is ok to exit emacs.

1997-08-01  Karl M. Hegbloom  <karlheg@inetarena.com>

        * efs/dired.el (dired-get-filename) Move the skipping of the
        ending carriage return on NT to inside the setq so `and' won't
        fail on Unix.

1997-07-30  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (find-emacs-root-internal-1): Remove diagnostic.

	* prim/packages.el (packages-find-packages): Remove diagnostic.

1997-07-27  SL Baur  <steve@altair.xemacs.org>

	* utils/config.el (config-value-hash-table): Only store the first
	occurrence of a symbol.

	* modes/make-mode.el: Remove imenu stuffs.

Sat Jul 26 12:24:20 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/  Release 5.14

Sat Jul 26 16:03:33 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-styles-alist):
	In "java" style, set c-hanging-comment-starter-p to
	nil to preserve Javadoc starter lines.

Fri Jul 25 22:17:07 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-beginning-of-statement-1):
	When checking for bare semi, don't match
	on a semi following a close brace, otherwise the following legal code
	fails:

	void foo()
	{
	    static struct Pattern nums
	        = {1, 2, 3};

	    int j = 2;
	}

	This might break some bare semi idioms but those are probably more
	rare than static initializers.

	* cc-mode/cc-vars.el (idl-mode-hook): New variable.

	* cc-mode/cc-mode.el (idl-mode): Support for CORBA's IDL language.

	* cc-mode/idl-font-lock.el: Unsupported font-lock definitions for IDL.
	This should be merged in with font-lock.el

	* cc-mode/cc-mode.el (c-initialize-cc-mode):
	move the calling of c-make-styles-buffer-local
	into c-initialize-builtin-style.

	* cc-mode/cc-styles.el (c-set-style-2):
	Fixed broken implementation of inherited styles.

	* cc-mode/cc-mode.el (c-initialize-cc-mode):
	Run the c-initialization-hook, but only once
	per Emacs session.

	* cc-mode/cc-vars.el (c-initialization-hook): New variable.

	* cc-mode/cc-engine.el (c-guess-basic-syntax):
	CASE 5I: When adding 'inclass syntax, use the
	relpos pointing to the class opening brace, unless that hangs on the
	right side, in which case, use the start of the class/struct keyword.

Thu Jul 17 03:36:22 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el (c-symbol-key):
	first character must be a letter or underscore

1997-07-25  SL Baur  <steve@altair.xemacs.org>

	* packages/vc.el (vc-version-diff): Autoload for the menu.
	Suggested by Karl M. Hegbloom <karlheg+xemacs@inetarena.com>

1997-07-24  SL Baur  <steve@altair.xemacs.org>

	* prim/make-docfile.el (docfile-out-of-date): Workaround for NEWOS
	process exit handling bug.
	Suggested by Katsumi Yamaoka <yamaoka@ga.sony.co.jp>

1997-07-23  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: (Info-fontify-node) Allow colons in menu
 	names.  There must be whitespace following the menu ending colon.

1997-07-23  SL Baur  <steve@altair.xemacs.org>

	* prim/faces.el (invert-face): Make interactive.
	Suggested by David Bakhash <cadet@sst.ll.mit.edu>

1997-07-21  Karl M. Hegbloom  <karlheg@inetarena.com>

	* modes/view-process-system-specific.el added
	`View-process-field-name-descriptions-linux', transcribed from
	man 7 ps_fields.  Linux signals fixed to match <asm/signal.h>.

1997-07-22  SL Baur  <steve@altair.xemacs.org>

	* x11/x-toolbar.el (toolbar-paste-function): Add default as
 	option.

	* prim/minibuf.el (force-dialog-box-use): Fix typo.
	From Pekka Marjola <pema@iki.fi>

1997-07-21  SL Baur  <steve@altair.xemacs.org>

	* prim/packages.el (locate-data-directory): New function to search
	for directories in the data-directory-list.

1997-07-21  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/minibuf.el: New customize variable:
 	`minibuffer-history-uniquify'
	(read-from-minibuffer) Only remove histval from list if
	minibuffer-history-uniquify is t.

	* custom/custom.el: Fix typo in (defgroup) docstring.

1997-07-21  SL Baur  <steve@altair.xemacs.org>

	* prim/startup.el (set-default-load-path): Initialize package
	paths as final step if everything else went O.K.

	* prim/help.el: Removed locate-library (moved to packages.el).

	* prim/subr.el: Removed lamda macro (moved to packages.el).

	* prim/packages.el (package-find-packages): New function.  Search
	package hierarchies for interesting directories.
	(package-find-packages-1): Helper function for the above.  Do the
	searching in exactly 1 directory.

	* packages/vc.el: Add ClearCase maintainer.

1997-07-21  Karl M. Hegbloom  <karlheg@inetarena.com>

	* modes/whitespace-mode.el (toplevel) Install toolbar button using
	`toolbar-add-item' rather than redefining the whole default
	toolbar.  If the button is already there, does nothing, so a
	custom toolbar containing a whitespace button can made with
	`edit-toolbar' once it's been installed the first time.

1997-07-20  SL Baur  <steve@altair.xemacs.org>

	* utils/speedbar.el:
	(speedbar-frame-mode): Autoload.
	(speedbar-get-focus): Autoload.
	(speedbar): Autoload (correctly).

	(speedbar-frame-width): Test liveness of frame
	too.
	(speedbar-frame-mode): Avoid some Emacs 20 code.
	From Markus Linnala <maage@cs.tut.fi>

	* prim/startup.el (find-emacs-root-internal): Search
	prefix-directory directly for XEmacs installed stuffs.

	* utils/smtpmail.el (smtpmail-send-it): Autoload.

	* prim/startup.el (command-line): Put advisory text in *scratch*
	at startup.

	* packages/info.el (Info-exit): Guard against deletion of only
	frame.
	From David Bakhash <cadet@MIT.EDU>

1997-07-19  SL Baur  <steve@altair.xemacs.org>

	* utils/elp.el: Spelling correction.
	From karlheg+xemacs@inetarena.com (Karl M. Hegbloom)

1997-07-19  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el: Sundry changes.

1997-07-18  Steven L Baur  <steve@altair.xemacs.org>

	* packages/crypt.el (crypt-inhibit-formats): New variable.
	(crypt-encoded-p): Use it.
	Based on a patch by Tkil <tkil@scrye.com>

	* utils/ring.el (ring-p): Make compatible, not obsolete.

1997-07-16  Steven L Baur  <steve@altair.xemacs.org>

	* utils/crontab.el (crontab-get): Check for `no crontab for' as an
	error return.
	Suggested by Jeff Miller <jmiller@smart.net>

	* modes/arc-mode.el: Clean up comment.

	* packages/tar-mode.el: Clean up comments.

Wed Jul 16 23:56:58 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/:  Release 5.13.

Thu Jul 17 03:36:22 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el (c-symbol-key):
	first character must be a letter or underscore

Mon Jul 14 23:43:33 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el (c-make-inherited-keymap): Change to a defun

	* cc-mode/cc-langs.el:
	Added (require 'cc-defs) to pick up the definition of c-emacs-features.

	* cc-mode/README: Simplified instructions

	* cc-mode/cc-make.el: New file to aid in byte-compiling in older
	Emacsen.

Sun Jul 13 21:24:37 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el: cc-defs is required to pick up the
	c-add-syntax macro

	* cc-mode/cc-langs.el (c-mode-menu):
	Added uncomment region and slight rearrangement of
	items

	* cc-mode/cc-cmds.el (c-electric-backspace):
	Must get 'supercede property values to work
	with delsel and pending-del.

Thu Jul 10 20:46:09 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-maybe-labelp):
	defvar this to shut up the byte compiler

Wed Jul  9 22:08:58 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el (c-initialize-builtin-style):
	use copy-sequence instead of copy-tree
	so the cl module isn't necessary.

	* cc-mode/cc-cmds.el (c-electric-brace):
	fix ebola eradication consequence in the
	preserve-p test.

1997-07-15  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (xemacs-hackers): Add info about IENAGA Kazuyuki.
	(about-url-alist): Ditto.
	(about-maintainer-info): Ditto.

	* prim/modeline.el (add-minor-mode): Update docstring.

1997-07-15  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/pending-del.el (pending-delete-mode): Use the option
	symbol as argument to add-minor-mode, not its value.

1997-07-14  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/pending-del.el (pending-delete-modeline-string): New
 	option.

1997-07-14  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (auto-mode-alist): Readd objective c mode.
	From Barry A. Warsaw <bwarsaw@CNRI.Reston.Va.US>

	* prim/make-docfile.el: Print more informative message when
	attempting to create docfile and all dumped .elcs do not exist.

1997-07-13  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (save-some-buffers): Guard call to
	`delete-other-windows'.

1997-07-13  Karl M. Hegbloom  <karlheg@inetarena.com>

	* prim/minibuf.el: (read-from-minibuffer) Corrected indentation,
 	History lists don't contain dups anymore, newest is put on top and
 	removed from the cdr.

1997-07-13  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/man.el: (manual-entry) Added `Manual-page-
 	minibuffer-history', and added it to the read-string statement.
  	Added #\: to `fmh' so that manuals named like MIME::Parser(3) are
 	found at point.
	(Manual-mouseify-xrefs) Fixed it so now it will mousify the manual
 	entry on the first line of an apropos listing.

1997-07-10  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/info.el: Added `Info-minibuffer-history', and made it
 	the minibuffer history variable in the `completing-read' calls.

	* utils/savehist.el: Added `Info-minibuffer-history' to default
 	value of `savehist-history-variables'.

1997-07-13  Steven L Baur  <steve@altair.xemacs.org>

	* modes/lisp-mode.el: Restore verbosity as an option.
	From Hrvoje Niksic <hniksic@srce.hr>

1997-07-11  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/cmdloop.el (execute-extended-command): Use
 	`sorted-key-descriptions'.

	* prim/help.el (sorted-key-descriptions): New function.
	(where-is): Use it.
	(where-is): Use `read-command'.

	* prim/macros.el (kbd-macro-query): Use `read-char-exclusive'
	instead of `read-char'.

	* prim/cmdloop.el (read-char): Correctly inhibit quit.

	* prim/files.el: Use `files' group.

	* prim/disp-table.el (describe-display-table): Made it work; don't
	use `describe-vector'.

	* prim/gui.el: Customized.

	* utils/edmacro.el (insert-kbd-macro): Move to macros.el.

	* prim/macros.el: Synch with FSF 19.34.

	* prim/featurep.el: Comment addition.

	* prim/cus-start.el: Add variables from replace.el.

	* prim/replace.el (case-replace): Use `defvar', not `defconst'.

	* utils/crontab.el: Customized.

	* utils/highlight-headers.el: Define -faces as a separate group;
	customize the variables.

	* utils/uniquify.el: Hide from the Customize tree; the package
	changes state of XEmacs on load.

	* packages/igrep.el: Don't insinuate XEmacs when loading.
	(igrep-insinuate): New function.

	* packages/blink-cursor.el (blink-cursor-callback): Don't blink on
	TTY-s.

	* prim/console.el (resume-pid-console): Use `eql'.

	* prim/profile.el (profile): Restore old profiling state, instead
	of blindly turning off profiling.

	* packages/add-log.el (add-log-c-like-modes): Add java-mode.

	* packages/add-log.el: Require fortran when compiling.

	* prim/device.el (device-list): Use `nconc' instead of `append'.

1997-07-13  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (save-some-buffers): Only delete other windows the
	first time through.
	Based on code from Hrvoje Niksic <hniksic@srce.hr>

1997-07-12  Steven L Baur  <steve@altair.xemacs.org>

	* prim/modeline.el (mouse-drag-modeline): Don't queue dummy eval
	events.
	From Kyle Jones <kyle_jones@wonderworks.com>

1997-07-10  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/gnuserv.el (gnuserv-edit-files): Operate on this
	buffer's menubar.

1997-07-11  Steven L Baur  <steve@altair.xemacs.org>

	* packages/gnuserv.el: Add done button.
	From Hrvoje Niksic <hniksic@srce.hr>

1997-07-10  Steven L Baur  <steve@altair.xemacs.org>

	* utils/edit-toolbar.el: (edit-toolbar-file-name): Use
	`emacs-user-extension-dir'.
	(edit-toolbar-add-initialization): Ditto.
	(edit-toolbar-prompt-for-initialization): Ditto.

	* utils/edit-toolbar.el: New file.
	From Peter Pezaris <pez@dwwc.com>

	* utils/toolbar-utils.el: New file.
	From Jeff Miller <jmiller@smart.net>

1997-07-10  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/add-log.el (change-log-font-lock-keywords): Don't
	fontify closing paren.

	* packages/pending-del.el: Some renamings, synch with Emacs 19.34.

1997-07-10  Steven L Baur  <steve@altair.xemacs.org>

	* packages/hyper-apropos.el (hyper-apropos-get-doc): Don't
	autoload, there is very little point.

	* prim/obsolete.el (frame-first-window): Make compatible, not
	obsolete.

1997-07-10  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/pending-del.el (pending-delete-pre-hook): Don't quote
 	lambda.
	(pending-delete-pre-hook): Use `error-message-string'.
	(pending-delete): Treat as minor mode; define the standard turn-on
	and turn-off functions.
	(delete-active-region): Simplified.

	* packages/pending-del.el: Don't turn on by default.

1997-07-09  Steven L Baur  <steve@altair.xemacs.org>

	* packages/pending-del.el: Correct typo in Hrvoje's upgrade.

	* mel/mel-u.el (uuencode-external-decode-region): Force
	buffer-read-only nil because it gets changed magically to t during
	the call to `insert-file-contents'.

	* tm/tm-image.el (mime-preview/filter-for-image): Comment out test
	for invalid glyph.  It appears to be non-functional.

	* modes/lisp-mode.el (lisp-interaction-mode-popup-menu-1): Add
	entry for debug on signal.

	* packages/supercite.el (sc-attribs-%@-addresses): + is valid in
	an Email address.
	(sc-attribs-<>-addresses): Ditto.
	(sc-get-address): Ditto.

	* cc-mode/cc-cmds.el (c-electric-brace): Fix Ebola infection.

	* prim/dumped-lisp.el (dumped-lisp-packages): Tweak dump order
	so "startup" is loaded before the autoloads.

	* custom/cus-edit.el (custom-file): Use same logic as startup.el

j1997-07-08  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/simple.el (log-message-ignore-regexps): Reduced
	significantly.

Tue Jul  8 23:47:47 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/Release 5.12

Mon Jul  7 23:47:02 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-styles.el, cc-mode/cc-mode.el, cc-mode/cc-menus.el,
	cc-mode/cc-langs.el, cc-mode/cc-engine.el, cc-mode/cc-compat.el,
	cc-mode/cc-cmds.el, cc-mode/cc-align.el:
	Reorganization to support byte-recompile-directory.

	* cc-mode/Release: Don't put release number in tar file

Thu Jul  3 22:54:03 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el (c-mode-base-map):
	Proper binding of c-electric-backspace and
	c-electric-delete, based on the policy of the various maintainers.
	Thank goodness for delete-key-deletes-forward!

	* cc-mode/cc-vars.el (c-tab-always-indent, c-hanging-braces-alist):
	Minor changes to the cutomize format.

	* cc-mode/cc-mode-19.el: Initial revision

	* cc-mode/cc-menus.el, cc-mode/cc-engine.el, cc-mode/cc-compat.el,
	cc-mode/cc-cmds.el, cc-mode/cc-align.el:
	Major Ebola eradication.

Wed Jul  2 21:33:04 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-crosses-statement-barrier-p,
	c-guess-basic-syntax): Ebola eradication.

	* cc-mode/cc-cmds.el (c-indent-region):
	Call c-echo-parsing-error to echo last parsing
	error that may have occurred.

	* cc-mode/cc-engine.el (c-echo-parsing-error): New function.

	* cc-mode/cc-engine.el (c-parsing-error): new variable

	(c-parse-state): When an unbalanced close brace is discovered, don't
	raise an error (prevents insertion of character).  Insert the
	character, display a warning message, and set c-parsing-error so
	syntax echoing will be disabled.

	(c-show-syntactic-information, c-indent-line): Suppress syntax echoing
	if c-parsing-error is non-nil.

	* cc-styles.el: Added require of cl to pick up definition of copy-tree.

Mon Jun 30 21:41:00 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el, cc-mode/cc-mode.el (c-mode-map,
	c++-mode-map, objc-mode-map, java-mode-map):
	Moved
	defvars from cc-langs.el to cc-mode.el for use in c-mode, c++-mode,
	objc-mode, and java-mode docstrings.  Actual population of these mode
	maps remains in cc-langs.el.

	* cc-mode/cc-mode.el:
	Require cc-langs at top level, so as to get the definitions for
	c-mode-map, et al. that are used in the *-mode docstrings.

Fri Jun 27 17:33:32 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-langs.el (c-mode-syntax-table):
	Added autoload cookie for gdb-mode.

Thu Jun 26 21:12:56 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-engine.el (c-guess-basic-syntax):
	CASE 5H: Whack one ebola infection (e.g. using
	memq with the results of following-char in XEmacs 20).

	* cc-mode/cc-styles.el:
	Added two require's that make autoload call of (c-set-style) work.

Sun Jun 22 16:40:30 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-cmds.el (c-electric-delete):
	Don't call c-electric-backspace interactively.

Fri Jun 20 20:40:33 1997  Barry A. Warsaw  <cc-mode-help@python.org>

	* cc-mode/cc-mode.el (c-mode, c++-mode, objc-mode, java-mode):
	Make sure to call
	c-update-modeline after the hooks are run, so that the modeline
	accurately reflects auto-newline and delete-key minor modes if the
	hooks set c-hungry-delete-key or c-auto-newline directly.

	* cc-align.el (c-lineup-java-throws): Fixed some regressions.
1997-07-08  Steven L Baur  <steve@altair.xemacs.org>

	* packages/func-menu.el: Don't enable Makefile mode function menu
	by default.
	From Martin Buchholz <mrb@Eng.Sun.COM>

	* x11/x-menubar.el (file-menu-filter): Delete Frame should be
	active when multiple frames span multiple devices.
	From Aki Vehtari <Aki.Vehtari@hut.fi>

1997-07-08  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/gnuserv.el: Remove RCS ID keywords.

	* utils/savehist.el: Cosmetic changes.  Hopefully, not
	user-visible.

	* prim/debug.el (debug-convert-byte-code): Use compiled-function
	accessor functions.

1997-07-08  Steven L Baur  <steve@altair.xemacs.org>

	* modes/hideif.el (hide-ifdef-mode): Include modemap in call to
	`add-minor-mode'.

1997-07-08  Tomasz Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* packages/add-log.el: Require add-log for accessing
	add-log-mailing-address and add-log-full-name variables.

1997-07-08  Steven L Baur  <steve@altair.xemacs.org>

	* bytecomp/disass.el (disassemble-1): Use functional interface
	instead of indexing into vector.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/startup.el (emacs-user-extension-dir): New variable.
	(load-user-init-file): Use it.  .xemacs and .xemacs-custom are
	moved into `emacs-user-extension-dir' and renamed to init.el and
	options.el respectively.

	* prim/packages.el (packages-hardcoded-lisp): Remove "startup"
	since it is mentioned in dumped-lisp.el.

	* cl/cl-macs.el (keymap-name): New defsetf.
	(keymap-prompt): Ditto.
	(keymap-default-binding): Ditto.
	From Hrvoje Niksic <hniksic@srce.hr>

1997-07-07  Karl M. Hegbloom  <karlheg@inetarena.com>

	* packages/dabbrev.el: replace `buffer-substring' with
	`buffer-substring-no-properties' so that unwanted text
	properties (like read-only) are stripped from inserted
	dabbrev expansions.

1997-07-08  Steven L Baur  <steve@altair.xemacs.org>

	* comint/comint.el (comint-replace-by-expanded-history): Change
	buggy history test regexp.
	From Simon Marshall  <simon@spiff.gnu.ai.mit.edu> (Emacs/Mule zeta)

1997-07-07  Steven L Baur  <steve@altair.xemacs.org>

	* oobr/br-clos-ft.el (clos-scan-routine-arglist): Don't reference
	bytecode object as vector.

	* hypberbole/hact.el (action:commandp): Don't reference bytecode
	objects as vectors.
	(action:params): Ditto.

	* hyperbole/hypb.el (hypb:function-copy): Don't reference byte
	code objects as vectors.
	(hypb:function-symbol-replace): Document as broken.  The
	substition cannot be done without some thinking I'm not in the
	mood for.

	* efs/efs-ovwrt.el (efs-overwrite-fn): Attempt to correctly deal
	with the interactive spec.

	* packages/apropos.el (apropos-safe-documentation): Use
	`compiled-function-doc-string' instead of referencing a bytecode
	object as an array.

	* prim/subr.el (buffer-substring-no-properties): Undo previous
	change removing extents.  set-text-properties works now.
	From Hrvoje Niksic <hniksic@srce.hr>

	* packages/hyper-apropos.el (hyper-apropos-get-doc): Get the
	argument list through a function instead of indexing into
	bytecode.

	* utils/easymenu.el (easy-menu-add): Oops, wrong sense in
	comparison.

	* comint/gdb.el (gdb-mode-syntax-table): New variable.  Initialize
	with the logic currently in CC Mode 5.11.
	(gdb-mode): Use it.

	* modes/hideif.el (hide-ifdef-mode-submap): Correctly specify the
	current local map.

1997-07-08  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/english.el: Add quail-british for British.

	* language/european.el: Register input-method for various non
	quail-latin-1 methods.

1997-07-06  Steven L Baur  <steve@altair.xemacs.org>

	* prim/cmdloop.el (errors-deactivate-region): Default to no error
	behavior for beta testing.

	* prim/dumped-lisp.el (dumped-lisp-packages): Reenable dumping
	winnt.elc with MS Windows NT version of XEmacs.

1997-07-05  Steven L Baur  <steve@altair.xemacs.org>

	* comint/shell.el ((not shell-mode-map)): M-RET conflicts with
	Hyperbole binding.

	* comint/comint.el (comint-mode): Use easymenu for making menus.
	(comint-popup-menu): Use mode-popup menu instead of private menu.

	* efs/dired.el (toplevel): Do not string test version against
	"Lucid".

	* prim/obsolete.el (add-menu): Don't make obsolete.

	* utils/easymenu.el (easy-menu-remove): Do something neater when
	only one buffer menu is in effect.
	(easy-menu-add): Ditto.

	* prim/dumped-lisp.el (dumped-lisp-packages): easymenu will be
	dumped with XEmacs.

	* utils/easymenu.el (easy-menu-define): Don't autoload.

	* modes/lisp-mode.el (toplevel): Rename menu descriptors.
	(emacs-lisp-mode): Use easy-menu-define/easy-menu-add to add menus.
	(lisp-interaction-mode): Ditto.

1997-07-04  Steven L Baur  <steve@altair.xemacs.org>

	* prim/cmdloop.el (errors-deactivate-region): Default to existing
	behavior.

	* leim/quail.el (quail-mode): Correct addition of quail minor mode
	info to minor-mode-map-alist.
	(top-level):  Ditto.

1997-06-30  Hrvoje Niksic  <hniksic@srce.hr>

	* modes/abbrev.el (define-mode-abbrev): Call `define-abbrev' with
	correct arguments.

1997-07-04  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/minibuf.el (read-from-minibuffer): Initialize
	`current-minibuffer-contents', `current-minibuffer-point', and
	`initial-minibuffer-history-position'.
	(next-history-element): Use them.
	(previous-matching-history-element): Ditto.

1997-07-04  Steven L Baur  <steve@altair.xemacs.org>

	* prim/cus-load.el (custom-put): New alias for overloadable
	function.

1997-07-03  Steven L Baur  <steve@altair.xemacs.org>

	* utils/autoload.el (batch-update-directory): Fix typo.
	(update-autoloads-from-directory): Avoid scanning custom-load.el
	and auto-autoload.el files.
	(batch-update-autoloads): Remove duplicate status message.
	(autoload-snarf-defcustom): Keep track of what symbols we have
	attached property lists to.

	* ilisp/Makefile (autoloads): Add autoloads dependencies.

	* hyperbole/Makefile: Add autoloads dependencies.

	* utils/autoload.el (batch-update-autoloads): Load custom-load
	prior to updating autoloads.

	* cc-mode/Makefile (autoloads): New targets to automatically
	rebuild autoloads and custom-loads.

1997-07-02  Steven L Baur  <steve@altair.xemacs.org>

	* auctex/Makefile (autoloads): New targets to automatically
	rebuild autoloads and custom-loads.

	* utils/autoload.el (batch-update-autoloads): Add new parameter,
	update DOC string.

	* comint/gdb.el (gdb-mode): Semantics of c-mode-syntax-table have
	changed.

1997-07-01  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el: bookmark submenu beautification -- This will
	make it look better (and will prevent some consing, but that's
	being anal).
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/simple.el (delete-key-deletes-forward): Mark docstring as
	an user option.
	From Gary D. Foster <Gary.Foster@Corp.Sun.COM>

	* mel/mel-q.el (q-encoding-encode-string): Fix Ebola-ified
 	comparison.

	* efs/efs-ovwrt.el (efs-overwrite-fn): efs is manufacturing its
	own byte code.  Whee.
	* utils/advice.el (ad-interactive-form): Don't treat bytecode as a
	vector if it can be avoided.
	From Kyle Jones <kyle_jones@wonderworks.com>

1997-06-30  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (auto-mode-alist): Don't set image-mode by default
	on xpms.

Sun Jun 29 20:57:15 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/simple.el: bind inhibit-read-only to t before
	  trying to erase or otherwise modify the echo area buffer.

1997-07-01  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* modes/image-mode.el: Add `image-maybe-restore' to
	`change-major-mode-hook'.

	* modes/image-mode.el (image-maybe-restore): New function.

1997-06-29  Hrvoje Niksic  <hniksic@srce.hr>

	* modes/abbrev.el (define-mode-abbrev): Would ignore EXPANSION.

1997-06-28  Hrvoje Niksic  <hniksic@srce.hr>

	* modes/abbrev.el (define-abbrev): If NAME contains a non-word
 	character, intern a ` ' symbol in the obarray.

1997-06-29  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (auto-mode-alist): Set image-mode for various
	image file names (JPEG, GIF, PNG, and xpm).

Sun Jun 29 03:02:10 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* src/undo.c (record_extent):
	  If the extent's object is a string, just return.  We
	  can't record undo information for strings, and it is
	  very bad to reference through a string pointer as if it
	  were a buffer pointer.

1997-06-28  Steven L Baur  <steve@altair.xemacs.org>

	* utils/delbs.el: Removed as obsolete.
	Suggested by Gary D. Foster <Gary.Foster@Corp.Sun.COM>

	* packages/hyper-apropos.el (hyper-apropos-documentation): Remove
	obsolete alias.
	(hyper-apropos-hyperlink): Ditto.
	(hyper-apropos-major-heading): Ditto.
	(hyper-apropos-section-heading): Ditto.
	(hyper-apropos-heading): Ditto.
	(hyper-apropos-warning): Ditto.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/simple.el (show-message-log): Restore an oldie-but
	prematurely-retired-goodie.

	* x11/x-menubar.el (default-menubar): Restore Show Message Log
	command in Edit menu.

	* mule/mule-util.el: Change defsubst to defun for
	string-to-sequence, string-to-list, string-to-vector,
	nested-alist-p to shut up build time diagnostics.

	* prim/loadup.el (Top level): Added instrumentation to diagnose
	where the 0 property list is getting added at dump.  Naturally, I
	cannot reproduce the problem now.

	* modes/abbrev.el (define-abbrev): Trap nil tables (which might
	cause bogus plists to get put into obarray).
	Fix docstring.

1997-06-27  Hrvoje Niksic  <hniksic@srce.hr>

	* modes/auto-show.el:  Customized.

1997-06-27  Steven L Baur  <steve@altair.xemacs.org>

	* prim/make-docfile.el: [oops] Check auto-autoloads.elc for
	out-of-dated-ness too.

	* utils/autoload.el (batch-update-directory): Kill command line
	args when done.
	(autoload-save-customization): Print a warning message with the
	offending symbol when we run across the elusive malformed property
	list ((0 0)).

1997-06-26  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/profile.el (profile-key-sequence): New function.
	(pretty-print-profiling-info): Allow interactive calls.

	* prim/overlay.el: Make more FSF compatible.

1997-06-27  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loaddefs.el (debug-ignored-errors): Fix regexps.
	From Hrvoje Niksic <hniksic@srce.hr>

	* hyperbole/wrolo-menu.el (TopLevel): Fix tests so that W3's
	id-menubar simulation doesn't bollux up feature tests.

	* prim/about.el (about-xemacs): Adjust planned release date.

1997-06-26  Steven L Baur  <steve@altair.xemacs.org>

	* prim/cus-load.el: Use correct load name.
	- Silence the load messages.

	* mule/mule-util.el (string-to-sequence): Spelling correction.

	* prim/make-docfile.el: Don't overwrite DOC file when it is
	up-to-date.

1997-06-29  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/chinese.el: Add chinese-isoir165 (CCITT Extended GB).

	* language/chinese.el: Modify charset DOC-strings for CNS 11643 to
	be more detailed.

	* language/arabic.el: (require 'language/arabic-util) instead
	of (require 'arabic) for Arabic environment.

	* language/arabic-util.el: Provide `language/arabic-util' instead
	of `arabic'.

	* language/arabic.el: Rename `arabic-0', `arabic-1' and `arabic-2'
	to `arabic-digit', `arabic-1-column' and `arabic-2-column' to sync
	with Emacs/mule-19.34.94-zeta.

	* tl/char-table.el (char-position-to-string): Use `defsubst'.
	(char-table-1): New implementation.

	Use BOX DRAWINGS characters of JIS X0208.

1997-06-28  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* apel/richtext.el: Add autoload comments for `richtext-encode'
	and `richtext-decode'.

	* prim/format.el (format-alist): Add `text/richtext'.

	* modes/image-mode.el (image-decode): Display description for some
	commands when XEmacs cannot decodes current buffer as inline
	image.

	* tl/chartblxmas.el: New file.

	* tl/char-table.el (view-charset): Use `view-buffer'.

	* x11/x-menubar.el (default-menubar): Add "Show character table"
	for MULE menu.

	* apel/emu.el: Check richtext.el is bundled.

	* tl/char-table.el: Use `charset-doc-string' directly.

	* tl/char-table.el (view-charset): New command.

	* tl/char-table.el: `show-char-table' -> `insert-charset-table'.

	* tl/char-table.el: `show-96x96-table' ->
	`insert-96x96-charset-table'.

	* tl/char-table.el: `show-94x94-table' ->
	`insert-94x94-charset-table'.

	* tl/char-table.el: `show-96-table' -> `insert-96-charset-table'.

	* tl/char-table.el: `show-94-table' -> `insert-94-charset-table'.

	* tl/char-table.el: Use `insert'.

	* packages/hexl.el (hexl-mode-exit): Run `hexl-mode-exit-hook'.

	* x11/x-menubar.el (default-menubar): Fix "Describe language
	support" and "Set language environment" of mule menu.

	* apel/file-detect.el: Add autoload comments for function
	`add-path', `add-latest-path', `get-latest-path',
	`file-installed-p', `exec-installed-p', `module-installed-p' and
	variable `exec-suffix-list'.

	* prim/format.el (format-alist): Add image/jpeg, image/gif,
	image/png and image/x-xpm.

	* modes/image-mode.el: New file.

1997-06-27  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* tm/tm-ew-e.el (tm-eword::encode-string-1): avoid infinite loop
	caused by long non-encoded-word element. (cf. [tm-en:1356])

	(mime/field-encoding-method-alist): Add "Message-ID" as ignored.

1997-06-25  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el(default-menubar): Comment out changes to the
	Mule menu because they bombed after recompilation.

	* packages/hyper-apropos.el
	(hyper-apropos-toggle-programming-flag): Use `with-current-buffer'
	instead of `eval-in-buffer'.

	* term/sun-mouse.el: Remove bogus redefinition of
	`eval-in-buffer'.
	(sun-mouse-handler): Use with-current-buffer instead of
	`eval-in-buffer'.

	* prim/make-docfile.el: Use princ not print.
	Suggested by Hrvoje Niksic.

	* packages/info.el (Info-select-node): Desensitive case search for
	Note:.
	(Info-next-reference): Ditto.
	* prim/simple.el (kill-region): Adjust endpoints of extent to
	test and deal with case of the end being less than the beginning.
	* prim/cmdloop.el (teach-extended-commands-timeout): Bump value to 4.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/subr.el (eval-in-buffer): Make obsolete.
	Suggested by Hrvoje Niksic.

	* packages/hyper-apropos.el (hyper-apropos-faces): Change group to
	'faces.
	Suggested by Per Abrahamsen.

1997-06-23  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/cmdloop.el (execute-extended-command): Print message after
	the command finishes, and restore old echo-area contents.

	- Get keybinding before command is executed.
	Suggested by Kyle Jones and Steve Baur.

1997-06-24  Steven L Baur  <steve@altair.xemacs.org>

	* packages/gnuserv.el: Make old symbols Obsolete.
	From Hrvoje Niksic  <hniksic@srce.hr>

	* prim/cmdloop.el (keyboard-quit): Don't kill zmacs-region in
	minibuffer.
	* prim/minibuf.el (minibuffer-keyboard-quit): Ditto.
	From Hrvoje Niksic  <hniksic@srce.hr>

	* prim/help.el (help-mode-quit): Bury buffer when quitting.
	From Hrvoje Niksic  <hniksic@srce.hr>

1997-06-24  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/cmdloop.el: Customize `teach-extended-commands-p' and
 	`teach-extended-commands-timeout'.

1997-06-23  Steven L Baur  <steve@altair.xemacs.org>

	* version.el (emacs-version): Synch with InfoDock 4.0.
	(emacs-version): Ditto.

Mon Jun 23 12:33:52 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* about.el (about-show-linked-info): Use empty strings for
	`widget-link-prefix' and `widget-link-suffix'.

1997-06-22  Gary D. Foster  <Gary.Foster@corp.Sun.COM>

	* x11/x-menubar.el: Added `bookmark-menu-filter', changed
	  bookmark submenu from a popup to a cascading submenu.
	* packages/bookmark.el: Added an autoload cookie for
	  `bookmark-all-names' (by Steve Baur)

1997-06-23  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/info.el (Info-next-reference): Fix up for M-TAB to work
	correctly.

	* utils/live-icon.el (live-icon-one-frame): Don't set glyphs to
	balloon-help frames.

	* packages/balloon-help.el (balloon-help-make-help-frame): Set the
	`balloon-help' property to the newly created frame.

	* prim/profile.el (profile): New macro.

	* prim/files.el (auto-mode-alist): Add winmgr-mode.

	* modes/winmgr-mode.el: Customize.

1997-06-23  Steven L Baur  <steve@altair.xemacs.org>

	* utils/autoload.el (generate-file-autoloads-1): Remove warning
	about 900 character lines.

	* x11/x-toolbar.el (toolbar-mail-commands-alist): Correction for
	calling Netscape mail.
	From Hrvoje Niksic <hniksic@srce.hr>

1997-06-22  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Make `Jump to bookmark' menu
	dynamic.
	From Gary D. Foster <Gary.Foster@Corp.Sun.COM>

	* prim/dumped-lisp.el (dumped-lisp-packages): Sparcworks dumps
	comint and ring.

1997-06-24  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/arabic.el: moved from mule/arabic-hooks.el.

	* mh-e/mh-e.el (mh-get-new-mail): Decode output as
	`mh-folder-coding-system'.

1997-06-24  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* language/ethio-util.el: imported from Emacs/mule-19.34.94-zeta.

	* language/arabic-util.el: moved from mule/arabic.el; repair
	Arabic characters.

1997-06-24  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* x11/x-menubar.el: Fix "Describe language support" and "Set
	language environment" of Mule menu.

	* language/visual-mode.el: moved from mule/.

	* language/ethiopic.el: Modify for XEmacs.

	* language/cyrillic.el: Modify DOC-string of koi8-r; Fixed problem
	of setting for `language-info-alist' about koi8-r.

	* mule/auto-autoloads.el: Enable auto-autoloads.el for mule/.

	* mule/mule-util.el: New file (imported from
	Emacs/mule-19.34.94-zeta).

	* mule/mule-misc.el: Function `truncate-string-to-width' was moved
	to mule-util.el.

	* prim/dumped-lisp.el, mule/mule-load.el: mule/arabic-hooks.el was
	moved to language/arabic.el; mule/arabic.el was moved to
	language/arabic-util.el; Use language/ethiopic.el instead of
	mule/ethiopic-hooks.el; Use language/ethio-util.el instead of
	mule/ethiopic.el.

	* mule/mule-coding.el (coding-system-docstring): New alias (to
	emulate Emacs/mule-19.34.94-zeta function).

	* mule/mule-cmds.el: modified to sync with
	Emacs/mule-19.34.94-zeta (mule-prefix was changed to "C-x C-m")

	(set-language-info): Add to "Describe Language Support" and "Set
	Language Environment" menu.

	* mule/mule-charset.el: Function `compose-region' and
	`decompose-region' were moved to mule-util.el.

	* leim/quail.el: modify to sync with latest quail.el of Emacs/mule
	in ETL.

	(quail-toggle-mode-temporarily): check `quail-conv-overlay'.

	(quail-map-p): Use `characterp' instead of `integerp'.

1997-06-21  Steven L Baur  <steve@altair.xemacs.org>

	* prim/tabify.el (untabify): Return nil.
	From contributor name lost.

	* prim/packages.el (packages-hardcoded-lisp): startup.elc needs to
	be scanned for docstrings.

1997-06-21  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/bookmark.el (bookmark-menu-popup-paned-menu): Change
	title to name.
	* prim/overlay.el (overlay-put): Support `local-map'.
	(overlay-get): Support `category'.

1997-06-21  Steven L Baur  <steve@altair.xemacs.org>

	* prim/startup.el (load-user-init-file): Load custom-file if it
	has not changed from the default.

1997-06-21  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/overlay.el (make-overlay): Avoid temporary variable.
	(move-overlay): Ditto.
	(overlays-in): Use `mapcar-extents'.
	(next-overlay-change): Avoid consing; use `map-extents'.
	(previous-overlay-change): Ditto.
	(overlay-lists): Ditto.
	(overlay-lists): Call `overlay-recenter' with correct value.

1997-06-20  Steven L Baur  <steve@altair.xemacs.org>

	* utils/autoload.el (fixup-autoload-buffer): New function.  Insert
	guards so a (load "auto-autoloads") works the same as require.
	(batch-update-directory): Use it.

	* prim/update-elc.el: Allow for specification of packages that
	must not be bytecompiled.  Better error diagnostics if a package
	is not found.

	* prim/window.el, prim/window-xemacs.el, prim/simple.el:
	* prim/lisp.el, prim/frame.el:
	Customizations/synch to Emacs 20.1.
	* packages/hyper-apropos.el: Massive update.
	From Hrvoje Niksic <hniksic@srce.hr>

	* tm/tm-vm.el (vm-menu-mail-menu): Fix typo.

	* packages/font-lock.el (lisp-font-lock-keywords-2): Add some new
	functions.
	From Karl M. Hegbloom <karlheg@inetarena.com>

	* prim/files.el (save-some-buffers-query-display-buffer): New
	user variable.
	(save-some-buffers): Use it.
	From David Bakhash <cadet@MIT.EDU>
	- Customization patches from Hrvoje Niksic.

	* prim/simple.el (kill-region): Undo sorting region limits patch.

1997-06-20  Mike Scheidler  <c23mts@eng.delcoelect.com>

	* prim/tabify.el: Fixed 'untabify' to return 'nil value.

1997-06-18  Steven L Baur  <steve@altair.xemacs.org>

	* efs/dired-xemacs.el (dired-do-interactive-chmod): Advance point
	after not failure.
	From <rritchie@britannia-life.co.uk>

	* utils/edmacro.el (edmacro-parse-word): make (kbd "M-123"), (kbd
	"M--256") and such behave as documented.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/cus-start.el: Various additions to built-in variable list.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/subr.el: Remove mapvector.
	(with-output-to-string): Use with-current-buffer.
	(with-string-as-buffer-contents): Ditto.
	From Hrvoje Niksic <hniksic@srce.hr>

	* modes/arc-mode.el (archive-quit): New function.
	From Karl M. Hegbloom <karlheg@inetarena.com>
	(archive-mode-map): Bind it to `q'.

	* utils/autoload.el (cusload-file-name): Default to custom-load.el
	for each individual file.

	* prim/minibuf.el (minibuffer-max-depth-exceeded): Use
	`custom-file' as a location for saving enable multiple minibuffers
	option.

	* packages/man.el (manual-entry): Don't leave empty buffer if
	error occurs.
	From Glynn Clements <glynn@sensei.co.uk>

	* modes/arc-mode.el (archive-arc-summarize): De-ebolify.
	(archive-lzh-summarize): Ditto.
	(archive-zip-summarize): Ditto.
	(archive-zip-chmod-entry): Ditto.

1997-06-17  Steven L Baur  <steve@altair.xemacs.org>

	* prim/update-elc.el: Total rework for dynamic dumped .elc finding.

1997-06-18  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/loaddefs.el (debug-ignored-errors): Initialize it.

1997-06-17  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (auto-mode-alist): Add /app-defaults/ as candidate
	for xrdb-mode.
	Suggested by Karl Hegbloom, Regexp by David Moore.

	* version.el: Remove variables emacs-version, emacs-major-version,
	and emacs-minor-version.

	* tooltalk/tooltalk-load.el: Comment as obsolete and move contents
	to dumped-lisp.el.

	* prim/make-docfile.el: New file.

1997-06-16  Steven L Baur  <steve@altair.xemacs.org>

	* prim/startup.el (load-user-init-file): Look for ~[user]/.xemacs
	before loading .emacs.

	* modes/xrdb-mode.el (xrdb-mode): Autoload.

	* prim/files.el (auto-mode-alist): Add defaults for xrdb-mode.

	* leim/quail.el (quail-toggle-mode-temporarily): Guard against
	possibility of quail-conv-overlay not being an overlay.

1997-06-15  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: Remove most but not all of the hardcoded dumped
	lisp file names.

	* prim/dumped-lisp.el: New file.

	* prim/update-elc.el (toplevel): Rework using a better function to
	determine autoload file locations.

	* prim/packages.el: New file.

	* prim/update-elc.el: Determine location and count of
 	auto-autoloads files at run-time.

	* prim/loaddefs.el (((dir load-path))): Generalize load of
	auto-autoloads.

	* utils/autoload.el (autoload-file-name): New variable.
	(autoload-target-directory): New variable.
	(generated-autoload-file): Use them.
	(cusload-file-name): New variable.
	(generated-custom-file): Use it.
	(batch-update-directory): New function.

1997-06-14  Steven L Baur  <steve@altair.xemacs.org>

	* mule/canna.el: Guard call to function dynamic-link, which
	doesn't exist in XEmacs/Mule.

	* bytecomp/bytecomp.el (byte-compile-file): Suppress unavoidable
	Ebola notices.

1997-06-13  Steven L Baur  <steve@altair.xemacs.org>

	* bytecomp/bytecomp.el (batch-byte-compile): Suppress unavoidable
	Ebola notices.
	(batch-byte-recompile-directory): Ditto.

	* utils/lib-complete.el (read-library): Look for .el.gz if not
	using Mule.
	(get-library-path): Ditto.
	Suggested by Jonathan Doughty <jwd@mitre.org>

	* packages/add-log.el: Restore backwards compatible date behavior
	as an option.
	Eliminate XEmacs specific autoloads.
	From Hrvoje Niksic <hniksic@srce.hr>

	* efs/dired.el (dired-save-excursion): Ebola cleanup.

	* packages/hyper-apropos.el: Massive cleanup, Customize.
	From Hrvoje Niksic <hniksic@srce.hr>

Fri Jun 13 13:20:39 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/syntax.el (symbol-near-point):
	  Check for bobp and avoid (char-syntax (char-before)) if
	  there.

1997-06-13  Steven L Baur  <steve@altair.xemacs.org>

	* prim/rect.el (operate-on-rectangle): Correct boundary error.
	From Bob Weiner <weiner@altrasoft.com>

1997-06-12  Steven L Baur  <steve@altair.xemacs.org>

	* packages/ispell.el (ispell-command-loop): De-Ebolify.

	* x11/x-iso8859-1.el: Added Grave keysym.
	From Heiko Muenkel <muenkel@tnt.uni-hannover.de>

	* modes/make-mode.el (makefile-browse): Shouldn't be interactive.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/files.el (interpreter-mode-alist): ksh-mode is obsoleted by
	sh-script.
	From Hrvoje Niksic <hniksic@srce.hr>

1997-06-11  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/subr.el (with-current-buffer): New macro.
	(with-temp-file): Ditto.

	* bytecomp/byte-optimize.el (byte-optimize-form-code-walker): Test
	for `save-current-buffer'.

	* bytecomp/bytecomp.el: Recognize `save-current-buffer'.

	* edebug/edebug.el: Register with-current-buffer and others.

	* modes/lisp-mode.el: Added specs for save-current-buffer,
 	with-output-to-string, with-current-buffer, with-temp-file and
 	with-output-to-temp-buffer.

1997-06-13  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* gnus/smiley.el (smiley-deformed-regexp-alist): Modify regexp for
	horizontal smiley faces.
	(smiley-nosey-regexp-alist): Add horizontal smiley faces.

1997-06-13  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* leim/quail.el (quail-get-translation): Don't use
	`string-to-vector' for XEmacs.

1997-06-11  Steven L Baur  <steve@altair.xemacs.org>

	* prim/help.el (function-called-at-point): Use char-(after|before)
	instead of (following|preceding)-char.
	(variable-at-point): Ditto.

	* prim/simple.el (delete-indentation): Use char-(after|before)
	instead of (following|preceding)-char.
	(just-one-space): Ditto.
	(backward-delete-char-untabify): Ditto.
	(do-auto-fill): Ditto.

	* prim/paragraphs.el (end-of-paragraph-text): Use char-before
	instead of preceding-char.

	* prim/misc.el (copy-from-above-command): Use char-(after|before)
	instead of (following|preceding)-char.

	* prim/obsolete.el (preceding-char): Correct a typo.

	* prim/minibuf.el (minibuffer-electric-slash): Use char-(after|before)
	instead of (following|preceding)-char.
	(minibuffer-electric-tilde): Ditto.

	* prim/lisp.el (insert-parentheses): Use char-(after|before)
	instead of (following|preceding)-char.

	* prim/indent.el (tab-to-tab-stop): Use char-(after|before)
	instead of (following|preceding)-char.
	(move-to-tab-stop): Ditto.

	* prim/fill.el (fill-end-of-sentence-p): Use
	char-after/char-before instead of following-char/preceding-char.
	(canonically-space-region): Ditto.
	(fill-region-as-paragraph): Ditto.
	(fill-region): Change (= char char) to (eq char char).

	* prim/debug.el (debugger-frame-number): Use char-after not
	following-char.
	(debugger-frame): Ditto.
	(debugger-frame-clear): Ditto.

	* prim/case-table.el (invert-case): Use char-after not
	following-char.
	Clean up comments.

	* prim/syntax.el (symbol-near-point): Use char-before not
	preceding-char.

	* prim/window.el (window-list): Update DOCstring.
	From Noah Friedman <friedman@splode.com>

	* utils/uniquify.el (toplevel): Make version test match XEmacs v20.

	* tm/tm-ew-e.el: Clean up Ebola infection.

	* x11/x-compose.el: Various corrections
	From Heiko Muenkel <muenkel@tnt.uni-hannover.de>

1997-06-10  Gary D. Foster  <Gary.Foster@corp.sun.com>

	* modes/view-less.el: Changed \177 bindings to 'delete
	* modes/help.el: Changed \177 bindings to 'delete

1997-06-10  Gary D. Foster  <Gary.Foster@corp.sun.com>

	* prim/keydefs.el: Changed all 'delete key bindings to point to
	  the `backward-or-forward-foo' functions.
	* prim/simple.el:
	- Renamed `delete-erases-forward' to `delete-key-deletes-forward'.
	- Removed `backspace-or-delete-hook'
	- Renamed `backspace-or-delete' to `backward-or-forward-delete-char'
	- Added functions: `backward-or-forward-kill-word'
	 `backward-or-forward-kill-sentence'
	 `backward-or-forward-kill-sexp'
	- Removed the zmacs hacks from all the `b-or-f-foo' functions and
	  began playing nicely with pending-del.
	* modes/cc-mode.el:
	* modes/cperl-mode.el: Fixed references to delete functions
	  to use the new names.

1997-06-11  Karl M Hegbloom  <karlheg@inetarena.com>

	* ilisp/ilisp-def.el (toplevel):  Changed `ilisp-prefix' from
	"C-z" to "C-c" because of conflict with global key binding for
	`iconify-frame'.

1997-06-11  Steven L Baur  <steve@altair.xemacs.org>

	* prim/window.el (window-list): New function.
	Suggested by Noah Friedman <friedman@splode.com>
	Modified by Hrvoje Niksic <hniksic@srce.hr>

	* utils/mail-extr.el (mail-extract-address-components): Replace
	preceding-char with char-before.

	* utils/passwd.el (read-passwd-map): Clean up Ebola BS.

1997-06-10  Steven L Baur  <steve@altair.xemacs.org>

	* packages/supercite.el (sc-attribs-extract-namestring): Clean up
	Ebola -- replace literal 32 with `?\ '.

	* utils/mail-extr.el (mail-extr-voodoo): Clean up Ebola -- replace
	`following-char' with `char-after'.

1997-06-10  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/subr.el (split-string): Make PATTERN optional.

1997-06-11  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/language/misc-lang.el, mule/mule-load.el,
	mule/ipa-hooks.el: Use lisp/mule/language/misc-lang.el instead of
	lisp/mule/ipa-hooks.el; mule/ipa-hooks.el was deleted.

1997-06-10  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/language/thai-util.el, mule/thai.el: Use
	lisp/mule/language/thai-util.el instead of lisp/mule/thai.el;
	lisp/mule/thai.el was deleted.

	* custom/wid-edit.el: Add widget `coding-system' for mule.

	* mule/thai-hooks.el, mule/mule-load.el: Use
	lisp/mule/language/thai.el instead of lisp/mule/thai-hooks.el;
	lisp/mule/thai-hooks.el was deleted.

	* mule/language/thai.el: modified for XEmacs.

1997-06-09  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/language/misc-lang.el, mule/language/thai-util.el,
	mule/language/thai.el, mule/language/tibetan.el,
	mule/language/vietnamese.el, mule/language/japan-util.el,
	mule/language/japanese.el, mule/language/korean.el,
	mule/language/lao-util.el, mule/language/lao.el,
	mule/language/english.el, mule/language/ethiopic.el,
	mule/language/european.el, mule/language/greek.el,
	mule/language/hebrew.el, mule/language/indian.el,
	mule/language/chinese.el, mule/language/cyrillic.el,
	mule/language/devanagari.el, mule/language/china-util.el: imported
	from Emacs/mule-19.34.94-zeta.

	* mule/mule-load.el, mule/chinese-hooks.el, mule/chinese.el,
	mule/cyrillic-hooks.el, mule/european-hooks.el,
	mule/greek-hooks.el, mule/japanese-hooks.el, mule/korean-hooks.el:
	chinese-hooks.el, chinese.el, cyrillic-hooks.el,
	european-hooks.el, greek-hooks.el, japanese-hooks.el and
	korean-hooks.el were deleted.

1997-06-08  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* apel/emu-x20.el (mime-charset-coding-system-alist): iso-8859-1,
	hz-gb-2312, cn-gb-2312, gb2312, cn-big5 and koi8-r were defined as
	coding-system.

1997-06-09  Steven L Baur  <steve@altair.xemacs.org>

	* prim/keydefs.el, modes/cc-mode.el, modes/cperl-mode.el,
	vm/vm-vars.el:
	Change usage of \177 to use keysym 'delete.
	From  Gary D. Foster <Gary.Foster@Corp.Sun.COM>

	* packages/etags.el (tags-loop-scan): Don't pass a straight string
	to error as a format string.
	Reported by Miles Duke <mduke@erdas.com>

	* its/its-kata.el ((require 'egg)): Needed for bytecompilation.

	* its/its-hira.el ((require 'egg)): Needed for bytecompilation.

	* bytecomp/bytecomp.el (byte-compile-two-args-19->20): Correct an
	ebolifaction.
	From Kyle Jones <kyle_jones@wonderworks.com>

1997-06-08  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (auto-mode-alist): Restore  bash regexps.
	From "Barry A. Warsaw" <bwarsaw@CNRI.Reston.VA.US>

1997-06-05  Steven L Baur  <steve@altair.xemacs.org>

	* packages/jka-compr.el (jka-compr-write-region): Use 'binary
	coding-system for compression.
	Suggested by Katsumi Yamaoka <yamaoka@ga.sony.co.jp>

1997-06-04  Gary D. Foster  <Gary.Foster@corp.sun.com>

	* modes/cc-mode.el: Modified `c-electric-delete' to honor the
	  desired delete direction in both normal and "hungry" modes.
	* modes/cperl-mode.el: Modified `cperl-electric-backspace' to
	  honor the desired delete direction.

1997-06-03  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* x11/x-menubar.el (default-menubar): Add menu for Mule.

	* mule/mule-cmds.el: Menu for XEmacs were moved to
 	x11/x-menubar.el.

1997-06-03  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* leim/quail.el: to avoid compiling warnings about overlay.el.

1997-05-16  Gary D. Foster  <Gary.Foster@corp.sun.com>

	* prim/simple.el: Created `backspace-or-delete' function and
	  `backspace-or-delete-hook'
	* prim/keydefs.el: Changed \177 bindings to point to new
	  delete function.
	* modes/*.el: Removed conflicting \177 bindings.
	* modes/cc-mode.el: Modified `c-electric-delete' to use new
	  delete bindings.
	* modes/cperl-mode.el: Modified `cperl-electric-backspace' to
	  use new delete bindings.

1997-06-03  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* leim/quail.el: to sync with quail.el of Emacs-19.34.94-epsilon.

	* leim/quail/ziranma.el, leim/quail/tonepy.el, leim/quail/py.el,
 	leim/quail/qj.el, leim/quail/sw.el, leim/quail/ccdospy.el,
 	leim/quail/punct.el, leim/quail/4corner.el,
 	leim/quail/symbol-ksc.el, leim/quail/ethiopic.el,
 	leim/quail/hanja.el, leim/quail/quick-cns.el,
 	leim/quail/tsangchi-cns.el, leim/quail/lrt.el,
 	leim/quail/tsangchi-b5.el, leim/quail/devanagari.el,
 	leim/quail/japanese.el, leim/quail/quick-b5.el,
 	leim/quail/punct-b5.el, leim/quail/qj-b5.el, leim/quail/py-b5.el,
 	leim/quail/ctlau.el, leim/quail/ctlaub.el, leim/quail/ecdict.el,
 	leim/quail/array30.el, leim/quail/hangul3.el,
 	leim/quail/hanja-jis.el, leim/quail/cyrillic.el,
 	leim/quail/etzy.el, leim/quail/greek.el, leim/quail/ipa.el,
 	leim/quail/lao.el, leim/quail/zozy.el, leim/quail/viqr.el,
 	leim/quail/latin.el, leim/quail/thai.el, leim/quail/hangul.el:
 	quail of LEIM for Emacs-19.34.94-epsilon.

1997-06-04  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el: Installed new version 2.1.
	From Hrvoje Niksic <hniksic@srce.hr>

	* prim/profile.el (pretty-print-profiling-info): Autoload don't
	dump.
	Clean up comments.

	* prim/update-elc.el: Comment cleanup.

	* modes/cperl-mode.el (cperl-mode-map): Restore previous
	definition.
	(cperl-electric-backspace): Use backspace-or-delete if it exists.

	* bytecomp/bytecomp-runtime.el (eval-when-feature): New macro.
	From Roland McGrath <roland@frob.com>

	* prim/glyphs.el (init-glyphs): Add xbm instantiator for 'x
	consoles.
	Suggested by Hrvoje Niksic <hniksic@srce.hr>.

	* utils/passwd.el: Eliminate obsolete Lucid emacs usage.

	* utils/timezone.el (timezone-make-date-arpa-standard): Correct
	docstring.
	(timezone-make-date-sortable): Ditto.

	* utils/passwd.el (passwd-invert-frame-when-keyboard-grabbed):
	Change default for InfoDock.

	* utils/highlight-headers.el
	(highlight-headers-follow-url-function): Correct docstring.

	* utils/finder.el (finder-known-keywords): Cleanup keyword
	documentation.

	* prim/startup.el (command-line-do-help): Use emacs-name function
	for printing the editor name.

	* prim/simple.el: Disable for InfoDock.
	(display-warning): Disable for InfoDock.
	(emacs-name): New function.

	* prim/toolbar.el (press-toolbar-button): Allow mouse presses on
	blank portions of the toolbar to do something.
	(release-and-activate-toolbar-button): Handle arbitrary functions
	as toolbar callbacks.
	From weiner@altrasoft.com

	* prim/mouse.el (default-mouse-track-cleanup-extent): Correct test
	on dead-func extent.

	* prim/help.el (view-emacs-news): outl-mouse turned off in
	InfoDock.

	* packages/tar-mode.el (tar-mode-map): InfoDock doesn't like the
	mouse bindings.

	* packages/makesum.el (make-command-summary): Output correct
	program name.
	(double-column): Remove unused variable.

	* packages/hyper-apropos.el (hypropos-popup-menu): Synch with
	infodock.  Initialize command-p to either t or nil.

	* eterm/term.el (make-term): Fix docstring.

	* comint/shell.el: Correct comment.

	* comint/comint.el (comint-mode-map): Infodock doesn't like the
	button3 assignment.

1997-06-03  Steven L Baur  <steve@altair.xemacs.org>

	* modes/lisp-mode.el (eval-interactive): Treat defcustom like
	defvar (turn into an effective defconst).

	* cl/cl-macs.el (widget-get): Add defsetf method.
	(widget-value): Add defsetf method.
	From Hrvoje Niksic <hniksic@srce.hr>

1997-06-02  Steven L Baur  <steve@altair.xemacs.org>

	* prim/obsolete.el (insert-and-inherit): Make 'compatible not
	'obsolete.
	Suggested by Hrvoje Niksic <hniksic@srce.hr>
	(insert-before-markers-and-inherit): Ditto.

1997-06-02  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/korean.el was abolished because it seems not to be used.

	* mule/japanese.el was abolished because it seems not to be used.

1997-06-01  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* tm/gnus-mime-old.el was abolished because XEmacs 20.3 has Gnus
 	5.4.

	* tm/tm-edit.el: updated to 7.108.

	* tm/tm-view.el: updated to 7.83.

	* leim/quail.el: modified for XEmacs.

	* mule/mule-load.el, lisp/mule/mule-process.el: delete
	mule-process.el because it is not used.

	* mule/european.el was abolished because it seems not to be used.

	* mule/mule-load.el: must load mule-cmds before setting for
 	language-environment.

	* mule/mule-cmds.el, lisp/mule/european-hooks.el: Modified
	for LEIM.

	* mule/mule-cmds.el: Uncomment key definition for
 	`toggle-input-method'.

	* mule/mule-init.el: Comment out about `mule-keymap' (moved to
 	mule-cmds.el).

	* mule/mule-cmds.el: Uncomment about `mule-keymap' (moved from
 	mule-init.el).

	* tl/tl-atype.el: Don't require tl-str.

	* tl/tl-atype.el: Use atype.el of APEL.

	* tl/tl-list.el: Use alist.el of APEL.

1997-05-31  MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* tl/richtext.el, tl/emu-x20.el, tl/emu-xemacs.el,
	lisp/tl/emu.el, lisp/tl/emu-e19.el: moved to lisp/apel/.

	* tl/file-detect.el, tl/filename.el: replaced by APEL's.

	* mu/std11-parse.el, mu/std11.el: moved to lisp/apel/.

	* leim/quail.el: Add new quail.el (imported from Emacs
 	19.34.94-epsilon).

	* leim/skk/skkdic.el: delete skkdic.el temporary because XEmacs
 	can not compile it.

	* leim/skk/skkdic.el, leim/quail/zozy.el, leim/quail/ziranma.el,
 	leim/quail/viqr.el, leim/quail/tsangchi-cns.el,
 	leim/quail/tsangchi-b5.el, leim/quail/symbol-ksc.el,
 	leim/quail/thai.el, leim/quail/tonepy.el, leim/quail/quick-cns.el,
 	leim/quail/sw.el, leim/quail/qj-b5.el, leim/quail/qj.el,
 	leim/quail/quick-b5.el, leim/quail/py-b5.el, leim/quail/py.el,
 	leim/quail/lao.el, leim/quail/latin.el, leim/quail/lrt.el,
 	leim/quail/punct-b5.el, leim/quail/punct.el,
 	leim/quail/hanja-jis.el, leim/quail/hanja.el, leim/quail/ipa.el,
 	leim/quail/japanese.el, leim/quail/hangul3.el, leim/quail/etzy.el,
 	leim/quail/greek.el, leim/quail/hangul.el, leim/quail/ethiopic.el,
 	leim/quail/devanagari.el, leim/quail/ecdict.el,
 	leim/quail/ctlau.el, leim/quail/ctlaub.el, leim/quail/cyrillic.el,
 	leim/quail/array30.el, leim/quail/ccdospy.el,
 	leim/quail/4corner.el: Add LEIM elisp files.

	* mule/mule-load.el, mule/mule-cmds.el: Add mule-cmds.el.

	* prim/simple.el (assoc-ignore-case): New function; imported
	from Emacs/mule-19.34.94-epsilon.

1997-06-02  Steven L Baur  <steve@altair.xemacs.org>

	* modes/hideshow.el: Make it work again.
	From Pete Ware <ware@cis.ohio-state.edu>

Sat May 31 09:00:14 1997  David Moore  <dmoore@ucsd.edu>

	* utils/text-props.el (set-text-properties): Was exiting
	map-extents too early.

1997-06-02  Steven L Baur  <steve@altair.xemacs.org>

	* cl/cl-macs.el (frame-parameters): Tweaking frame configuration
	defsetf's.
	From Hrvoje Niksic <hniksic@srce.hr>

	* modes/vhdl-mode.el (vhdl-emacs-features): Allow recognition of
	major version 20.

	* prim/simple.el (kill-region): Sort beginning and ending
	endpoints to simplify logic.
	From Hrvoje Niksic <hniksic@srce.hr>

Tue May 27 13:42:57 1997  Ken Manheimer  <klm@python.org>

	* packages/icomplete.el:
	* Updated my email address - klm@python.org instead of klm@nist.gov.

	* Icomplete no longer installs itself when you load the package -
 	  you have to invoke `icomplete-mode'.  (Since it's autoloaded in
	  both emacs, you can just invoke the function.)

	* Integrated Emacs 19.34 and XEmacs 19.15 corrections (typos,
 	  style, command revisions, etc).

	* Integrated immediate keybindings display.  See
	  `icomplete-show-key-bindings', `icomplete-get-keys', and
	  `icomplete-completions'.

	* `icomplete-get-keys': Return keys bound in prior buffer to func name.

	* Added icomplete delay behavior, so completions don't intrude as
 	  quickly for short input, with customization variables:

	  `icomplete-max-delay-chars' - Maximum number of initial chars to
	  apply icomplete compute delay.

	  `icomplete-compute-delay' - Completions-computation stall, used
	  only with large-number completions

	  `icomplete-delay-completions-threshold' Pending-completions
	  number over which to apply icomplete-compute-delay

	* Provided `icomplete-exhibit' on `icomplete-minibuffer-setup-hook'
	   so icomplete behaves well with XEmacs GNUS.

Fri May 30 18:39:01 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/glyphs.el (init-glyphs): Minor regexp cleanup.

1997-05-30  Steven L Baur  <steve@altair.xemacs.org>

	* prim/simple.el (fsf:do-auto-fill): Remove unused variable.
	(indent-for-comment): Use comment-indent-function instead of
	obsolete variant.  This is dumped with XEmacs!

	* packages/generic-sc.el (sc-next-operation): Remove unused
	variable.
	(sccs-insert-c-header): Ditto.
	(ccase-new-revision-p): Ditto.
	(sc-sensitize-menu): Ditto.

	* modes/auto-show.el (TopLevel): Tighten check on
	dump-time initialization.

1997-05-29  Steven L Baur  <steve@altair.xemacs.org>

	* prim/format.el (format-alist): Change defconst to defvar.
	From Richard Stallman  <rms@psilocin.gnu.ai.mit.edu>

	(format-encode-region): Reduce bytecompiler warnings for bound but
	unused variables.
	(format-deannotate-region): Ditto.
	(format-annotate-region): Ditto.
	(format-annotate-single-property-change) Ditto.

	* utils/lib-complete.el: Clean up documentation in header.

	* prim/glyphs.el: Eliminate bytecompiler warnings.
	(define-obsolete-pointer-glyph): Mark as 'compatible not 'obsolete.

	* prim/keydefs.el (ctl-x-map): Bind narrow-to-defun to `C-x n d'.

	* prim/lisp.el (narrow-to-defun): Narrow to the same defun that
	`mark-defun' would make the region.
	(insert-parentheses): Let a negative argument enclose preceding
	sexps.
	From Erik Naggum  <erik@naggum.no>

	* prim/window-xemacs.el: New file, split from window.el with
	XEmacs-specific stuff.

	* prim/window.el (display-buffer): Remove unused variable.

	* prim/keydefs.el (ctl-x-4-map): Add binding for
	`kill-buffer-and-window'.

	* prim/window.el (kill-buffer-and-window): New command.
	Bind it to C-x 4 0.
	From Richard Stallman  <rms@whiz-bang.gnu.ai.mit.edu>

	* prim/window.el (split-window-vertically): Don't change point in old
	window if both the original point and the end of the buffer are
	visible after splitting, when split-window-keep-point is nil.
	From Noah Friedman  <friedman@prep.ai.mit.edu>

	* prim/files.el (revert-buffer-internal-hook): Declare.

	* utils/map-ynp.el: Synch with Emacs 19.34.94.
	(map-y-or-n-p): Clean up bytecompiler warnings.

	* packages/generic-sc.el: Restored to distribution, comment
	cleanup.

	* prim/simple.el (message-log-max): Add compatible variable alias
	for `log-message-max-size'.

	* comint/background.el (background): Autoload.

	* prim/process.el (shell-command): background.el is now
	autoloaded.

	* prim/minibuf.el: Clean up file header.

	* packages/bookmark.el (bookmark-menu-popup-paned-menu): Naive
	port to XEmacs.
	(bookmark-bmenu-other-window-with-mouse): Naive port to XEmacs.

	* utils/autoload.el (generated-custom-file): custom-load.el
	renamed to cus-load.el.

	* prim/loadup.el: Don't preload custom-load.elc.

Thu May 29 19:03:52 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* x11/x-menubar.el (default-menubar): Updated customize entries.

1997-05-29  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs-xref): Update contributors list.

1997-05-28  Steven L Baur  <steve@altair.xemacs.org>

	* prim/minibuf.el (mouse-file-display-completion-list): Protect
	against bogus directory becoming default.
	(mouse-directory-display-completion-list): Ditto.

	From Per Abrahamsen <abraham@dina.kvl.dk>
	* bytecomp/bytecomp.el
	(byte-compile-file-form-custom-declare-variable): New function.
	(custom-declare-variable): Use it.

	* packages/vc.el (vc-directory): dirname typo'ed as dir.

	* packages/vc-hooks.el (vc-menu): Remove vc-file-status.
	(Toplevel): Remove key definition for vc-file-status.

1997-05-27  Steven L Baur  <steve@altair.xemacs.org>

	* prim/cus-start.el (Toplevel): Rename factory-value to
	standard-value for Custom-1.98.

1997-05-26  Steven L Baur  <steve@altair.xemacs.org>

	* prim/help.el (view-lossage-key-count): New variable.
	(view-lossage-message-count): New variable.
	(view-lossage): Use them.

	From Hrvoje Niksic
	* prim/help.el (view-lossage): Use new argument to `recent-keys'.

	* cl/cl-macs.el (recent-keys-ring-size): New setf method.

1997-05-26  Steven L Baur  <steve@altair.xemacs.org>

	* prim/process.el (shell-command-to-string): Alias exec-to-string
	to more logical name.

1997-05-23  Steven L Baur  <steve@altair.xemacs.org>

	* tm/tm-view.el (mime/content-decoding-condition): Add image/png
	mime type.

	* tm/tm-image.el (toplevel): Add image/png mime type.

	* tm/tm-edit.el (mime-file-types): Add png handling.
	(mime-content-types): Ditto.

Thu May 22 04:19:09 1997  Martin Buchholz  <mrb@eng.sun.com>

	* prim/files.el (auto-mode-alist): Reorg.  Support
	pre-processed fortran files.  *.m4 files now default to autoconf mode.

	* prim/about.el: Promote Hrvoje.  Picture still needed...

	* modes/ksh-mode.el:  _ has symbol syntax.
	* modes/m4-mode.el:  _ has symbol syntax.
	* modes/pascal.el:  _ has symbol syntax.
	* modes/f90.el:  _ has symbol syntax.
	* modes/cperl-mode.el:  _ has symbol syntax.
	* modes/autoconf-mode.el: _ has symbol syntax.

1997-05-22  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (save-buffer): From Hrvoje Niksic.  Don't clear
	zmacs region.

	* packages/func-menu.el: Update for David Hughes' new email
	address.

1997-05-21  Noah Friedman  <friedman@prep.ai.mit.edu>

	* eldoc.el (eldoc-message-commands): Move docstring into comments,
	since this isn't a user variable.
	(eldoc-message-commands-table-size, eldoc-use-idle-timer-p,
	eldoc-function-argstring-from-docstring-method-table): Use defvar,
	not defconst.
	(eldoc-last-data): Use cons explicitly; don't rely on dotted pair
	read syntax.  I'm worried the latter might get compiled as
	read-only data someday.
	(eldoc-docstring-message): If truncating symbol name, show ending
	of name rather than beginning.  The former is generally more unique.
	(eldoc-function-argstring-from-docstring-method-table): Handle
	pathological `save-restriction' case.
	[top level]: Add `indent-for-tab-command' to eldoc-message-commands.

1997-05-21  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): strokes added to mouse
	menu.

Wed May 21 17:12:28 1997  Per Bothner  <bothner@deneb.cygnus.com>

	* eterm/term.el (term-send-raw):  Better XEmacs character event
	handling.
	* eterm/term.el (term-char-mode): Re-do Meta-handling by temporarily
	setting meta-prefix-char to -1 while building keymaps.
	(term-send-raw-meta):  Removed.

Tue Mar 11 20:15:26 1997  Kurt Hornik <Kurt.Hornik@ci.tuwien.ac.at>

	* eterm/term.el (term-completion-addsuffix): Doc fix.
	(term-dynamic-complete-as-filename): Support the case where
	term-completion-addsuffix is a (DIRSUFFIX . FILESUFFIX) cons
	pair.

Tue Jun  4 10:15:54 1996  Per Bothner  <bothner@deneb.cygnus.com>

	* eterm/term.el:  Add kd, kl, kr, du capabilities.
	* eterm/e/eterm.ti:  Add kcub1, kcuf1, kcuu1, kcud1 capabilities.

Wed May 15 14:38:45 1996  Per Bothner  <bothner@deneb.cygnus.com>

	* eterm/term.el (term-send-raw-string):  send-string ->
	process-send-string.
	* eterm/term.el (term-arguments):  Remove unused local 'values'.
	* eterm/term.el (term-handle-deferred-scroll):  Fix off-by-one bug,

	* eterm/term.el:  Merge changes from FSF (mostly typos).

Mon Sep 25 17:19:51 1995  Per Bothner  <bothner@kalessin.cygnus.com>

	* eterm/term.el (term-emulate-terminal): On CR, set
 	term-current-column to term-start-line-column, not 0.

1997-05-21  Steven L Baur  <steve@altair.xemacs.org>

	* packages/add-log.el (change-log-font-lock-keywords): Tweak
	font-lock-keywords.

1997-05-21  Erik Naggum  <erik@naggum.no>

	* add-log.el (add-log-lisp-like-modes, add-log-c-like-modes,
	add-log-tex-like-modes): New variables.
	(add-log-current-defun): Use them instead of constant lists.

1997-05-21  Steven L Baur  <steve@altair.xemacs.org>

	* packages/add-log.el: Synch to Emacs 20.0.

	* prim/obsolete.el (read-minibuffer): Make compatible not obsolete.
	(read-input): Ditto.

Tue May 20 20:32:59 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/subr.el (buffer-substring-no-properties): Clean out extents
	too.

Mon May 19 19:48:35 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/process.el (shell-command-on-region): Remove region active
	test (which played havoc with the hack in call-interactively to
	place explicit calls to region-beginning and region-end in
	interactive specs in the command history).

Mon May 19 18:13:50 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/easymenu.el (easy-menu-add): Check for existing, before
	entering MENU to `easy-menu-all-popups'.

Sun May 18 09:11:50 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (revert-buffer): Add optional third parameter to
	preserve buffer modes (from Emacs 19.34.94).
	(after-find-file): Add optional fifth parameter to preserve buffer
	modes (from Emacs 19.34.94).

	* packages/vc.el: Synch with Emacs 19.34.94 because our version was
	hopeless.
	(vc-checkout): Autoload.
	(vc-find-binary): Ditto.

	* prim/files.el (find-buffer-visiting): Restore because FSF vc.el
	needs it.

Fri Apr 25 13:21:46 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* apropos.el (apropos): Add support for customization groups.
	(apropos-print): Ditto.

Sat May 17 19:56:31 1997  Glynn Clements <glynn@sensei.co.uk>

	* packages/man.el (manual-entry):  Strip out stderr output.

Sun May 11 18:24:25 1997  Kyle Jones  <kyle@crystal.WonderWorks.COM>

	* prim/modeline.el: new mouse-drag-modeline function.
	Allows bottommost modeline to be dragged.

Sat May 17 03:41:11 1997  Steven L Baur  <steve@altair.xemacs.org>

	* cl/cl-macs.el: A whole bunch of XEmacs specific setf methods
	from Hrvoje Niksic.

	* prim/files.el (auto-mode-alist): Don't copy to purespace.
	(interpreter-mode-alist): Ditto.

Fri May 16 21:43:35 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/info.el (Info-button1-follows-hyperlink): New variable.
	(Info-maybe-follow-clicked-node): Use it.

	* prim/simple.el (transpose-preceding-chars): New function.

Fri May 16 20:37:35 1997  Steven L Baur  <steve@altair.xemacs.org>

	* version.el: Update minor version number.

Mon May 12 13:47:37 1997  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* tm/tm-vm.el: Provide for vm-unsaved-message having been removed
	in recent versions of VM.

Fri May  9 10:41:44 1997  Steven L Baur  <steve@altair.xemacs.org>

	* iso/iso-acc.el (iso-accents-compose): Fix XEmacs 19.14
	compatibility (patch suggested by Hrvoje Niksic).

	* packages/man.el (manual-entry): (Patch from Soren Dayton) Allow
	subchapters not to be trimmed on Solaris.

	* prim/itimer.el (itimer-edit-mode): Correct use of obsolete
	function.

	* prim/startup.el: Update copyright notice.

Thu May  8 14:35:34 1997  Steven L Baur  <steve@altair.xemacs.org>

	* hm--html-menus/hm--html.el: Define obsolete aliases for the
	previous function spellings.

	* hm--html-menus/hm--html-keys.el: Define obsolete aliases for the
	previous variable spellings.

	* prim/obsolete.el (define-obsolete-variable-alias): Fix docstring
	spelling.
	(define-compatible-variable-alias): Ditto.

	* tm/tm-vm.el (vm-unsaved-message): Symbol doesn't exist any
	more.

Tue May  6 21:33:19 1997  Steven L Baur  <steve@altair.xemacs.org>

	* mule/mule-files.el (write-region): Correct docstring.

	* prim/files-nomule.el (write-region): Correct docstring.

Mon May  5 12:26:41 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs-xref): Infodock Associates is now
	Altrasoft.

Sat May  3 16:32:47 1997  Steven L Baur  <steve@altair.xemacs.org>

	* efs/dired.el (dired-chown-program): chown program is in /bin on
	Linux.

Fri May  2 20:04:35 1997  Steven L Baur  <steve@altair.xemacs.org>

	* egg/egg.el: paren.el needed at bytecompile time for
	`pos-visible-in-window-safe' defsubst.

	* pcl-cvs/pcl-cvs.el (cvs-update): Inhibit dialog box usage in
	call to cvs-do-update as this bombs when this function is invoked
	from a menu.

Wed Apr 30 18:06:35 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: Put features.elc in the dump list.

	* prim/about.el (about-xemacs): Change date.

Tue Apr 29 18:51:31 1997  Steven L Baur  <steve@altair.xemacs.org>

	* mule/mule-files.el (buffer-file-coding-system-alist): Regexp for
	handling info files didn't match the right pattern.

Sun Apr 27 18:09:48 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/sound.el (load-sound-file): Fix typo.

Sat Apr 26 16:25:49 1997  Steven L Baur  <steve@altair.xemacs.org>

	* utils/lib-complete.el: Make conformant to Lisp coding standards
	MULE-ize by allowing for coding system argument.

Fri Apr 25 08:39:50 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/sh-script.el (sh-indent-line): Deal with pathological case
	of indenting a first line containing a `#' as first non-white
	space character.

Thu Apr 24 18:40:32 1997  Steven L Baur  <steve@altair.xemacs.org>

	* comint/telnet.el (telnet-mode-map): Correct Emacs synch typo.

	* rmail/rmail.el (rmail-get-new-mail): display-time-string is not
	necessarily a string.

Thu Apr 24 11:08:28 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* packages/balloon-help.el:
	- default background color now grey80 to match XEmacs default.
	- default border width is now 1.
	- default font is now "variable"
	- balloon-help can now handle variable width fonts.
	- loading balooon-help no longer turns on balloon-help-mode.
	- new `balloon-help' command.
	- changes to the font/background/foreground variables now affect
	  the help frame at next display.
	- help frame should now pop up on the correct display if XEmacs
	  is running with multiple devices open.
	- Customized, courtesy of Hrvoje.
	- don't use the padding lines that were needed for 19.12.
	  Compatibility with older XEmacs versions is hereby disavowed.
	- xclock frame name hack is gone.

Wed Apr 23 10:56:05 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (hack-local-variables-prop-line): Mistakenly
	returned t when enable-local-variables was nil.

	* psgml/psgml-charent.el (sgml-display-char-list-filename): Move
	iso88591.map to a proper location.

	* prim/sound.el (load-sound-file): Make sure sound files are read
	as binary files.

Tue Apr 22 02:05:38 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/vc.el (vc-directory): Set text properties.

	* psgml/psgml-xemacs.el (sgml-xemacs-get-popup-value): Allow for
	interactive commands.

Mon Apr 21 15:15:12 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/minibuf.el (input-error): New error type.
	(read-from-minibuffer): Use it.

	* comint/comint.el (comint-exec-hook): Do not Customize due to
	interactions with setting language environment in MULE.

Sun Apr 20 09:36:19 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/info.el (Info-footnote-tag): Changing the footnote tag
	from the default "Note" is broken.

Tue Apr 22 07:01:20 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/keydefs.el (global-map): Bind it to `C-z'.

	* prim/frame.el (suspend-emacs-or-iconify-frame): New function.

Fri Apr 18 16:45:07 1997  Steven L Baur  <steve@altair.xemacs.org>

	* utils/skeleton.el (skeleton-pair-insert-maybe): Guard test with
	existence check on mark-active too.
	(skeleton-proxy): Ditto.
	(skeleton-proxy-new): Ditto.

Fri Apr 18 09:26:24 1997  Dave Gillespie <daveg@synaptics.com>

	* cl/cl-macs.el (values): New setf-method.

Thu Apr 17 21:29:57 1997  Bob Weiner <weiner@infodock.com>

	* packages/avoid.el (mouse-avoidance-kbd-command): Correct
	detection of keypress.

Thu Apr 17 21:20:04 1997  Michael McNamara  <mac@silicon-sorcery.com>

	* modes/verilog-mode.el: Changes to 2.25
	1) Autoindent a new declaration according to the previous
	   declaration, if any. Only use the previous one, don't try to re
	   line things up.
	2) Include "Customize Verilog-Mode" in the Verilog menu bar. Make it
	   safe to do so, even if the underlying emacs does not yet support
	   custom.
	3) Include keybinding C-c C-b for reporting bugs.
	4) Include keybinding C-c i for reindenting declarations.

	* modes/verilog-mode.el: Changes to 2.24
	Cleaned up menubar items; added submit bug report there, for
	example.

	* modes/verilog-mode.el: Changes to 2.23
	1) Support custom (XEmacs) or defvar method of customization.
	2) fix verilog-pretty declarations
	3) add support so folks turning up the complexity of commenting don't
	   get errors (they don't get any more complexity either)

	* modes/verilog-mode.el: Changes to 2.22
	1) Moved installation hints to the web page.
	2) Added support for XEmacs's custom variable setting package.
	3) Added variables to separatly control indentation of
		module level items (always, initial. etc)
		declarations
		behavorial (the begin in the task & function declaration
	4) Attempted to shorten comments and lisp so that the %@* NT
	   mailers won't turn long comments into extra code.
	5) Used make-regexp to optimize many regular expressions so that they
	   are no longer backtrack.
	6) fixed bugs
	 a) a newline on a blank line no longer generates two new lines.
	 b) a semicolon on a comment no longer auto indents
	 c) lines like ''else if (a) begin''
	    no longer confuse auto commenter
	 d) a number of other bugs which fail to come to mind...
	7) Added support for menu pulldowns on FSF and XEmacs
	8) Added support for XEmacs v20
	9) Changed verilog-comment-region to insert comments that Verilog-XL
	   doesn't b*tch about.
	10) Eliminated auto lineup of declarations upon typing newline of
	   semicolon. (Cheers all around) Now instead there is a command, and
	   also a menu pulldown, which lines up indentations around point.
	11) Added verilog-submit-bug-report

Mon Apr 14 13:06:10 1997  Steven L Baur  <steve@altair.xemacs.org>

	* utils/autoload.el (generate-file-autoloads-1): Turn off local
	variable processing.

	* prim/files.el (hack-local-variables-prop-line): Respect setting
	of enable-local-variables.

	* vm/vm-startup.el (vm-session-initialization): Remove for
	production version.

	* utils/smtpmail.el (smtpmail-send-it): Forgot quote.
	(smtpmail-deduce-address-list): case-fold-search mistakenly set
	before buffer change.

Sun Apr 13 14:49:34 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Added `send-pr' to Help
	menu.

	* modes/make-mode.el (makefile-font-lock-keywords): Correct old,
	restored :-( 19.14 makefile-space-face lossage.

Sat Apr 12 23:20:31 1997  David Moore  <dmoore@ucsd.edu>

	* packages/font-lock.el (c-font-lock-keywords-1): Performance
	tuned regexps.

Sat Apr 12 21:32:37 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs): Update printed release date.

	* calendar/appt.el (install-display-time-hook): Friends don't let
	Friends quote lambda functions.

Fri Apr 11 11:50:14 1997  Oscar Figueiredo  <Oscar.Figueiredo@di.epfl.ch>

	* tm/tm-vm.el: tm-vm/use-original-url-button:
	  - Default is now t (principle of least surprise).
	(tm-vm/build-preview-buffer):
	  - Bind vm-message-pointer in Preview-buffer.
	  - X-Face was not displayed for a certain set of enabling variables.
	Calls to (vm-xemacs-p) were removed.

Sat Apr 12 05:27:56 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/list-mode.el (list-mode-item-mouse-selected): Sometimes
	event-closest-point returns nil.

	* comint/telnet.el (telnet-check-software-type-initialize):
	Restore 19.14 initialization of telnet-prompt-pattern for Unix.
	(rsh): Allow a way to get back old password-less behavior.

	* edebug/edebug.el (edebug-read-and-maybe-wrap-form): Protect
	against pathological recursive calls.

	* prim/loadup.el: add cus-start as dumped package.

	* packages/vc.el (vc-directory): Dired requires a list not a
	string of space separated names.

	* utils/live-icon.el (live-icon-colour-name-from-face): `face' may
	be a list of faces since it is generated by `extent-face'.

Fri Apr 11 21:12:57 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/ispell.el: Don't attempt creation of the menubar unless
	XEmacs has been compiled with menubars.

	* prim/simple.el (yank-pop): mark-marker needs optional force
	parameter to activate the region (suggested by Jamie Zawinski).

Fri Apr 11 17:47:26 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* packages/apropos.el (apropos): Add support for faces, widgets,
	and user options.
	(apropos-print): Ditto.

Fri Apr 11 01:23:45 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el (running-xemacs): Declare.  This variable is the
	new canonical way of determining whether you're running under
	XEmacs.

Thu Apr 10 13:23:14 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/font-lock.el (font-lock-apply-highlight): Remove
	support for back to back font hack (and restore correct
	fontification of `int a, b, c;').  Patch from Anders Lindgren.

	* prim/about.el (about-xemacs-xref): Forgot to link David Moore's
	picture (oops).

Thu Apr 10 12:30:29 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* efs/dired-faces.el (dired): Move to environment group.

Wed Apr  9 19:45:46 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* x11/x-menubar.el (default-menubar): Inline definition of
	customize menu.

Wed Apr  9 10:45:54 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs-xref): Add Jan Vroonhof to list of
	contributors.
	(about-xemacs-xref): Add MORIOKA Tomohiko's bio.
	(about-xemacs-xref): Add Per Abrahamsen.

Tue Apr  8 12:57:05 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/lisp-mode.el (eval-defun): Evaluate defcustom in defconst
	style instead of defvar style (patch derived from Emacs 19.35/Lars
	Magne Ingebrigtsen).

Mon Apr  7 16:38:43 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/frame.el (temp-buffer-shrink-to-fit): Default to nil since
	this feature has gotten broken.

Sun Apr  6 06:56:03 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/outl-mouse.el (outline-down-arrow-mask): Set up arrow
	glyphs to display on when no X11 support is available.

	* modes/outline.el (outline-install-menubar): short circuit if no
	menubars are available.

	* x11/x-menubar.el (default-menubar): Use xmine not mine.

	* prim/help.el (describe-variable): Some doc strings weren't being
	terminated with a newline.

Sat Apr  5 20:20:00 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs-xref): Correct Jareth Hein's links.

Sat Apr  5 13:18:05 1997  Tomasz J. Cholewo  <t.cholewo@ieee.org>

	* packages/etags.el (tags-query-replace): Fixed DELIMITED argument
	bug.  `with-caps-disable-folding' moved to isearch-mode.el.

	* packages/info.el (Info-search): Use `with-caps-disable-folding'.

Sat Apr  5 09:32:43 1997  Steven L Baur  <steve@altair.xemacs.org>

	* utils/finder-inf.el: Regenerated.

	* utils/finder.el (finder-known-keywords): Add mule keyword.

Tue Apr  1 14:08:04 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/winnt.el: New file.  Derived from Emacs 19.34, adapted by
	Marc Paquette.

	* prim/faces.el (set-face-stipple): Allow usage of a pixmap
	(suggested by Per Abrahamsen).

	* mule/canna.el (running-xemacs): Move to the top.

	* prim/cmdloop.el (y-or-n-p-minibuf): Add protection in case user
	hits something that can't be bound to a key.

Tue Apr  1 11:25:33 1997  Martin Buchholz  <mrb@Eng.Sun.COM>

	* bytecomp/bytecomp.el (char-after): Correct coding of calling
	sequence.

Mon Mar 31 21:36:47 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/faces.el (set-face-stipple): New function.

Sat Mar 29 14:52:02 1997  Steven L Baur  <steve@altair.xemacs.org>

	* gnats/send-pr.el (send-pr:submit-pr): Pass send-pr:datadir in
	the environment to send-pr.
	(send-pr::insert-template): Ditto.
	(send-pr:default-site): Default submission address is at xemacs.org.

Fri Jul 19 12:01:51 1996  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* packages/info.el (Info-elisp-ref): Look first in lispref, then
	elisp.

	* packages/func-menu.el (fume-function-name-regexp-bibtex): `,'
	isn't allowed.

	* packages/etags.el (list-tags): Interactive argument should be an
	existing file name.

Wed Mar 26 22:33:40 1997  Steven L Baur  <steve@altair.xemacs.org>

	* Remove ns lisp directory.
	* Remove vms lisp directory.

Tue Mar 25 12:22:57 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (file-remote-p): Update doc string.

	* packages/terminal.el (te-stty-string): Fix definition for Linux.

Mon Mar 24 23:43:53 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (file-remote-p): Correct documentation and allow
	for `allow-remote-paths' to control loading of efs.

Sun Mar 23 16:58:08 1997  Tomasz J. Cholewo  <t.cholewo@ieee.org>

	* packages/etags.el (with-caps-disable-folding): New macro.
	(find-tag-internal): Use it.
	(tags-search): Use it.
	(tags-query-replace): Use it.  Case bug corrected.

Mon Mar 24 00:47:38 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (popup-mode-menu): Change guard when stripping
	keywords to be more robust.

Sun Mar 23 00:26:53 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/startup.el (splash-hack-version-string): Correct for case
	of hosts with '-' in the names.

Sat Mar 22 14:25:47 1997  Tomasz J. Cholewo  <t.cholewo@ieee.org>

	* modes/sendmail.el (user-mail-address): Require cus-edit.
	Fix when scope.

Sat Mar 22 14:25:47 1997  Tomasz J. Cholewo  <t.cholewo@ieee.org>

	* calendar/diary-lib.el (diary-countdown): New function.
	(fancy-diary-display): Use modeline-buffer-identification.

	* calendar/appt.el (appt-diary-entries): Do not display diary.
	(appt-check): Display diary buffer at midnight.

Fri Mar 21 19:16:46 1997  Steven L Baur  <steve@altair.xemacs.org>

	* mule/mule-coding.el (enable-multibyte-characters): MULE
	compatible variable.

Thu Mar 20 13:28:17 1997  Steven L Baur  <steve@altair.xemacs.org>

	* bytecomp/bytecomp.el (byte-compile-output-docform): Ebola fix.
	(byte-compile-lambda): Ebola fix.

	* prim/obsolete.el (following-char): Make this turkey obsolete.
	(preceding-char): Ditto.  (Suggested by Richard Mlynarik).

Wed Mar 19 10:12:09 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/sendmail.el (sendmail-send-it): Use function for
	user-mail-address.
	(user-mail-address): Autoload.

	* pcl-cvs/pcl-cvs.el (cvs-changelog-ours-p): Use function for
	user-mail-address.

	* prim/startup.el (load-init-file): Only set user-mail-address if
	non-interactive.

	* utils/smtpmail.el (smtpmail-send-it): Use function for
	user-mail-address.
	(smtpmail-via-smtp): Ditto.

	* packages/add-log.el (add-log-mailing-address): Use new function
	to obtaion email address.
	(add-change-log-entry): Ditto.

	* prim/device.el (device-pixel-depth): New alias for
	`device-bitplanes'.

	* comint/comint-xemacs.el (comint): Fix typo in defgroup.

Tue Mar 18 11:16:28 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: ls-lisp doesn't exist now.

	* comint/comint-xemacs.el (comint): Touch up fixes from Per
	Abrahamsen.

	* prim/glyphs.el (subwindow-image-instance-p): Change doc string
	to reflect unimplemented status.

Mon Mar 17 15:34:06 1997  Steven L Baur  <steve@altair.xemacs.org>

	* comint/comint.el (comint-input-setup): Require comint-xemacs.

	* utils/autoload.el (autoload-snarf-defcustom): Don't snarf from
	auto-autoloads.el.

	* comint/comint-xemacs.el: New file.  Contains face declarations
	for comint.

	* comint/comint.el: Remove inline defface.

Sat Mar 15 15:14:06 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: Add prim/auto-customize.elc to dumped files.

	* utils/autoload.el (generated-custom-file): New variable.
	(autoload-snarf-defcustom): New function.  Grab Customization as
	we look for autoload cookies. (based on code by Per Abrahamsen).
	(update-file-autoloads): Use it.
	(autoload-save-customization): New function (based on code by Per
	Abrahamsen).
	(batch-update-autoloads): Use it.

Fri Mar 14 20:00:00 1997  Jareth Hein  <jhod@po.iijnet.or.jp>

	* prim/fill.el:  added functions for kinsoku (Asian text line
	break processing).

Fri Mar 14 19:59:36 1997  Bob Weiner  <weiner@infodock.com>

	* packages/jka-compr.el (jka-compr-installed-p): Simplify.

Fri Mar 14 17:24:30 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/sendmail.el: Correct vm macro hack.
	(query-user-mail-address): New customizable variable.
	(user-mail-address): New function, use it.  (Courtesy of Per
	Abrahamsen <abraham@dina.kvl.dk>).

Thu Mar 13 18:49:50 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (popup-mode-menu): Do something more correct
	when combining a global popup menu and a local mode menu.

Thu Mar 13 08:36:35 1997  Adrian Aichner <aichner@ecf.teradyne.com>

	* packages/crypt.el (crypt-unix-to-dos-region): Correct DOC string.

Wed Mar 12 13:46:21 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/obsolete.el (char=): Make alias for common lisp
	compatibility.

Mon Mar 10 09:44:05 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/simple.el (set-fill-column): Clean up docstring.

	* x11/x-menubar.el (save-options-non-customized-face-list): Allow
	save-options to save faces declared with defface macro.

	* packages/vc.el: diff-switches is autoloaded again in diff.el.

	* packages/diff.el (diff-switches): Default to "-c".

Sun Mar  9 18:44:59 1997  Tomasz J. Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* prim/help.el (describe-function-1): Add missing stream arguments
	to terpri and princ.

Sun Mar  9 15:38:29 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/modeline.el (modeline-minor-mode-menu): Evaluate minor
	modes in context of correct buffer.

	* prim/help.el (locate-library): Synched with Emacs 19.35.

	* packages/icomplete.el (icomplete-get-keys): Make it work.

	* prim/about.el: Add Jens Lautenbacher's picture.

Sun Mar  9 12:38:53 1997  Noah Friedman  <friedman@prep.ai.mit.edu>

	* utils/eldoc.el (eldoc-pre-command-refresh-echo-area): Use
	eldoc-display-message-p, not eldoc-display-message-no-interference-p.

Sat Mar  8 11:20:47 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/startup.el (startup-splash-frame-body): More text tweaking.

	* x11/x-faces.el (*try-oblique-before-italic-fonts*): New user
	variable.  Allow trying oblique fonts ahead of italic fonts (from
	Raymond Toy).
	(x-make-font-italic): Use it.

	* prim/obsolete.el (window-system): Make it compatible not
	obsolete.

Fri Oct 11 14:21:05 1996  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* packages/hyper-apropos.el (hypropos-get-doc): Put font names etc in
	parentheses if instantiation uses fallback.
	(hypropos-face-history): New variable.
	(hyper-describe-face): New function.
	(hyper-where-is): New command.
	(hypropos-read-function-symbol): New function.
	(hyper-describe-key): New command.
	(hyper-describe-key-briefly): New command.
	(hypropos-read-variable-symbol): New function.
	(hyper-set-variable): New command.
	(hypropos-set-variable): Changed to work with buffer-locals.

Fri Jul 19 12:01:51 1996  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* packages/hyper-apropos.el: Massive changes--the original knew nothing
 	about buffer-locals and local-bindings.
	(hypropos-shrink-window): New user option.
	(hypropos-ref-buffer): New variable.
	(hypropos-regexp-history): New variable.
	(hyper-apropos): Better interactive version.
	(hypropos-grok-variables): Omit OBSOLETE stuff.
	(hyper-describe-variable): Additional ARG, better interactive
 	version.
	(hyper-describe-function): Ditto.
	(hypropos-last-help): Without prefix arg, just display buffer.
	(hypropos-insert-face): New function.
	(hypropos-insert-keybinding): New function.
	(hypropos-get-doc): Additional ARG, display documentation for
 	faces, complete change.
	(hypropos-this-symbol): Using better regexp.

Fri Mar  7 10:44:48 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Reorganize again undoing
	previous change.  Customize submenu moved to top of options menu.
	Edit faces restored to edit-faces and renamed to Browse faces.

Thu Mar  6 08:43:27 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (options-menu): New variable.
	(default-menubar): Use it.

	* prim/about.el (view-less): Explicit require.

Wed Mar  5 18:03:02 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/cleantree.el: New file based on suggestion by David Moore,
	and derived from Gnus nnml code.

Tue Mar  4 01:19:37 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* edebug/edebug.el (edebug-compute-previous-result): Don't treat
 	numbers as chars.

Wed Mar  5 10:11:55 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/startup.el (splash-hack-version-string): New function to
	narrow the output of (emacs-version) for the splash screen.
	(splash-frame-present): Use it.

Tue Mar  4 19:52:10 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/supercite.el (sc-name-filter-alist): (Idea from Bob
	Weiner).  Update to handle names like Michael Sperber
	[Mr. Preprocessor].

Mon Mar  3 17:50:04 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* prim/faces.el (init-face-from-resources): New variable.
	(init-face-from-resources): Use it.
	(init-device-faces): Use it.
	(init-frame-faces): Use it.
	(make-empty-face): New function.

	* x11/x-faces.el (x-init-face-from-resources): Made second
	argument optional, and added a third argument.
	(make-face-x-resource-internal): New alias.

Mon Mar  3 14:45:16 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: Remove custom.elc.

	* prim/simple.el (newline): Attempt to not add newline to a
	previous end-open extent.

Sun Mar  2 10:10:31 1997  Steven L Baur  <steve@altair.xemacs.org>

	* hm--html-menus/tmpl-minor-mode.el (tmpl-sign): Remove nul byte.

	* site-load.el: Move site-packages to the top level.

Sun Mar  2 01:37:04 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/mail-extr.el (all-top-level-domains): Added "hr" domain.

	* packages/ps-print.el (ps-print-color-p): Default to nil.

	* x11/x-menubar.el (default-menubar): Changed menubar entry for
	color printing.

	* prim/faces.el (init-other-random-faces): Use gray65 for
	zmacs-region and primary-selection background.

	* x11/x-faces.el (x-init-global-faces): New default background
	gray80.

Sat Mar  1 14:38:14 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* packages/diff.el: (diff): Autoload.
	(diff-backup): Autoload.
	(diff-switches): Autoload.

Sat Mar  1 01:09:08 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/tar-mode.el (tar-mode-map): Removed extraneous C-c
	binding of tar-copy.

	* prim/keydefs.el: Don't disable upcase-region and
	downcase-region.

Fri Feb 28 11:22:29 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/obsolete.el (char-to-int): Define as alias to `char-int'.

	* prim/help.el (describe-function-1): Show annotation contents if
	they exist.

	* packages/man.el (Manual-mode): Don't turn off scrollbars if
	XEmacs doesn't have them to begin with.

	* prim/keydefs.el: Don't disable eval-expression by default now
	that it is harder to type.

Thu Feb 27 13:06:41 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/subr.el (with-string-as-buffer-contents): Moved from
	mule/mule-coding.el.

	* mule/mule-coding.el: Remove with-string-as-buffer-contents.

	* prim/format.el (format-insert-file): Correct wrong order of args
	passed to format-decode.

	* prim/startup.el (load-user-init-file): Allow XEmacs to read a
	bytecompiled .emacs if it exists.

Thu Feb 27 17:41:57 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* subr.el (eval-after-load): Enable.
	(eval-next-after-load): Ditto.

Thu Feb 27 10:59:05 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/subr.el (with-temp-buffer): New function from Emacs 19.35,
	courtesy of Erik Naggum  <erik@naggum.no>.

Fri Feb 28 22:17:03 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/isearch-mode.el: Added "_" to the `interactive' forms of
 	most functions.
	(isearch-mode-map): Define M-y.
	(isearch-yank-kill): New function.

	* prim/keydefs.el: Don't bind `C-x C-n' to `set-goal-column';
 	don't disable `set-goal-column'.

	* mule/mule-init.el (ctl-x-map): Use `C-x C-n' as mule-prefix,
	instead of `C-x C-k'.

Wed Feb 26 18:09:56 1997  Andreas Jaeger <aj@arthur.pfalz.de>

	* x11/x-menubar.el (default-menubar): `FAQ' should be `FAQ
	(local)' in Help menu.

Mon Feb 24 18:33:38 1997  Martin Buchholz  <mrb@eng.sun.com>

	* mule/mule-debug.el (describe-coding-system): Ported from
	Mule to XEmacs.

	* mule/mule-x-init.el (x-use-halfwidth-roman-font): New
	function:
	 "Maybe set charset registry of the 'ascii charset to ROMAN-REGISTRY.

	Do this only if:
	 - the current display is an X device
	 - the displayed width of FULLWIDTH-CHARSET is twice the displayed
	   width of the 'ascii charset, but only when using ROMAN-REGISTRY.

	Traditionally, Asian characters have been displayed so that they
	occupy exactly twice the screen space of ASCII (`halfwidth')
	characters.  On many systems, e.g. Sun CDE systems, this can only be
	achieved by using a national variant roman font to display ASCII."

Sun Feb 23 12:56:28 1997  Steven L Baur  <steve@altair.xemacs.org>

	* edebug/edebug.el: Synch up with Emacs 19.34.

	* prim/itimer-autosave.el (auto-save-timeout): Increase to 960.

Sat Feb 22 17:11:31 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el:  Dump new file itimer-autosave.el.

Sat Feb 22 17:06:32 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/itimer.el: Cleanup, removal of autosave cruft.

Fri Feb 21 09:41:44 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/simple.el (line-move-ignore-invisible): Reverse previous
	change to make this default to nil again.

Thu Feb 20 14:30:50 1997  Jamie Zawinski  <jwz@netscape.com>

	* prim/files.el (hack-local-variables-prop-line): New version.

Thu Feb 20 11:14:22 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el: Delete definition of dired-kept-versions.

	* prim/about.el (about-xemacs-xref): Added Kyle's picture. :-)

Wed Feb 19 15:47:47 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/vc.el (diff-switches): Restore since this global
	variable went away with the passing of ange-ftp.

	* utils/autoload.el (generate-file-autoloads-1): Don't let
	find-file-hooks be run.
	(update-file-autoloads): Ditto.
	(update-autoloads-from-directory): Ditto.

	* x11/x-menubar.el (default-menubar): Correct unguarded reference
	to fast-lock-mode variable.

Wed Feb 19 08:04:02 1997  Noah Friedman  <friedman@prep.ai.mit.edu>

	* utils/eldoc.el (eldoc-message-commands): Doc fixes.
	(eldoc-message): Make function, not macro.

	* utils/eldoc.el (eldoc-last-message): New internal variable.
	(eldoc-mode): Initialize it to nil.
	(eldoc-message): Use it.
	(eldoc-print-current-symbol-info): Use it.

	* utils/eldoc.el (eldoc-pre-command-refresh-echo-area): New function.
	(eldoc-mode): Put it on pre-command-hook if in XEmacs or using
	idle timers in Emacs.

	* utils/eldoc.el (eldoc-message-commands-table-size): New constant.
	(eldoc-add-command): Use it to initialize eldoc-message-commands.

	* utils/eldoc.el (eldoc-display-message-no-interference-p): New
	function.
	(eldoc-display-message-p): Use it.

	* utils/eldoc.el (eldoc-print-fnsym-args, eldoc-print-var-docstring):
	Arg sym no longer optional.
	Do not initialize arg if nil.

	* utils/eldoc.el (eldoc-forward-sexp-safe): Function deleted.
	(eldoc-beginning-of-sexp): New function.
	(eldoc-fnsym-in-current-sexp): Use eldoc-beginning-of-sexp.
	Use eldoc-current-symbol to get symbol at point.

	* utils/eldoc.el
	(eldoc-function-argstring-from-docstring-method-table): Forge
 	docstrings for `and', `or', `list', `+', and `-'.

	* utils/eldoc.el (eldoc-add-command-completions): New function.
	(eldoc-add-command): Take list of args.
	No longer interactive.
	(eldoc-remove-command-completions): New function.
	(eldoc-remove-command): Take list of args.
	No longer interactive.

	* utils/eldoc.el: Initialize eldoc-message-commands using
	eldoc-add-command-completions.

	* utils/eldoc.el (eldoc-display-message-p): New function.
	Return nil if cursor-in-echo-area, or using idle timers and a
	command is still active.
	(eldoc-print-current-symbol-info): Use eldoc-display-message-p.

Tue Feb 18 14:20:01 1997  David Byers  <davby@ida.liu.se>

	* packages/paren.el (paren-highlight): Minor typo correction.

Tue Feb 18 13:05:33 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: Dump new file custom-xmas.

Mon Feb 17 21:01:38 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/help.el (function-compatible-p): New function.
	(function-compatibility-doc): New function.
	(describe-function-1): Use them.
	(variable-compatible-p): New function.
	(variable-compatibility-doc): New function.
	(describe-variable): Use them.

Mon Feb 17 19:12:55 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* prim/obsolete.el (x-color-values): Added for Emacs
	compatibility.

Mon Feb 17 18:11:24 1997  Michael Kifer  <kifer@CS.SunySB.EDU>

	* prim/files.el (file-remote-p): Force load of EFS if not already
	loaded.

Mon Feb 17 17:45:23 1997  Bob Weiner  <weiner@infodock.com>

	* modes/lisp-mode.el (eval-last-sexp): Do something special if
	evaluating (interactive ...).

Sun Feb 16 21:49:18 1997  Bjorn Victor  <Bjorn.Victor@DoCS.UU.SE>

	* utils/facemenu.el (facemenu-adjust-face-sizes): Strip size when
	face is neither nil nor cons.

Sun Feb 16 14:26:03 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/loadup.el: Try not dumping font.elc.

	* prim/obsolete.el (display-column-mode): Remove column.el and
	leave a forwarding address.

Sat Feb 15 23:21:11 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/minibuf.el (read-from-minibuffer): Don't put evaluated
	expressions in the minibuffer history list.

Sat Feb 15 22:57:11 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/scroll-in-place.el (scroll-signal-boundary-error):
	Allow user to suspend error signals.

Sat Feb 15 21:43:49 1997  John Turner  <turner@branagh.ta52.lanl.gov>

	* packages/column.el (current-line): Correct defaults for starting
	at 1, remove an obsolete variable.

Sat Feb 15 20:17:46 1997  Hal Peterson  <hrp@netstar.com>

	* packages/vc.el (vc-backend-print-log): Change `cvs rlog' to
	`cvs log'

Mon Feb 17 02:01:27 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* utils/edmacro.el (edmacro-format-keys): Would bug out on empty
 	macro.

Mon Feb 17 02:01:27 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* utils/edmacro.el (edmacro-format-keys): Would bug out on empty
 	macro.
	(edmacro-fix-menu-commands): Would bug out on 'control, etc.
	(edmacro-events-to-keys): New function.
	(edmacro-format-keys): Use it.
	(edmacro-finish-edit): Compare to macros, not strings.
	(edmacro-fkeys): New function.
	(edmacro-format-keys): Use it.
	(edit-kbd-macro): Tweak.

Sat Feb 15 13:58:14 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* packages/info.el: Don't call switch-to-buffer if the Info frame
	is being deleted.

Sat Feb 15 12:07:46 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/simple.el (previous-line): Allow escape from signaled error
	on buffer boundary.
	(next-line): Ditto.

Sat Feb 15 11:05:29 1997  Kyle Jones  <kyle_jones@wonderworks.com>
	* utils/redo.el: made before and after status messages so that
	the user is aware if a long action is still being processed.

	rolled version number up to 1.00, since the package seems to be
	stable.

	cosmetic changes so the file could be included in the XEmacs
	distribution.

Sat Feb 15 11:13:05 1997  Hrvoje Niksic  <hniksic@srce.hr>

	* prim/simple.el (line-move-ignore-invisible): Change default to
	t.

Sat Feb 15 01:04:21 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* prim/macros.el: Removed.  Superseded by new version in
	edmacro.el.

Fri Feb 14 23:29:16 1997  Adrian Aichner  <aichner@ecf.teradyne.com>

	* modes/executable.el (executable-set-magic): Correct for the #!
	getting lost.

Fri Feb 14 23:10:58 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/modeline.el (modeline-modified-map): Call
	vc-toggle-read-only instead of toggle-read-only to be consistent
	with override of `C-x C-q'.

Fri Feb 14 16:11:10 1997  Jonathon Edwards  <edwards@intranet.com>

	* packages/blink-cursor.el (blink-cursor-post-command-hook): stop
	cursor blink momentarily after receiving user input.

Fri Feb 14 15:26:38 1997  Jacques Duthen  <duthen@club-internet.fr>

	* x11/x-menubar.el (default-menubar): mine goes into games menu.

Thu Feb 13 22:16:09 1997  Michael Sperber  <sperber@informatik.uni-tuebingen.de>

	* prim/files.el (recover-session-finish): Modify for efs.

Thu Feb 13 21:23:07 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files.el (file-remote-p): New function.

	* sunpro/sunpro-load.el: Do not dump mime-setup under any
	circumstances.

Thu Feb 13 17:58:09 1997  Richard Mlynarik  <mly@adoc.xerox.com>

	* prim/obsolete.el (insert-before-markers-and-inherit): Correct
	typo.

Wed Feb 12 17:48:59 1997  Steven L Baur  <steve@altair.xemacs.org>

	* comint/gdb.el (gdb-control-c-subjob): Nuke this loser.

Wed Feb 12 13:58:01 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* utils/edmacro.el: New file.

Wed Feb 12 09:00:48 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/sound.el (load-sound-file): Update documentation of
	restrictions on what machines XEmacs can play sound on.

Tue Feb 11 09:39:25 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/glyphs.el (init-glyphs): Correct autodetection to find
	GIF89.  Look for PNG.

Mon Feb 10 21:37:54 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/frame.el (show-temp-buffer-in-current-frame): Conditional
	shrink-to-fit behavior on `temp-buffer-shrink-to-fit'.

	* packages/apropos.el (apropos-print): Ditto.

	* prim/lisp.el (lisp-complete-symbol): Ditto.

	* prim/help.el (with-displaying-help-buffer): Ditto.

Mon Feb 10 20:58:19 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* x11/x-toolbar.el: Allow customization of toolbar functions by
	customizable variables.

Mon Feb 10 14:58:05 1997  Greg Klanderman  <greg@alphatech.com>

	* comint/gdb.el (gdb-mode): Correct setting of obsolete hook.

Sun Feb  9 19:55:03 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/obsolete.el (define-compatible-variable-alias): New function.
	(define-compatible-variable-alias): New function.
	.*mode-line.*, frame-parameters, modify-frame-parameters,
	x-display-.* all made compatible not obsolete.

	* bytecomp/bytecomp.el (byte-compile-variable-ref): Warn for
	compatibility symbols.
	(byte-compile-compatible): New function.

	* bytecomp/bytecomp-runtime.el (make-compatible): New function.
	(make-compatible-variable): New function.

Sun Feb  9 19:14:25 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* utils/redo.el: New file.

	* utils/floating-toolbar.el: New file.

Sun Feb  9 15:19:46 1997  Steven L Baur  <steve@altair.xemacs.org>

	* custom/custom.el: Remove ;;;###autoloads since this file is
	dumped with XEmacs.

Sun Feb  9 00:28:20 1997  Per Abrahamsen  <abraham@dina.kvl.dk>

	* custom/widget.el: New file.

	* custom/widget-example.el: New file.

	* custom/widget-edit.el: New file.

	* custom/custom.el: New file.

	* custom/custom-edit.el: New file.

Fri Feb  7 03:09:32 1997  Alastair Burt <burt@dfki.uni-sb.de>

	* bytecomp/bytecomp.el (byte-compile-insert-header): Correct
	typo.

Thu Feb  6 17:14:32 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/font-lock.el (font-lock-fontify-keywords-region):
	Correct bounds checking in case the keywords regexp is not
	properly anchored.

	* packages/ps-print.el: Update maintainer address.

Thu Feb  6 12:35:39 1997  Bill Dubuque  <wgd@martigny.ai.mit.edu>

	* cl/cl-macs.el (cl-do-proclaim): Correct addition of bound
	variables to `byte-compile-bound-variables'.

Thu Feb  6 01:07:56 1997  Steven L Baur  <steve@altair.xemacs.org>

	* bytecomp/bytecomp.el (byte-compile-warn-about-unused-variables):
	Reverse previous patch.

	* prim/minibuf.el (use-dialog-box): Rename from
	should-use-dialog-box.
	(should-use-dialog-box-p): Use it.

	* bytecomp/bytecomp.el (byte-compile-warn-about-unused-variables):
	cell is not a cons when the cl declare macro is used.

Wed Feb  5 21:37:13 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* modes/cperl-mode.el: Provide 'cperl-mode.

Tue Feb  4 11:51:25 1997  Greg Klanderman  <greg@alphatech.com>

	* modes/make-mode.el: Remove `makefile-runtime-macros-list' from
	`makefile-macro-table'.

Tue Feb  4 11:06:33 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/metamail.el (metamail-region): *junet* coding system
	name changed to 'junet.

Mon Feb  3 22:34:09 1997  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* iso/iso-acc.el: Critical Bug fix.
	Add ISO-8859-3 support to iso-acc.el, as suggested by Dale
	Gulledge.

Mon Feb  3 17:11:21 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/make-mode.el (makefile-browser-format-macro-line): Remove
	redundant (and wrong) format statement.

Fri Jan 31 21:38:47 1997  Steven L Baur  <steve@altair.xemacs.org>

	* psgml/psgml-html.el (html-auto-sgml-entity-conversion): Allow
	user control over automatic sgml entity to ISO-8859-1 conversion.

Fri Jan 31 09:50:51 1997  Hrvoje Niksic <hniksic@srce.hr>

	* x11/x-toolbar.el (toolbar-mail-commands-alist): Updated with a
	lot of new mailer possiblities.

Fri Jan 31 09:28:49 1997  Martin Buchholz  <mrb@eng.sun.com>

	* x11/x-font-menu.el (reset-device-font-menus): Correct guard on
	charset-registry call.

Fri Jan 31 00:21:07 1997  Darrell Kindred  <dkindred@cmu.edu>

	* packages/font-lock.el (font-lock-mode): Don't remove the
	`font-lock-pre-idle-hook' from `pre-idle-hook'.

Thu Jan 30 22:43:43 1997  David Moore  <dmoore@UCSD.EDU>

	* packages/compile.el:  Speed up regexps.
	(compilation-parse-errors): replace re-search-forward with
	something faster.

Thu Jan 30 20:33:56 1997  Hvoje Niksic  <hniksic@srce.hr>

	* x11/x-toolbar.el
 	(toolbar-open,toolbar-dired,toolbar-save,toolbar-print,toolbar-cut,toolbar-copy,toolbar-paste,toolbar-undo,toolbar-replace):
 	New functions.
	(toolbar-news): Allow running without separate frame.
	(toolbar-mail-commands-alist): New variable.
	(toolbar-mail-reader): Ditto.
	(toolbar-mail): Use them.

	* x11/x-menubar.el: Shorten help menu item names.

Thu Jan 30 17:22:15 1997  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* iso/iso-acc.el: Accept accents in isearch.

Wed Jan 29 22:25:38 1997  Tomasz J. Cholewo <tjchol01@mecca.spd.louisville.edu>

	* packages/ps-print.el: Make postscript files generated by
	ps-print conformant to Adobe DSC specification.

Mon Jan 27 21:45:17 1997  Tomasz J. Cholewo  <tjchol01@mecca.spd.louisville.edu>

	* dired/ange-ftp.el (ange-ftp-write-region): Changes for jka-compr.

	* packages/jka-compr.el (jka-compr-write-region): Convert to 20.0
	write-region interface.

Mon Jan 27 19:09:28 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/about.el (about-xemacs): Updated to reflect change of
	management.

Mon Jan 27 13:25:17 1997  William M. Perry <wmperry@aventail.com>

	* packages/man.el (Manual-entry-switches): Don't default to -s.

Sun Jan 26 16:27:49 1997  Steven L Baur  <steve@altair.xemacs.org>

	* bytecomp/byte-optimize.el (byte-compile-inline-expand):
	Correctly refresh the pointer to a symbol being autoloaded prior
	to inline.

Sun Jan 26 13:57:22 1997  Bob Weiner <weiner@infodock.com>

	* prim/about.el (about-xemacs-xref): Update bio.

Sat Jan 25 22:58:15 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Update ps-paper-type options
	for new ps-print.el.

Thu Jan 23 01:40:53 1997  Steven L Baur  <steve@altair.xemacs.org>

	* psgml/psgml-html.el (html-mode): Set up friendlier syntax
	table.

	* psgml/psgml.el (sgml-running-xemacs): Remove
	sgml-mode-syntax-table since it has been superseded.

Thu Jan  9 13:32:01 1997  Jacques Duthen Prestataire  <duthen@cegelec-red.fr>

	* ps-print.el: Merge patch from [simon] Oct 8, 1996 Simon Marshall
	<simon@gnu.ai.mit.edu>
	(ps-print-version): Fix value.
	(cl lisp-float-type): Require them.
	(ps-number-of-columns ps-*-font-size): Try to select defaults
	better suited when `ps-landscape-mode' is non-nil.
	(ps-*-faces): Change default for Font Lock mode faces when
	`ps-print-color-p' is nil.
	(ps-right-header): Replace `time-stamp-yy/mm/dd'
	by `time-stamp-mon-dd-yyyy'.
	(ps-end-file ps-begin-page): Fix bug in page count for Ghostview.
	(ps-generate-postscript-with-faces): Replace `ps-sorter' by
	`car-less-than-car'.
	(ps-plot ps-generate): Replace `%d' by `%3d'.

Wed Jan 22 15:32:39 1997  Greg Klanderman  <greg@alphatech.com>

	* modes/rsz-minibuf.el (resize-minibuffer-setup): Resize the
	minibuffer earlier than the first received event.

Wed Jan 22 15:29:08 1997  Barry A. Warsaw  <bwarsaw@CNRI.Reston.VA.US>

	* modes/imenu.el (imenu-add-to-menubar): Don't attempt anything if
	menu-bar lookup fails.

Wed Jan 22 01:03:42 1997  Martin Buchholz  <mrb@eng.sun.com>

	* x11/x-font-menu.el: Make font menus work better in a
	Japanese environment.

Tue Jan 21 19:56:26 1997  Martin Buchholz  <mrb@eng.sun.com>

	* mule/mule-init.el (init-mule): Get Japanese man pages working.

Fri Jan 17 17:22:54 1997  Hrvoje Niksic  <hniksic@bjesomar.srce.hr>

	* man.el (Manual-mode): Don't mess with scrollbars if they aren't
	present.

Tue Jan 21 19:52:45 1997  Steven L Baur  <steve@altair.xemacs.org>

	* utils/timezone.el (timezone-parse-date): Fix Y2K bug.

Tue Jan 21 19:32:44 1997  Barry A. Warsaw  <bwarsaw@anthem.cnri.reston.va.us>

	* prim/files.el (hack-local-variables-prop-line): XEmacs should
	not query to set local variables in the -*- line if there aren't
	any to set!

Thu Jan 16 18:24:20 1997  Steven L Baur  <steve@miranova.com>

	* psgml/psgml.el: Use newer interface form for nsgmls.

Thu Jan 16 04:06:24 1997  Steven L Baur  <steve@altair.xemacs.org>

	* comint/telnet.el (rsh): (Mostly) correct dealing with detection
	of password prompt at login.

Thu Jan 16 03:28:25 1997  Martin Buchholz  <mrb@eng.sun.com>

	* modes/view.el (View-scroll-lines-forward): Correct format typo.

Mon Jan 13 22:50:23 1997  David Moore  <dmoore@UCSD.EDU>

	* packages/compile.el: Clean up regexps.

Sun Jan 12 20:50:08 1997  Steven L Baur  <steve@altair.xemacs.org>

	* modes/m4-mode.el: Changed m4-program to point to /usr/bin/m4.

Sun Jan 12 18:49:30 1997   ~~ ~~/MORIOKA Tomohiko  <morioka@jaist.ac.jp>

	* mule/mule-misc.el: `-columns' -> `-width' and define `-columns'
	alias
	Import definition of `truncate-string-to-width' from Emacs/mule-delta.

Sun Jan 12 13:57:11 1997  Kyle Jones  <kyle_jones@wonderworks.com>

	* prim/window.el (shrink-window-if-larger-than-buffer): Don't let
	readjusted window change the buffer order stack.

Sat Jan 11 20:12:47 1997  Vinnie Shelton  <shelton@icd.teradyne.com>

	* utils/finder.el (finder-insert-at-column): Correct off-by-one
	error affecting long file names.

Fri Jan 10 22:27:58 1997  Shane Holder  <holder@rsn.hp.com>

	* utils/bench.el:  New version.

Fri Jan 10 13:22:26 1997  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* packages/man.el (Manual-entry-switches): New variable.
	(Manual-apropos-switches): New variable.
	(Manual-run-formatter): Use them.

Thu Jan  9 22:04:42 1997  Greg Klanderman  <greg@alphatech.com>

	* modes/make-mode.el: Allow disabling of suspicious line warnings
	allow macro pickup when a macro is entered normally
	add the runtime macros to the completion list so confirmation is
	not necessary when minibuffer-confirm-incomplete is t.
	(these last two only in effect when makefile-electric-keys=t)

Thu Jan  9 11:44:11 1997  Martin Buchholz  <mrb@eng.sun.com>

	* mule/mule-files.el (file-coding-system-alist): Default to 8 bit
	on .el and .info files.

Wed Jan  8 20:57:16 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/help.el (help-mode-quit): Correct typo in docstring.
	(help-mode-quit): Bury help buffer before restoring previous
	window configuration.

Wed Jan  8 20:20:01 1997  Joe Nuspl  <nuspl@nvwls.cc.purdue.edu>

	* x11/x-menubar.el (default-menubar): Include enriched.doc in the
	samples in the help menu.

Wed Jan  8 20:09:32 1997  Jens Krinke  <krinke@ips.cs.tu-bs.de>

	* x11/x-toolbar.el (toolbar-news-frame-properties): New variable.
	(toolbar-news): Use it.

Wed Jan  8 10:11:35 1997  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-compose.el (global-map): Keysyms use `-' not `_'.

Mon Jan  6 18:19:03 1997  Steven L Baur  <steve@altair.xemacs.org>

	* comint/telnet.el (telnet-initial-filter): Enable
	case-fold-search.
	(telnet-maximum-count): Bump up to 6, since 4 does not always
	appear to be enough.

Mon Jan  6 08:30:55 1997  Andrew Cohen  <cohen@andy.bu.edu>

	* psgml/psgml-parse.el (sgml-compile-dtd): noconv coding system
	has been renamed to no-conversion.
	(sgml-bdtd-merge): Ditto.
	(sgml-push-to-entity): Ditto.

Sun Jan  5 14:35:30 1997  Steven L Baur  <steve@altair.xemacs.org>

	* utils/loadhist.el (symbol-file): Make interactive.

Sun Jan  5 00:40:02 1997  Bob Weiner  <weiner@infodock.com>

	* packages/avoid.el (mouse-avoidance-mode): autoload.

	* x11/x-menubar.el (options-menu-saved-forms): Mouse avoidance
	mode option.

Sat Jan  4 12:25:34 1997  Steven L Baur  <steve@altair.xemacs.org>

	* prim/faces.el (init-other-random-faces): Guard against adding
	modeline buffer tty face if no tty support.

Fri Jan  3 23:15:22 1997  Greg Klanderman  <greg@alphatech.com>

	* packages/backup-dir.el: Added to distribution.

Fri Jan  3 16:20:42 1997  Steven L Baur  <steve@altair.xemacs.org>

	* gnus/gnus-setup.el: Updated to gracefully handle installed
 	auxilliary packages like tm, and handle eventual integration of
 	Red Gnus/Gnus 5.4.

Fri Jan  3 14:32:07 1997  Vinnie Shelton  <shelton@icd.teradyne.com>

	* packages/gnuserv.el (gnuserv-frame): Autoload.

	* x11/x-menubar.el (default-menubar): Add option to control gnuserv
	creating a new frame.
	(options-menu-saved-forms): Ditto.

Fri Jan  3 12:18:41 1997  Martin Buchholz  <mrb@eng.sun.com>

	* x11/x-mouse.el: Protect creation of scrollbar-pointer-glyph with
	feature test on 'scrollbar.

Fri Jan  3 10:37:48 1997  Steven L Baur  <steve@altair.xemacs.org>

	* packages/mic-paren.el (paren-activate): Update to v1.2.

Fri Jan  3 10:21:58 1997  Pete Ware  <ware@cis.ohio-state.edu>

	* x11/x-menubar.el (default-menubar): Add require-final-newline
	and next-line-add-newlines as options in the options menu.
	(options-menu-saved-forms): Ditto.

Thu Jan  2 18:52:32 1997  Joel Peterson  <tarzan@aosi.com>

	* prim/simple.el (blink-matching-open): Make sure point is visible
	when blinking.

Thu Jan  2 11:25:05 1997  Vinnie Shelton  <shelton@icd.teradyne.com>

	* prim/replace.el (occur-mode-mouse-goto): Fix typo in Emacs 19.34
	synch up.
	(occur-mode-map): Ditto.

Wed Nov 20 19:40:05 1996  Lennart Staflin  <lenst@lysator.liu.se>

	* psgml-parse.el (sgml-modify-dtd): set sgml-current-tree to
	sgml-top-tree. Needed by sgml-open-element.

Mon Nov 11 01:50:40 1996  Lennart Staflin  <lenst@lysator.liu.se>

	* Version 1.0 released.

Sun Sep 15 14:07:24 1996  Lennart Staflin  <lenst@lysator.liu.se>

	* psgml.el (sgml-mode): modify mode-line-format with subst, don't
	replicate the whole format in the code.

Thu Sep 12 20:27:38 1996  Lennart Staflin  <lenst@lysator.liu.se>

	* psgml-parse.el (sgml-external-file): Try to find system
	identifiers using the sgml-public-map
	if sgml-system-identifiers-are-preferred; this way that flag will
	have effect even if the sgml-public-map contains `%s'.
	(sgml-final): moved to be defined before use.

	* psgml-dtd.el (sgml-parse-parameter-literal): Try to handle
	character references to character number above 255 by leaving a
	character reference in then parsed entity text.

Thu Sep  5 14:11:00 1996  Dave Love  <d.love@dl.ac.uk>

	* psgml-other.el (sgml-set-face-for): Nullify
	{after,before}-change-functions as well as (obsolete)
 	{after,before}-change-function.

Tue Dec 31 11:34:37 1996  Steven L Baur  <steve@altair.xemacs.org>

	* comint/gdb.el (gdb-mode): Require 'cc-mode if not already loaded
	prior to starting gdb.

Mon Dec 30 17:59:48 1996  Steven L Baur  <steve@altair.xemacs.org>

	* comint/telnet.el (telnet-check-software-type-initialize): Remove
	default in cond (which allows special treatment of password prompt
	to work).

Mon Dec 30 09:36:04 1996  Valdis Kletnieks  <Valdis.Kletnieks@vt.edu>

	* packages/gnuserv.el (server-edit): Add option to allow killing
	last visible frame.

Sun Dec 29 21:36:44 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files-nomule.el: Add trailing newline.

Sun Dec 29 18:45:34 1996  James LewisMoss  <dres@dres.elam.org>

	* modes/perl-mode.el: Add (provide 'perl-mode).

Sun Dec 29 17:15:57 1996  Martin Buchholz  <mrb@eng.sun.com>

	* ilisp/Makefile (elc): Be a little smarter about recompilation.

Sun Dec 29 17:14:27 1996  Steven L Baur  <steve@altair.xemacs.org>

	* tm/tm-edit-tipgp.el: Don't unconditionally require tinypgpa.el.

Sat Dec 28 11:15:55 1996  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (default-menubar): Move Frame-local font menu
	option to Frame Appearance submenu.

Fri Dec 27 20:30:00 1996  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-font-menu.el (font-menu-this-frame-only-p): Default to
	nil, because everyone was confused by it defaulting to t.

Fri Dec 27 12:30:37 1996  Richard Mlynarik  <mly@adoc.xerox.com>

	* prim/sort.el (sort-subr): Document use of `sort-fold-case'.
	(sort-lines): Ditto.
	(sort-paragraphs): Ditto.
	(sort-pages): Ditto.
	(sort-regexp-fields): Ditto.
	(sort-numeric-fields): Ditto.
	(sort-regexp-fields): Ditto.
	(sort-columns): Ditto.
	(sort-regexp-fields): Use compare-buffer-substrings if available.

Fri Dec 27 12:09:23 1996  Noah Friedman  <friedman@gnu.ai.mit.edu>

	* modes/mail-abbrevs.el (mail-abbrev-expand-hook): Prevent abbrev
	expansion from happening multiple times.

Fri Dec 27 02:31:15 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/help.el (help-for-help): Don't confuse help character `b'
	with scrolling character `b' in view-less help buffer.

	* packages/scroll-in-place.el: Synch with 19.15.

Thu Dec 26 15:25:09 1996  Steven L Baur  <steve@altair.xemacs.org>

	* x11/x-menubar.el (xemacs-splash-buffer): New function.
	(default-menubar): Use it.
	(default-menubar): Reorganize help menus.

	* prim/startup.el (startup-message-timeout): More or less disable
	the timeout of the splash screen.

	* packages/man.el (Manual-use-rosetta-man): For Neal Becker's
	Rosetta Man patch.
	(Manual-nuke-nroff-bs): Use it.

Tue Dec 24 12:46:22 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/frame.el (show-temp-buffer-in-current-frame): Shrink temp
	buffer to fit.

Mon Dec 23 15:44:49 1996  Steven L Baur  <steve@altair.xemacs.org>

	* utils/delbackspace.el: Correct rebindings so they work properly
	when cc-mode is not dumped with XEmacs.

	* packages/apropos.el (apropos-print): Minimize size of *Apropos*
	window if it is small.

	* prim/lisp.el (lisp-complete-symbol): Minimize size of
	*Completions* window.

	* prim/help.el (with-displaying-help-buffer): (Based on an idea
	from Sudish Joseph) minimize size of displayed help window.

	* modes/fortran.el (fortran-window-create-momentarily): Fix
	lossage from synch with Emacs 19.34.
	(fortran-abbrev-start): Ditto.

Sun Dec 22 15:33:25 1996  Hrvoje Niksic  <hniksic@srce.hr>

	* x11/x-toolbar.el (toolbar-news): Check whether this is the last
	frame before deleting it.

Sun Dec 22 00:37:42 1996  Sudish Joseph  <sudish@mindspring.com>

	* eterm/tgud.el (tgud-gdb-complete-filter): Match carriage returns
	as well as linefeeds.

	* eterm/term.el (term-dynamic-list-completions): Correct Emacsism
	in setting unread-command-events.

Sat Dec 21 23:37:02 1996  Bob Weiner  <weiner@infodock.com>

	* packages/font-lock.el: Update Java support.

Sat Dec 21 22:48:59 1996  Steven L Baur  <steve@altair.xemacs.org>

	* packages/fontl-hooks.el: Add provide (synch with 19.15).

	* x11/x-toolbar.el: Don't quote lambda macro.

	* packages/session.el: Removed from distribution.

Sat Dec 21 22:37:37 1996  Neal Becker  <neal@ctd.comsat.com>

	* pcl-cvs/pcl-cvs.el: Synched with pcl-cvs.el from cvs-1.9.

Fri Dec 20 15:19:36 1996  Steven L Baur  <steve@altair.xemacs.org>

	* packages/compile.el (compilation-error-regexp-alist): Complete
	fix for lossage on bad regexps.

	* prim/loadup.el: Remove cc-mode as a dumped package.

	* prim/glyphs.el (init-glyphs): hscroll-glyph is now builtin.

	* prim/minibuf.el (minibuffer-complete-word): Correct an ebola
	infection that caused incorrect interpretation of SPC in the
	minibuffer.

Thu Dec 19 22:16:47 1996  Heiko Muenkel  <muenkel@tnt.uni-hannover.de>

	* modes/outl-mouse.el (outline-glyph-menu): Remove Hide body item,
	Add Show all item.

Thu Dec 19 00:37:59 1996  Bart Robinson <lomew@cs.utah.edu>

	* prim/files.el: Make enable-local-variables 'ask-me behave sanely.

Wed Dec 18 23:10:15 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/simple.el (next-line-add-newlines): Now defaults to nil.

Wed Dec 18 22:56:48 1996  Hrvoje Niksic  <hniksic@srce.hr>

	* utils/bench.el (bench-mark-13): Added.

Wed Dec 18 20:26:10 1996  Martin Buchholz  <mrb@eng.sun.com>

	* mule/mule-coding.el: Change charset names.

	* mule/japanese-hooks.el: Change charset names.

	* mule/hebrew-hooks.el: Change charset names.
	Remove quail hooks.

	* mule/greek-hooks.el: Change charset names.
	Remove quail hooks.

	* mule/european-hooks.el ((make-char 'latin-iso8859-1 32)): Change
	charset names.
	Remove quail hooks.

	* mule/cyrillic-hooks.el (cyrillic-iso8859-5): Use instead of cyrillic.
	Remove quail hooks.

	* mule/chinese-hooks.el (chinese-gb2312): Fix chinese syntax tables.
	Use chinese-gb2312.
	Remove quail hooks.
	(chinese): Comment out code for egg.

	* mule/thai-hooks.el: Use thai-tis620.
	(thai): Prefer macro definition of lambda.

	* sunpro/sunpro-init.el (sunpro-startup): Guard against Sun
	censorship.

	* prim/obsolete.el (wholenump): New obsolete alias.

	* prim/simple.el (comment-indent-function): Use macro definition
	of (lambda () ...).

	* prim/replace.el (list-matching-lines): Remove redundant
	(message (format ...))

	* modes/cc-mode.el: Readd autoloads (prior to removing cc-mode as
	a dumped package).

Wed Dec 18 11:09:45 1996  Steven L Baur  <steve@altair.xemacs.org>

	* comint/telnet.el: Synch up to 19.15 & Emacs 19.34.
	(telnet-check-software-type-initialize): Cleanup from Synch.

Sat Dec 14 17:39:17 1996  Steven L Baur  <steve@altair.xemacs.org>

	* packages/buff-menu.el (list-buffers-directory): autoload.

Fri Dec 13 16:53:14 1996  Steven L Baur  <steve@altair.xemacs.org>

	* electric/ebuff-menu.el (electric-buffer-list): Restore behavior
	of using prefix argument.

	* emulators/crisp.el (crisp-mode-map): Rename kp_.* keysyms to
	kp-\1.

	* emulators/tpu-edt.el: Ditto.

	* x11/x-win-sun.el: Ditto.

	* x11/x-iso8859-1.el: Ditto.

	* term/tvi970.el: Ditto.

	* term/news.el: Ditto.

	* term/lk201.el: Ditto.

	* term/linux.el: Ditto.

	* prim/keydefs.el: Ditto.

	* prim/events.el: Ditto.

	* packages/icomplete.el (icomplete-get-keys): Ditto.

	* games/gomoku.el (gomoku-mode-map): Ditto.

	* games/blackbox.el (blackbox-mode-map): Ditto.

Fri Dec 13 09:40:27 1996  Sudish Joseph  <sudish@mindspring.com>

	* prim/minibuf.el (next-history-element): Remove kludge test on
	minibuffer-history-sexp-flag.

	* x11/x-init.el (init-post-x-win): Fix hooks for gnuattached ttys
	on XEmacsen started on X displays.

Thu Dec 12 16:05:53 1996  Raymond Toy  <toy@rtp.ericsson.se>

	* ilisp/ilisp-out.el (ilisp-find-lower-window): Correct XEmacs
	version check to look at major numbers.
	(ilisp-find-top-left-most-window): Ditto.

Thu Dec 12 15:21:43 1996  Lars Magne Ingebrigtsen  <larsi@ifi.uio.no>

	* utils/mail-extr.el (mail-extract-address-components): Don't
	automatically downcase extracted elements.  It violates standards.

Thu Dec 12 14:46:47 1996  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* x11/x-menubar.el (buffers-menu-filter): The buffer menu was
	shortened to `buffers-menu-max-size' items even if
	`buffers-menu-submenus-for-groups-p' is non-nil.

	Let `buffers-menu-submenus-for-groups-p' be an integer : if there
	are more buffers than this value, use submenus, otherwise not.

	* packages/vc.el (vc-rename-this-file): New function (was missing,
	but referred to on the menubar).

	* packages/compile.el (compilation-font-lock-keywords): `defvar'
	instead of `defconst'!

	* prim/mouse.el (default-mouse-track-normalize-point): Double
	click mouse-1 on sexpr selects the sexpr.

	* x11/x-menubar.el (options-menu-saved-forms): Fix bug in
	`save-options-menu-settings'.

Thu Dec 12 14:25:21 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/simple.el (forward-to-indentation): Do not deactivate zmacs
	region on usage.
	(backward-to-indentation): Ditto.

Thu Dec 12 14:22:55 1996  Christoph Wedler  <wedler@fmi.uni-passau.de>

	* prim/lisp.el (backward-up-list): Do not deactivate zmacs region
	on usage.

Wed Dec 11 20:26:21 1996  Barry A. Warsaw  <bwarsaw@CNRI.Reston.VA.US>

	* prim/files.el (set-auto-mode): Require a #! signature to set
	mode based on interpreter.

Wed Dec 11 13:25:50 1996  Steven L Baur  <steve@altair.xemacs.org>

	* packages/man.el (Manual-use-rosetta-man): Restore Neal Becker's
	Rosetta Man Patch.
	(Man-cleanup-manpage): Use it.

	* prim/simple.el (yank): Corrected a mistaken synch with Emacs
	19.34.

	* modes/eiffel3.el (eiffel-mode-syntax-table): Quote the semicolon
	syntax entry so update-autoloads doesn't barf.

	* packages/buff-menu.el (Buffer-menu-mode-map): Correct mouse key
	bindings.

Tue Dec 10 21:24:04 1996  Steven L Baur  <steve@altair.xemacs.org>

	* packages/ps-print.el (ps-do-despool): Allow dynamic expansion of
	`ps-lpr-switches'.

	* packages/lpr.el (print-region-1): Allow dynamic expansion of
	`lpr-switches'.

Tue Dec 10 18:30:01 1996  Rod Whitby  <rwhitby@asc.sps.mot.com>

	* modes/vhdl-mode.el: New File.

Tue Dec 10 17:59:35 1996  Shane Holder  <holder@rsn.hp.com>

	* utils/bench.el: New file.  Utility for benchmarking emacs
	performance.

Tue Dec 10 10:11:55 1996  Steven L Baur  <steve@altair.xemacs.org>

	* electric/ebuff-menu.el (electric-buffer-menu-mode-map): Correct
	bad 19.34 synch patch.

	* utils/pretty-print.el: New File.

Sun Dec  8 13:59:40 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/files-nomule.el: Documentation corrections.

	* prim/files.el: Synch to 19.15/Emacs 19.34.

Sat Dec  7 18:48:34 1996  Steven L Baur  <steve@altair.xemacs.org>

	* packages/hexl.el (hexl-mode-map): Corrected obsolescent key
	names introduced in 19.15-b2.

Fri Dec  6 20:17:47 1996  Steven L Baur  <steve@altair.xemacs.org>

	* games/yow.el: Sync to GNU Emacs 19.34.

	* games/studly.el: Documentation fixes.

	* games/spook.el: Sync to GNU Emacs 19.34.

	* games/mpuz.el: Sync to GNU Emacs 19.34.

	* games/life.el: Sync to GNU Emacs 19.34.

	* games/hanoi.el: Sync to GNU Emacs 19.34.

	* games/flame.el: Documentation fixes.

	* games/dunnet.el: Sync to GNU Emacs 19.34.

	* games/doctor.el: Sync to GNU Emacs 19.34.

	* games/dissociate.el: Sync to GNU Emacs 19.34.

	* games/cookie1.el: Sync to GNU Emacs 19.34.

	* games/conx.el: Documentation fixes.

	* games/blackbox.el: Sync to GNU Emacs 19.34.

	* games/NeXTify.el: Documentation fixes.

	* packages/man.el: New file/replacement from Emacs 19.34.

	* packages/man-xref.el: New file from Emacs 19.35.

	* utils/smtpmail.el: New file from Emacs 19.34.

Fri Dec  6 09:28:04 1996  ~~ ~~/MORIOKA Tomohiko <morioka@jaist.ac.jp>

	* prim/startup.el (set-default-load-path): Set default-load-path
	dynamically since file-detect.el is dumped with XEmacs.

Thu Dec  5 20:37:32 1996  Steven L Baur  <steve@altair.xemacs.org>

	* emulators/tpu-mapper.el: Total replacement with version in GNU
	Emacs 19.34.

	* emulators/tpu-extras.el: Total replacement with version in GNU
	Emacs 19.34.

	* emulators/tpu-edt.el: Total replacement with version in GNU Emacs
	19.34.

	* comint/history.el: Documentation fixes.

	* comint/gdb.el: Documentation fixes.

	* comint/dbx.el: Documentation fixes.

	* comint/background.el: Documentation fixes.

	* rmail/rmail-xemacs.el: Documentation fixes.

	* rmail/rmail-kill.el: Documentation fixes.

	* emulators/ws-mode.el: Synch up to Emacs 19.34.

	* emulators/teco.el: Documentation cleanup.

	* emulators/mlsupport.el: Synch up to Emacs 19.34.

	* emulators/mlconvert.el: Synch up to Emacs 19.34.

	* emulators/edt-vt100.el: New file from Emacs 19.34.

	* emulators/edt-pc.el: New file from Emacs 19.34.

	* emulators/edt-mapper.el: New file from Emacs 19.34.

	* emulators/edt-lk201.el: New file from Emacs 19.34.

	* emulators/edt.el: Synched up to Emacs 19.34.

Thu Dec  5 12:09:19 1996  Lars Magne Ingebrigtsen  <larsi@ifi.uio.no>

	* prim/replace.el (match-string): Use a function instead of a
 	macro to be compatible with .elc files compiled under Emacs.

Thu Dec  5 09:50:12 1996  Bob Weiner <weiner@infodock.com>

	* utils/id-select.el: New file -- Version 1.4.3.

Thu Dec  5 09:17:53 1996  Gary D. Foster  <Gary.Foster@corp.sun.com>

	* emulators/crisp.el: New file.

	* emulators/scroll-lock.el: New file.

Thu Dec  5 00:15:59 1996  Steven L Baur  <steve@altair.xemacs.org>

	* prim/help.el: A callable library-type function should not
 	contain an unprotected print statement.  This change implements my
 	version of Erik Naggum's statement about locate-library being less
 	chatty in Emacs 19.35.

Wed Dec  4 22:00:49 1996  Steven L Baur  <steve@altair.xemacs.org>

	* utils/flow-ctrl.el: Synch up to Emacs 19.34.

	* utils/forms.el: Synch up to Emacs 19.34.

	* packages/column.el: Allow column numbers to start at one.

	* prim/userlock.el: Synch up to Emacs 19.34.

	* prim/paragraphs.el: Synch up to Emacs 19.34.

	* prim/page.el: Synch up to Emacs 19.34.

	* prim/options.el: Synch up to Emacs 19.34.

	* prim/novice.el: Synch up to Emacs 19.34.

	* prim/rect.el: Sync up to Emacs 19.34.

	* prim/reposition.el: Synch up to Emacs 19.34.

	* prim/replace.el: Synch up to Emacs 19.34.

	* prim/register.el: Synch up to Emacs 19.34.

	* prim/indent.el: Synch up to Emacs 19.34.

	* prim/subr.el: Synch up to Emacs 19.34.

	* prim/simple.el: Synch up to Emacs 19.34.

	* prim/debug.el: Synch up to Emacs 19.34.

	* edebug/cl-specs.el: Comment formatting changes.

	* edebug/cl-read.el: Protect advisement of eval-region from being
 	evaluated more than once.

	Comment formatting changes.

	* edebug/advise-eval-region.el: New File.  Separate out advise for
	eval-region so it is only evaluated once.

	* packages/icomplete.el: Fix a bug in locating command bound to key.

	icomplete-exhibit needs to be called in the setup-hook.

	* packages/apropos.el: Correct a typo in button binding.

	Fixes the bug where if apropos-label-face is actually defined as
 	face, apropos bombs with an error

	Do a (provide 'apropos), like all packages should.

	Provides an apropos-mode-hook for Apropos Mode buffers (otherwise
 	customization is unnecessarily painful).

	Redefines the default faces for the various apropos faces so they
 	come out in color by default (defaults are based on various
 	standard font-lock faces).

	* version.el: Bumped up to b31.
